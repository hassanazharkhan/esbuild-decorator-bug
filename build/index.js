var Pg=Object.create;var ur=Object.defineProperty;var jc=Object.getOwnPropertyDescriptor;var Og=Object.getOwnPropertyNames;var Mg=Object.getPrototypeOf,Lg=Object.prototype.hasOwnProperty;var Kc=t=>ur(t,"__esModule",{value:!0}),s=(t,e)=>ur(t,"name",{value:e,configurable:!0}),r0=typeof require!="undefined"?require:t=>{throw new Error('Dynamic require of "'+t+'" is not supported')};var v=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),kg=(t,e)=>{Kc(t);for(var r in e)ur(t,r,{get:e[r],enumerable:!0})},Fg=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Og(e))!Lg.call(t,n)&&n!=="default"&&ur(t,n,{get:()=>e[n],enumerable:!(r=jc(e,n))||r.enumerable});return t},Wc=t=>Fg(Kc(ur(t!=null?Pg(Mg(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),Mn=(t,e,r,n)=>{for(var i=n>1?void 0:n?jc(e,r):e,a=t.length-1,o;a>=0;a--)(o=t[a])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&ur(e,r,i),i};var Se=v((s0,kn)=>{var Gc,Hc,Xc,zc,$c,Yc,Jc,Qc,Zc,Ln,hs,el,tl,cr,rl,nl,il,sl,al,ol,ul,cl,ll;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof kn=="object"&&typeof kn.exports=="object"?t(r(e,r(kn.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}s(r,"createExporter")})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};Gc=s(function(r,n){e(r,n);function i(){this.constructor=r}s(i,"__"),r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},"__extends"),Hc=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Xc=s(function(r,n){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&n.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(i[a[o]]=r[a[o]]);return i},"__rest"),zc=s(function(r,n,i,a){var o=arguments.length,u=o<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,i):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,i,a);else for(var p=r.length-1;p>=0;p--)(c=r[p])&&(u=(o<3?c(u):o>3?c(n,i,u):c(n,i))||u);return o>3&&u&&Object.defineProperty(n,i,u),u},"__decorate"),$c=s(function(r,n){return function(i,a){n(i,a,r)}},"__param"),Yc=s(function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},"__metadata"),Jc=s(function(r,n,i,a){function o(u){return u instanceof i?u:new i(function(c){c(u)})}return s(o,"adopt"),new(i||(i=Promise))(function(u,c){function p(T){try{m(a.next(T))}catch(D){c(D)}}s(p,"fulfilled");function h(T){try{m(a.throw(T))}catch(D){c(D)}}s(h,"rejected");function m(T){T.done?u(T.value):o(T.value).then(p,h)}s(m,"step"),m((a=a.apply(r,n||[])).next())})},"__awaiter"),Qc=s(function(r,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,o,u,c;return c={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(m){return function(T){return h([m,T])}}function h(m){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,o&&(u=m[0]&2?o.return:m[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,m[1])).done)return u;switch(o=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,o=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){i.label=m[1];break}if(m[0]===6&&i.label<u[1]){i.label=u[1],u=m;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(m);break}u[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(r,i)}catch(T){m=[6,T],o=0}finally{a=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},"__generator"),ll=s(function(r,n,i,a){a===void 0&&(a=i),r[a]=n[i]},"__createBinding"),Zc=s(function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},"__exportStar"),Ln=s(function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],a=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),hs=s(function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var a=i.call(r),o,u=[],c;try{for(;(n===void 0||n-- >0)&&!(o=a.next()).done;)u.push(o.value)}catch(p){c={error:p}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(c)throw c.error}}return u},"__read"),el=s(function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(hs(arguments[n]));return r},"__spread"),tl=s(function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var a=Array(r),o=0,n=0;n<i;n++)for(var u=arguments[n],c=0,p=u.length;c<p;c++,o++)a[o]=u[c];return a},"__spreadArrays"),cr=s(function(r){return this instanceof cr?(this.v=r,this):new cr(r)},"__await"),rl=s(function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(r,n||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(_){a[_]&&(o[_]=function(S){return new Promise(function(q,A){u.push([_,S,q,A])>1||p(_,S)})})}function p(_,S){try{h(a[_](S))}catch(q){D(u[0][3],q)}}function h(_){_.value instanceof cr?Promise.resolve(_.value.v).then(m,T):D(u[0][2],_)}function m(_){p("next",_)}function T(_){p("throw",_)}function D(_,S){_(S),u.shift(),u.length&&p(u[0][0],u[0][1])}},"__asyncGenerator"),nl=s(function(r){var n,i;return n={},a("next"),a("throw",function(o){throw o}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(o,u){n[o]=r[o]?function(c){return(i=!i)?{value:cr(r[o](c)),done:o==="return"}:u?u(c):c}:u}},"__asyncDelegator"),il=s(function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof Ln=="function"?Ln(r):r[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(u){i[u]=r[u]&&function(c){return new Promise(function(p,h){c=r[u](c),o(p,h,c.done,c.value)})}}function o(u,c,p,h){Promise.resolve(h).then(function(m){u({value:m,done:p})},c)}},"__asyncValues"),sl=s(function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},"__makeTemplateObject"),al=s(function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},"__importStar"),ol=s(function(r){return r&&r.__esModule?r:{default:r}},"__importDefault"),ul=s(function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},"__classPrivateFieldGet"),cl=s(function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},"__classPrivateFieldSet"),t("__extends",Gc),t("__assign",Hc),t("__rest",Xc),t("__decorate",zc),t("__param",$c),t("__metadata",Yc),t("__awaiter",Jc),t("__generator",Qc),t("__exportStar",Zc),t("__createBinding",ll),t("__values",Ln),t("__read",hs),t("__spread",el),t("__spreadArrays",tl),t("__await",cr),t("__asyncGenerator",rl),t("__asyncDelegator",nl),t("__asyncValues",il),t("__makeTemplateObject",sl),t("__importStar",al),t("__importDefault",ol),t("__classPrivateFieldGet",ul),t("__classPrivateFieldSet",cl)})});var pl=v(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.DEFAULT_SESSION_VALIDITY_ENSURER=()=>Promise.resolve()});var fl=v(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.DEFAULT_TABLE_NAME_RESOLVER=t=>t});var dl=v(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.DEFAULT_LOG_RECEIVER=()=>{}});var bs=v(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});function Bg(t){if(t.S){let e=new Date(t.S);if(isNaN(e))throw new Error("given string is not a valid date string");return e}else throw new Error("there is no S(tring) value defiend on given attribute value")}s(Bg,"dateFromDb");function Ug(t){if(t&&t instanceof Date)return{S:`${t.toISOString()}`};throw new Error("the given model value must be an instance of Date")}s(Ug,"dateToDb");vs.dateToStringMapper={fromDb:Bg,toDb:Ug}});var lr=v(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});var jg=pl(),Kg=fl(),Wg=dl(),Vg=bs();_s.dynamoEasyConfig={dateMapper:Vg.dateToStringMapper,logReceiver:Wg.DEFAULT_LOG_RECEIVER,tableNameResolver:Kg.DEFAULT_TABLE_NAME_RESOLVER,sessionValidityEnsurer:jg.DEFAULT_SESSION_VALIDITY_ENSURER}});var hl=v(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});var Gg=lr();function Hg(t){if("logReceiver"in t&&typeof t.logReceiver!="function")throw new Error("Config.logReceiver has to be a function");if("dateMapper"in t&&(!t.dateMapper||typeof t.dateMapper.toDb!="function"||typeof t.dateMapper.fromDb!="function"))throw new Error("Config.dateMapper must be an object of type MapperForType");if("tableNameResolver"in t&&typeof t.tableNameResolver!="function")throw new Error("Config.tableNameResolver must be function");if("sessionValidityEnsurer"in t&&typeof t.sessionValidityEnsurer!="function")throw new Error("Config.sessionValidityEnsurer must be function");Object.assign(Gg.dynamoEasyConfig,t)}s(Hg,"updateDynamoEasyConfig");Ss.updateDynamoEasyConfig=Hg});var ml=v(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var Xg=Se();Xg.__exportStar(hl(),Es)});var Cs=v(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});function zg(t){return t!==null}s(zg,"notNull");Ts.notNull=zg});var Ir=v(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});function $g(t){return Object.prototype.toString.call(t)}s($g,"getTag");As.getTag=$g});var Dr=v(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var Yg;(function(t){t.OBJECT="[object Object]",t.STRING="[object String]",t.NUMBER="[object Number]",t.BOOLEAN="[object Boolean]"})(Yg=Fn.Tag||(Fn.Tag={}))});var yl=v(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var Jg=Ir(),Qg=Dr();function Zg(t){return typeof t=="boolean"||Jg.getTag(t)===Qg.Tag.BOOLEAN}s(Zg,"isBoolean");xs.isBoolean=Zg});var Is=v(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});var ev=Ir(),tv=Dr();function rv(t){return typeof t=="number"||ev.getTag(t)===tv.Tag.NUMBER}s(rv,"isNumber");ws.isNumber=rv});var Rs=v(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});var nv=Ir(),iv=Dr();function sv(t){return typeof t=="string"||nv.getTag(t)===iv.Tag.STRING}s(sv,"isString");Ds.isString=sv});var Bn=v(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var Ns=class{};s(Ns,"Binary");qs.Binary=Ns});var Un=v(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var Ps=class{};s(Ps,"NullType");Os.NullType=Ps});var jn=v(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var Ms=class{};s(Ms,"UndefinedType");Ls.UndefinedType=Ms});var Ht=v(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});var gl=yl(),vl=Is(),bl=Rs(),_l=Bn(),Sl=Un(),av=jn();function ov(t,e){return t&&t.name?`[${t.name}::${e}]`:`[unknown::${e}]`}s(ov,"getPropertyPath");Ee.getPropertyPath=ov;function El(t,e){return t?`${t} ${e}`:`${e}`}s(El,"messageWithPath");Ee.messageWithPath=El;var Tl=["Buffer","File","Blob","ArrayBuffer","DataView","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"];function Cl(t){if(Array.isArray(t))return"L";if(Rr(t))if(t.size){let{homogeneous:e,type:r}=Al(t);if(e)switch(r){case"S":return"SS";case"N":return"NS";case"B":return"BS";default:throw new Error('"Set<CustomType>" without decorator is not supported. Add the @CollectionProperty() decorator (optionally with {itemType:CustomType}) for a Set<->[L]ist mapping)')}else throw new Error('"Set with values of different types without decorator is not supported. Use an array instead.')}else return"SS";else throw new Error("given collection was neither array nor Set -> type could not be detected")}s(Cl,"detectCollectionTypeFromValue");Ee.detectCollectionTypeFromValue=Cl;function Al(t){let e=Rr(t)?Array.from(t):t,r=e.length?ks(e[0]):null,n=!0;for(let i of e)if(ks(i)!==r){n=!1;break}return n?{homogeneous:!0,type:r}:{homogeneous:!1}}s(Al,"isHomogeneous");Ee.isHomogeneous=Al;function xl(t){return t&&(Array.isArray(t)||Rr(t))}s(xl,"isCollection");Ee.isCollection=xl;function Rr(t){return t!=null&&t.hasOwnProperty("name")&&t.name==="Set"||t instanceof Set}s(Rr,"isSet");Ee.isSet=Rr;function ks(t){if(bl.isString(t))return"S";if(vl.isNumber(t))return"N";if(Fs(t))return"B";if(t===null)return"NULL";if(gl.isBoolean(t))return"BOOL";if(xl(t))return Cl(t);if(typeof t=="object")return"M";throw new Error(`the type for value ${t} could not be detected.`)}s(ks,"detectType");Ee.detectType=ks;function uv(t,e){if(t===null)return Sl.NullType;if(Array.isArray(t))return Array;if(Rr(t))return Set;if(t instanceof Map)return Map;if(Fs(t))return _l.Binary;if(bl.isString(t))return String;if(vl.isNumber(t))return Number;if(gl.isBoolean(t))return Boolean;if(typeof t=="undefined")return av.UndefinedType;if(typeof t=="object")return Object;throw new Error(El(e,`typeof data ${t} could not be detected`))}s(uv,"typeOf");Ee.typeOf=uv;function cv(t){if(t)switch(Object.keys(t)[0]){case"S":return String;case"N":return Number;case"B":return _l.Binary;case"BOOL":return Boolean;case"SS":case"NS":case"BS":return Set;case"L":return Array;case"M":return Object;case"NULL":return Sl.NullType}throw new Error(`could not resolve the dynamo db type for attribute value ${t}`)}s(cv,"typeOfFromDb");Ee.typeOfFromDb=cv;function Fs(t){return Dl()?Buffer.isBuffer(t):Tl.some(e=>t!==void 0&&t.constructor&&(wl(t,e)||Bs(t.constructor)===e))}s(Fs,"isBinary");Ee.isBinary=Fs;function lv(t){return Tl.includes(t)}s(lv,"isBufferType");Ee.isBufferType=lv;function wl(t,e){return typeof e=="function"&&(e=Bs(e)),Object.prototype.toString.call(t)===`[object ${e}]`}s(wl,"isType");Ee.isType=wl;var Il=new Function("try {return this===window;}catch(e){ return false;}")();function pv(){return Il}s(pv,"isBrowser");Ee.isBrowser=pv;function Dl(){return!Il}s(Dl,"isNode");Ee.isNode=Dl;function Bs(t){if(t!=null){if(Object.prototype.hasOwnProperty.call(t,"name"))return t.name;{let e=t.toString(),r=e.match(/^\s*function (.+)\(/);return r?r[1]:e}}else{if(t===null)return"Null";if(t===void 0)return"Undefined"}throw new Error(`was not able to resolve type name for type ${t}`)}s(Bs,"typeName");Ee.typeName=Bs});var Pl=v(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});var Rl=Cs(),fv=Ht();function Us(t){return e=>({L:e.map(n=>t.toDb(n)).filter(Rl.notNull)})}s(Us,"arrayToListAttribute");at.arrayToListAttribute=Us;function js(t){return e=>e.L.map(r=>t.fromDb(r))}s(js,"listAttributeToArray");at.listAttributeToArray=js;function Ks(t){return e=>{switch(Object.keys(e)[0]){case"SS":return e.SS.map(r=>t.fromDb({S:r}));case"NS":return e.NS.map(r=>t.fromDb({N:r}));case"BS":return e.BS.map(r=>t.fromDb({B:r}));default:throw new Error(`given attribute (${JSON.stringify(e)}) value is not a SetAttribute`)}}}s(Ks,"setAttributeToArray");at.setAttributeToArray=Ks;function Ws(t){return e=>{let r=e.map(n=>t.toDb(n)).filter(Rl.notNull);if(r.length===0)return null;switch(Object.keys(r[0])[0]){case"S":return{SS:r.map(n=>n.S)};case"N":return{NS:r.map(n=>n.N)};case"B":return{BS:r.map(n=>n.B)};default:throw new Error("values given are not of type string, number or binary after applying the custom mapper")}}}s(Ws,"arrayToSetAttribute");at.arrayToSetAttribute=Ws;function Nl(t){return e=>{if(!fv.isSet(e))throw new Error(`provided argument (${JSON.stringify(e)}) is neither a Set nor an Array`);return t([...e])}}s(Nl,"spreadSetAndApplyToFn");function ql(t){return e=>new Set(t(e))}s(ql,"applyFnWrapWithSet");function dv(t){return{fromDb:Ks(t),toDb:Ws(t)}}s(dv,"wrapMapperForDynamoSetJsArray");at.wrapMapperForDynamoSetJsArray=dv;function hv(t){return{fromDb:ql(Ks(t)),toDb:Nl(Ws(t))}}s(hv,"wrapMapperForDynamoSetJsSet");at.wrapMapperForDynamoSetJsSet=hv;function mv(t){return{fromDb:js(t),toDb:Us(t)}}s(mv,"wrapMapperForDynamoListJsArray");at.wrapMapperForDynamoListJsArray=mv;function yv(t){return{fromDb:ql(js(t)),toDb:Nl(Us(t))}}s(yv,"wrapMapperForDynamoListJsSet");at.wrapMapperForDynamoListJsSet=yv});var Kn=v(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.KEY_TYPE="design:type";It.KEY_PARAMETER="design:paramtypes";It.KEY_RETURN_TYPE="design:returntype";It.getMetadataType=Ol(It.KEY_TYPE);function Ol(t){return(e,r)=>Reflect.getMetadata(t,e,r)}s(Ol,"makeMetadataGetter");It.makeMetadataGetter=Ol});var Nr=v(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.KEY_PROPERTY="sc-reflect:property"});var Dt=v(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var gv=Kn(),Ml=Nr();function vv(t={},e,r){let n,i=Reflect.getMetadata(Ml.KEY_PROPERTY,e.constructor)||[],a=i.find(o=>o.name===r);a?(n=Object.assign({},a,t),i=i.filter(o=>o!==a)):n=bv(t,e,r),Reflect.defineMetadata(Ml.KEY_PROPERTY,[...i,n],e.constructor)}s(vv,"initOrUpdateProperty");Gs.initOrUpdateProperty=vv;function bv(t={},e,r){let n=gv.getMetadataType(e,r);if(n===void 0)throw new Error("make sure you have enabled the typescript compiler options which enable us to work with decorators (see doc)");return t=Object.assign({name:r,nameDb:r,typeInfo:{type:n}},t),t}s(bv,"createNewProperty")});var Ll=v(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});var Wn=Pl(),_v=Kn(),Sv=Dt();function Ev(t={}){return(e,r)=>{if(typeof r=="string"){let n=_v.getMetadataType(e,r);if(n===void 0)throw new Error("make sure you have enabled the typescript compiler options which enable us to work with decorators (see doc)");if(n!==Set&&n!==Array)throw new Error(`[${e.constructor.name}::${r}] The CollectionProperty decorator is meant for properties of type Set or Array`);let i={name:r,nameDb:t&&t.name||r,typeInfo:{type:n},isSortedCollection:!!t.sorted},a="itemType"in t&&!!t.itemType,o="itemMapper"in t&&!!t.itemMapper;if(o&&a)throw new Error(`[${e.constructor.name}::${r}] provide either itemType or itemMapper, not both`);if(a&&(i.typeInfo.genericType=t.itemType),o){let u=t.itemMapper,c=n===Array?t.sorted?Wn.wrapMapperForDynamoListJsArray(u):Wn.wrapMapperForDynamoSetJsArray(u):t.sorted?Wn.wrapMapperForDynamoListJsSet(u):Wn.wrapMapperForDynamoSetJsSet(u);i.mapper=()=>c,i.mapperForSingleItem=()=>u}Sv.initOrUpdateProperty(i,e,r)}}}s(Ev,"CollectionProperty");Hs.CollectionProperty=Ev});var kl=v(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});var Tv=lr(),Cv=Dt();function Av(t={}){return(e,r)=>{if(typeof r=="string"){let n={name:r,nameDb:t.name||r,mapper:()=>Tv.dynamoEasyConfig.dateMapper};Cv.initOrUpdateProperty(n,e,r)}}}s(Av,"DateProperty");Xs.DateProperty=Av});var pr=v(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var xv;(function(t){t[t.GSI=0]="GSI",t[t.LSI=1]="LSI"})(xv=Vn.IndexType||(Vn.IndexType={}))});var Gn=v(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});var wv=Dt(),Iv=Nr(),Fl=pr();function Dv(t,e,r,n){let a=(Reflect.getMetadata(Iv.KEY_PROPERTY,r.constructor)||[]).find(u=>u.name===n),o;switch(t){case Fl.IndexType.GSI:o=Rv(a&&a.keyForGSI?a.keyForGSI:{},e);break;case Fl.IndexType.LSI:o=Nv(a&&a.sortKeyForLSI?a.sortKeyForLSI:[],e);break;default:throw new Error(`unsupported index type ${t}`)}wv.initOrUpdateProperty(o,r,n)}s(Dv,"initOrUpdateIndex");zs.initOrUpdateIndex=Dv;function Rv(t,e){return t[e.name]||(t[e.name]=e.keyType),{keyForGSI:t}}s(Rv,"initOrUpdateGSI");function Nv(t,e){return t.push(e.name),{sortKeyForLSI:t}}s(Nv,"initOrUpdateLSI")});var Bl=v($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});var qv=pr(),Pv=Gn();function Ov(t){return(e,r)=>{typeof r=="string"&&Pv.initOrUpdateIndex(qv.IndexType.GSI,{name:t,keyType:"HASH"},e,r)}}s(Ov,"GSIPartitionKey");$s.GSIPartitionKey=Ov});var Ul=v(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});var Mv=pr(),Lv=Gn();function kv(t){return(e,r)=>{typeof r=="string"&&Lv.initOrUpdateIndex(Mv.IndexType.GSI,{name:t,keyType:"RANGE"},e,r)}}s(kv,"GSISortKey");Ys.GSISortKey=kv});var jl=v(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});var Fv=pr(),Bv=Gn();function Uv(t){return(e,r)=>{typeof r=="string"&&Bv.initOrUpdateIndex(Fv.IndexType.LSI,{name:t,keyType:"RANGE"},e,r)}}s(Uv,"LSISortKey");Js.LSISortKey=Uv});var Qs=v(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});var jv;(function(t){t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG",t[t.VERBOSE=5]="VERBOSE"})(jv=Hn.LogLevel||(Hn.LogLevel={}))});var je=v($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});var Kl=lr(),Rt=Qs();function Xn(t,e,r){return(n,i)=>{Kl.dynamoEasyConfig.logReceiver({className:t,modelConstructor:e,level:r,message:n,data:i,timestamp:Date.now()})}}s(Xn,"getLogFn");function zn(t,e){return(r,n,i)=>{Kl.dynamoEasyConfig.logReceiver({className:t,modelConstructor:n&&n.name||"NO_MODEL",level:e,message:r,data:i,timestamp:Date.now()})}}s(zn,"getOptModelLogFn");function Kv(t,e){return{warn:Xn(t,e.name,Rt.LogLevel.WARNING),info:Xn(t,e.name,Rt.LogLevel.INFO),debug:Xn(t,e.name,Rt.LogLevel.DEBUG),verbose:Xn(t,e.name,Rt.LogLevel.VERBOSE)}}s(Kv,"createLogger");$n.createLogger=Kv;function Wv(t){return{warn:zn(t,Rt.LogLevel.WARNING),info:zn(t,Rt.LogLevel.INFO),debug:zn(t,Rt.LogLevel.DEBUG),verbose:zn(t,Rt.LogLevel.VERBOSE)}}s(Wv,"createOptModelLogger");$n.createOptModelLogger=Wv});var Wl=v(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});var Vv=je(),Gv=Dt(),Hv=Nr(),Xv=Vv.createOptModelLogger("@PartitionKey");function zv(){return(t,e)=>{if(typeof e=="string"){let r=Reflect.getMetadata(Hv.KEY_PROPERTY,t.constructor)||[];if(r&&r.length&&r.filter(i=>i.key&&i.key.type==="HASH").length)if(r.find(i=>i.name===e))Xv.warn(`this is the second execution to define the partitionKey for property ${e}`,t.constructor);else throw new Error("only one partition key is allowed per model, if you want to define key for indexes use one of these decorators: @GSIPartitionKey,  @GSISortKey or @LSISortKey");Gv.initOrUpdateProperty({key:{type:"HASH"}},t,e)}}}s(zv,"PartitionKey");Zs.PartitionKey=zv});var Vl=v(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var $v=Dt();function Yv(){return(t,e)=>{typeof e=="string"&&$v.initOrUpdateProperty({key:{type:"RANGE"}},t,e)}}s(Yv,"SortKey");ea.SortKey=Yv});var Gl=v(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});var Jv=/[\s\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~]+/,Qv=/[A-Z\u00C0-\u00D6\u00D9-\u00DD]/g;function Zv(t){return t.replace(Qv,e=>" "+(e.toLowerCase()||e)).trim().split(Jv).join("-")}s(Zv,"kebabCase");ta.kebabCase=Zv});var Hl=v(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.modelErrors={gsiMultiplePk:(t,e)=>`there is already a partition key defined for global secondary index ${t} (property name: ${e})`,gsiMultipleSk:(t,e)=>`there is already a sort key defined for global secondary index ${t} (property name: ${e})`,lsiMultipleSk:(t,e)=>`only one sort key can be defined for the same local secondary index, ${e} is already defined as sort key for index ${t}`,lsiRequiresPk:(t,e)=>`the  local secondary index ${t} requires the partition key to be defined`}});var ia=v(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.KEY_MODEL="sc-reflect:model"});var Xl=v(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});var eb=Gl(),sa=Nr(),Yn=Hl(),tb=ia();function rb(t={}){return e=>{let r=e,n=(Reflect.hasOwnMetadata(sa.KEY_PROPERTY,e)?Reflect.getOwnMetadata(sa.KEY_PROPERTY,e):Reflect.getMetadata(sa.KEY_PROPERTY,e))||[],i=n.filter(m=>m.key&&m.key.type==="HASH"),a=i.length?i[0].nameDb:null,o=sb(n),u=ab(a,n),c=new Map([...o,...u]),p=n.length?n.filter(m=>m.transient===!0).map(m=>m.name):[],h=Object.assign({clazz:e,clazzName:r.name,tableName:`${eb.kebabCase(r.name)}s`,properties:n,transientProperties:p,indexes:c},t);Reflect.defineMetadata(tb.KEY_MODEL,h,e)}}s(rb,"Model");aa.Model=rb;function nb(t){return!!(t.keyForGSI&&Object.keys(t.keyForGSI).length)}s(nb,"testForGSI");function ib(t){return!!(t.sortKeyForLSI&&t.sortKeyForLSI.length)}s(ib,"testForLSI");function sb(t){return t.filter(nb).reduce((e,r)=>{let n;return Object.keys(r.keyForGSI).forEach(i=>{switch(e.has(i)?n=e.get(i):n={},r.keyForGSI[i]){case"HASH":if(n.partitionKey)throw new Error(Yn.modelErrors.gsiMultiplePk(i,r.nameDb));n.partitionKey=r.nameDb;break;case"RANGE":if(n.sortKey)throw new Error(Yn.modelErrors.gsiMultipleSk(i,r.nameDb));n.sortKey=r.nameDb;break}e.set(i,n)}),e},new Map)}s(sb,"getGlobalSecondaryIndexes");function ab(t,e){return e.filter(ib).reduce((r,n)=>{let i;return n.sortKeyForLSI.forEach(a=>{if(r.has(a))throw new Error(Yn.modelErrors.lsiMultipleSk(a,n.nameDb));if(!t)throw new Error(Yn.modelErrors.lsiRequiresPk(a,n.nameDb));i={partitionKey:t,sortKey:n.nameDb},r.set(a,i)}),r},new Map)}s(ab,"getLocalSecondaryIndexes")});var zl=v(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var ob=Dt();function ub(t={}){return(e,r)=>{if(typeof r=="string"){let n={name:r,nameDb:t.name||r,defaultValueProvider:t.defaultValueProvider};if("mapper"in t&&!!t.mapper){let i=t.mapper;n.mapper=()=>i}ob.initOrUpdateProperty(n,e,r)}}}s(ub,"Property");oa.Property=ub});var $l=v(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var cb=Dt();function lb(){return(t,e)=>{typeof e=="string"&&cb.initOrUpdateProperty({transient:!0},t,e)}}s(lb,"Transient");ua.Transient=lb});var Yl=v(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});var Ye=Se();Ye.__exportStar(Ll(),Fe);Ye.__exportStar(kl(),Fe);Ye.__exportStar(Bl(),Fe);Ye.__exportStar(Ul(),Fe);Ye.__exportStar(jl(),Fe);Ye.__exportStar(pr(),Fe);Ye.__exportStar(Wl(),Fe);Ye.__exportStar(Vl(),Fe);Ye.__exportStar(Xl(),Fe);Ye.__exportStar(zl(),Fe);Ye.__exportStar($l(),Fe)});var ca=v(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.NESTED_ATTR_PATH_CAPTURED_REGEX=/([a-z0-9A-Z_]+)(?:\[(\d+)])?\.?/g;Jn.NESTED_ATTR_PATH_REGEX=/^.+((\[(\d+)])|(\.)).*$/});var fr=v(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});var Jl=ca(),pb=ia();function fb(t){return t.getSortKey()!==null}s(fb,"hasSortKey");Qn.hasSortKey=fb;var Xt=class{constructor(e){this.modelOptions=Reflect.getMetadata(pb.KEY_MODEL,e)}static findMetaDataForProperty(e,r){return e.properties.find(n=>n.name===r||n.nameDb===r)}forProperty(e){if(this.modelOptions.properties.length!==0)if(typeof e=="string"&&Jl.NESTED_ATTR_PATH_REGEX.test(e)){let r=new RegExp(Jl.NESTED_ATTR_PATH_CAPTURED_REGEX),n,i=this.modelOptions,a,o="";for(;(n=r.exec(e))!==null&&(o=n[1],a=Xt.findMetaDataForProperty(i,o),a&&a.typeInfo);)i=new Xt(a.typeInfo.genericType||a.typeInfo.type).modelOptions;if(a&&(o===a.name||o===a.nameDb))return a}else return Xt.findMetaDataForProperty(this.modelOptions,e)}getPropertiesWithDefaultValueProvider(){return Ql(this.modelOptions,e=>!!e.defaultValueProvider,[])}getPartitionKey(e){if(e){let r=this.getIndex(e);if(r){if(r.partitionKey)return r.partitionKey;throw new Error("the index exists but no partition key for it was defined. use @GSIPartitionKey(indexName)")}else throw new Error(`there is no index defined for name ${e}`)}else{let r=Zl(this.modelOptions,n=>!!(n.key&&n.key.type==="HASH"));if(r)return r.name;throw new Error("could not find any partition key")}}getSortKey(e){if(e){let r=this.getIndex(e);if(r){if(r.sortKey)return r.sortKey;throw new Error(`there is no sort key defined for index ${e}`)}else throw new Error(`there is no index defined for name ${e}`)}else{let r=Zl(this.modelOptions,n=>!!(n.key&&n.key.type==="RANGE"));return r?r.name:null}}getIndexes(){return Array.from(this.modelOptions.indexes.values())}getIndex(e){return this.modelOptions.indexes.get(e)||null}};s(Xt,"Metadata");Qn.Metadata=Xt;function Ql(t,e,r){if(t){let n=t.properties.filter(e);if(n.length)return n}return r}s(Ql,"filterBy");function Zl(t,e){let r=Ql(t,e,null);return r&&r.length?r[0]:null}s(Zl,"filterByFirst")});var Nt=v(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var db=fr();function hb(t){return new db.Metadata(t)}s(hb,"metadataForModel");la.metadataForModel=hb});var qt=v(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});function ep(t){return!!(t&&t.typeInfo&&t.typeInfo.genericType)}s(ep,"hasGenericType");qr.hasGenericType=ep;function mb(t){return!!(t&&t.typeInfo&&t.typeInfo.type)}s(mb,"hasType");qr.hasType=mb;function yb(t){if(!!t)return t.mapper&&t.mapperForSingleItem?Object.assign({},t,{mapper:t.mapperForSingleItem}):t.typeInfo&&(t.typeInfo.type===Set||t.typeInfo.type===Array)?ep(t)?Object.assign({},t,{typeInfo:{type:t.typeInfo.genericType}}):void 0:Object.assign({},t)}s(yb,"alterCollectionPropertyMetadataForSingleItem");qr.alterCollectionPropertyMetadataForSingleItem=yb});var tp=v(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});var pa=Se();pa.__exportStar(fr(),Pr);pa.__exportStar(Nt(),Pr);pa.__exportStar(qt(),Pr)});var rp=v(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});var fa=Se();fa.__exportStar(Yl(),Or);fa.__exportStar(tp(),Or);fa.__exportStar(Kn(),Or)});var Mr=v(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});function*gb(){let t=0;for(;;)yield(Math.pow(2,Math.round(Math.random()*++t))-1)/2}s(gb,"randomExponentialBackoffTimer");da.randomExponentialBackoffTimer=gb});var ma=v(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});function vb(t){if(t.BOOL===void 0)throw new Error(`there is no BOOL(ean) value defined on given attribute value: ${JSON.stringify(t)}`);return t.BOOL===!0}s(vb,"booleanFromDb");function bb(t){if(!(t===!0||t===!1))throw new Error(`only boolean values are mapped to a BOOl attribute, given: ${JSON.stringify(t)}`);return{BOOL:t}}s(bb,"booleanToDb");ha.BooleanMapper={fromDb:vb,toDb:bb}});var va=v(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var ya=qt(),_b=Cs(),Zn=pe(),Lr=Ht();function Sb(t,e){let r=e&&e.typeInfo?e.typeInfo.type:null,n;if("L"in t)return ya.hasGenericType(e)?n=t.L.map(i=>Zn.fromDb(i.M,e.typeInfo.genericType)):n=t.L.map(i=>Zn.fromDbOne(i)),r&&r===Set?new Set(n):n;if("SS"in t)n=t.SS;else if("NS"in t)n=t.NS.map(parseFloat);else if("BS"in t)n=t.BS;else throw new Error(`No Collection Data (SS | NS | BS | L) was found in attribute data, given attributeValue: ${JSON.stringify(t)}`);return r&&r===Array?n:new Set(n)}s(Sb,"collectionFromDb");function Eb(t,e){if(!(Array.isArray(t)||Lr.isSet(t)))throw new Error(`Given value must be either Array or Set ${JSON.stringify(t)}`);let r;if(e?r=Tb(e,t):r=Lr.detectCollectionTypeFromValue(t),t=Lr.isSet(t)?Array.from(t):t,r!=="L"&&t.length===0)return null;switch(r){case"SS":return{SS:t};case"NS":return{NS:t.map(n=>n.toString())};case"BS":return{BS:t};case"L":return ya.hasGenericType(e)?{L:t.map(n=>({M:Zn.toDb(n,e.typeInfo.genericType)}))}:{L:t.map(n=>Zn.toDbOne(n)).filter(_b.notNull)}}}s(Eb,"collectionToDb");ga.CollectionMapper={fromDb:Sb,toDb:Eb};function Tb(t,e){let r=t&&t.typeInfo?t.typeInfo.type:null;if(!(r===Array||r===Set))throw new Error(`only 'Array' and 'Set' are valid values for explicit type, found ${r} on value ${JSON.stringify(e)}`);if(t.isSortedCollection)return"L";if(ya.hasGenericType(t)){if(Lr.isBufferType(t.typeInfo.genericType))return"BS";switch(t.typeInfo.genericType){case String:return"SS";case Number:return"NS";default:return"L"}}if(r===Array)return"L";if([...e].length===0)return"SS";{let{homogeneous:n,type:i}=Lr.isHomogeneous(e);if(n)switch(i){case"S":return"SS";case"N":return"NS";case"B":return"BS"}return"L"}}s(Tb,"detectCollectionTypeFromMetadata")});var _a=v(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});function Cb(t){if(t.NULL)return null;throw new Error(`there is no NULL value defined on given attribute value: ${JSON.stringify(t)}`)}s(Cb,"nullFromDb");function Ab(t){if(t!==null)throw new Error(`null mapper only supports null value, got ${JSON.stringify(t)}`);return{NULL:!0}}s(Ab,"nullToDb");ba.NullMapper={fromDb:Cb,toDb:Ab}});var Ea=v(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});var xb=Is();function wb(t){if(t.N){let e=Number.parseFloat(t.N);if(isNaN(e))throw new Error(`value ${t.N} resolves to NaN when parsing using Number.parseFloat`);return e}else throw new Error(`there is no N(umber) value defined on given attribute value: ${JSON.stringify(t)}`)}s(wb,"numberFromDb");function Ib(t){if(!xb.isNumber(t))throw new Error(`this mapper only support values of type number, value given: ${JSON.stringify(t)}`);return isNaN(t)?null:{N:t.toString()}}s(Ib,"numberToDb");Sa.NumberMapper={fromDb:wb,toDb:Ib}});var Ca=v(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});var np=qt(),ei=pe();function Db(t,e){return np.hasType(e)?ei.fromDb(t.M,e.typeInfo.type):ei.fromDb(t.M)}s(Db,"objectFromDb");function Rb(t,e){let r;return np.hasType(e)?r=ei.toDb(t,e.typeInfo.type):r=ei.toDb(t),{M:r}}s(Rb,"objectToDb");Ta.ObjectMapper={fromDb:Db,toDb:Rb}});var xa=v(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});function Nb(t){if(t.S||t.S==="")return t.S;throw new Error(`there is no S(tring) value defined on given attribute value: ${JSON.stringify(t)}`)}s(Nb,"stringFromDb");function qb(t){return t==null?null:{S:t}}s(qb,"stringToDb");Aa.StringMapper={fromDb:Nb,toDb:qb}});var pe=v(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});var Pb=fr(),ti=Nt(),ip=qt(),Ob=je(),Mb=ma(),sp=va(),Lb=_a(),kb=Ea(),ap=Ca(),Fb=xa(),Bb=Bn(),Ub=Un(),jb=jn(),ri=Ht(),op=new Map,kr=Ob.createOptModelLogger("dynamo.mapper.mapper");function Kb(t,e){kr.verbose("map toDb",e,{item:t});let r={};if(e){let i=ti.metadataForModel(e);i&&i.getPropertiesWithDefaultValueProvider().forEach(a=>{let o=Reflect.get(t,a.name);o==null&&Reflect.set(t,a.name,a.defaultValueProvider())})}return(Object.getOwnPropertyNames(t)||[]).forEach(i=>{let a=Ia(t,i),o;if(a!=null){let u;e&&(u=ti.metadataForModel(e).forProperty(i)),u?u.transient||(o=dr(a,ri.getPropertyPath(e,i),u)):o=dr(a,ri.getPropertyPath(e,i)),o===void 0||o===null||(r[u?u.nameDb:i]=o)}}),r}s(Kb,"toDb");Je.toDb=Kb;function dr(t,e,r){kr.verbose("map toDbOne",null,{propertyValue:t,propertyPathOrMetadata:e,propertyMetadata:r});let n=e&&typeof e=="string"?e:null;r=e&&typeof e!="string"?e:r;let i=ip.hasType(r)?r.typeInfo.type:null,a=i||ri.typeOf(t,n),o=r&&r.mapper?r.mapper():ni(a),u=i?o.toDb(t,r):o.toDb(t);if(r&&r.key){if(u===null)throw new Error(`${r.name.toString()} is null but is a ${r.key.type} key`);if(!("S"in u)&&!("N"in u)&&!("B"in u))throw new Error(`DynamoDb only allows string, number or binary type for RANGE and HASH key. Make sure to define a custom mapper for '${r.name.toString()}' which returns a string, number or binary value for partition key, type ${a} cannot be used as partition key, value = ${JSON.stringify(t)}`)}return u}s(dr,"toDbOne");Je.toDbOne=dr;function Wb(t){return!!t.key}s(Wb,"testForKey");function up(t){let r=ti.metadataForModel(t).modelOptions.properties;if(!r.length)throw new Error("no properties defined on metadata");let n=r.filter(Wb);return i=>(kr.verbose("create key",null,{item:i,propertyMeta:n}),n.reduce((a,o)=>{if(i[o.name]===null||i[o.name]===void 0)throw new Error(`there is no value for property ${o.name.toString()} but is ${o.key.type} key`);let u=Ia(i,o.name);return a[o.nameDb]=dr(u,o),a},{}))}s(up,"createToKeyFn");Je.createToKeyFn=up;function Vb(t,e){return up(e)(t)}s(Vb,"toKey");Je.toKey=Vb;function Gb(t,e,r){let n=t.getPartitionKey(),i=t.forProperty(n);if(!i)throw new Error("metadata for partition key must be defined");let a={[i.nameDb]:dr(e,i)};if(Pb.hasSortKey(t)){if(r==null)throw new Error(`please provide the sort key for attribute ${t.getSortKey()}`);let o=t.getSortKey(),u=t.forProperty(o);if(!u)throw new Error("metadata for sort key must be defined");a[u.nameDb]=dr(r,u)}return a}s(Gb,"createKeyAttributes");Je.createKeyAttributes=Gb;function Hb(t,e){kr.verbose("parse fromDb",e,{attributeMap:t});let r={};return Object.getOwnPropertyNames(t).forEach(n=>{let i=t[n],a,o;e&&(o=ti.metadataForModel(e).forProperty(n)),o?o.transient||(o&&o.mapper?a=o.mapper().fromDb(i,o):a=wa(i,o)):a=wa(i),a!=null&&Reflect.set(r,o?o.name:n,a)}),r}s(Hb,"fromDb");Je.fromDb=Hb;function wa(t,e){kr.verbose("parse fromDbOne",null,{attributeValue:t,propertyMetadata:e});let r=ip.hasType(e)?e.typeInfo.type:null,n=r||ri.typeOfFromDb(t);return r?ni(n).fromDb(t,e):ni(n).fromDb(t)}s(wa,"fromDbOne");Je.fromDbOne=wa;function ni(t){let e=op.get(t);if(!e){switch(t){case String:e=Fb.StringMapper;break;case Number:e=kb.NumberMapper;break;case Boolean:e=Mb.BooleanMapper;break;case Map:throw new Error("Map is not supported to be mapped for now");case Array:e=sp.CollectionMapper;break;case Set:e=sp.CollectionMapper;break;case Ub.NullType:e=Lb.NullMapper;break;case Bb.Binary:throw new Error("no mapper for binary type implemented yet");case jb.UndefinedType:e=ap.ObjectMapper;break;case Object:default:e=ap.ObjectMapper}op.set(t,e)}return e}s(ni,"forType");Je.forType=ni;function Ia(t,e){let r=Object.getOwnPropertyDescriptor(t,e);if(r)return r.get?r.get():r.value;throw new Error(`there is no property descriptor for item ${JSON.stringify(t)} and property key ${e}`)}s(Ia,"getPropertyValue");Je.getPropertyValue=Ia});var si=v((sw,lp)=>{var Da=he();function cp(){}s(cp,"JsonBuilder");cp.prototype.build=function(t,e){return JSON.stringify(ii(t,e))};function ii(t,e){if(!(!e||t===void 0||t===null))switch(e.type){case"structure":return Xb(t,e);case"map":return $b(t,e);case"list":return zb(t,e);default:return Yb(t,e)}}s(ii,"translate");function Xb(t,e){if(e.isDocument)return t;var r={};return Da.each(t,function(n,i){var a=e.members[n];if(a){if(a.location!=="body")return;var o=a.isLocationName?a.name:n,u=ii(i,a);u!==void 0&&(r[o]=u)}}),r}s(Xb,"translateStructure");function zb(t,e){var r=[];return Da.arrayEach(t,function(n){var i=ii(n,e.member);i!==void 0&&r.push(i)}),r}s(zb,"translateList");function $b(t,e){var r={};return Da.each(t,function(n,i){var a=ii(i,e.value);a!==void 0&&(r[n]=a)}),r}s($b,"translateMap");function Yb(t,e){return e.toWireFormat(t)}s(Yb,"translateScalar");lp.exports=cp});var oi=v((aw,fp)=>{var Ra=he();function pp(){}s(pp,"JsonParser");pp.prototype.parse=function(t,e){return ai(JSON.parse(t),e)};function ai(t,e){if(!(!e||t===void 0))switch(e.type){case"structure":return Jb(t,e);case"map":return Zb(t,e);case"list":return Qb(t,e);default:return e_(t,e)}}s(ai,"translate");function Jb(t,e){if(t!=null){if(e.isDocument)return t;var r={},n=e.members;return Ra.each(n,function(i,a){var o=a.isLocationName?a.name:i;if(Object.prototype.hasOwnProperty.call(t,o)){var u=t[o],c=ai(u,a);c!==void 0&&(r[i]=c)}}),r}}s(Jb,"translateStructure");function Qb(t,e){if(t!=null){var r=[];return Ra.arrayEach(t,function(n){var i=ai(n,e.member);i===void 0?r.push(null):r.push(i)}),r}}s(Qb,"translateList");function Zb(t,e){if(t!=null){var r={};return Ra.each(t,function(n,i){var a=ai(i,e.value);a===void 0?r[n]=null:r[n]=a}),r}}s(Zb,"translateMap");function e_(t,e){return e.toType(t)}s(e_,"translateScalar");fp.exports=pp});var ui=v((ow,dp)=>{var Fr=he(),t_=K();function r_(t){var e=t.service.config.hostPrefixEnabled;if(!e)return t;var r=t.service.api.operations[t.operation];if(n_(t))return t;if(r.endpoint&&r.endpoint.hostPrefix){var n=r.endpoint.hostPrefix,i=i_(n,t.params,r.input);s_(t.httpRequest.endpoint,i),a_(t.httpRequest.endpoint.hostname)}return t}s(r_,"populateHostPrefix");function n_(t){var e=t.service.api,r=e.operations[t.operation],n=e.endpointOperation&&e.endpointOperation===Fr.string.lowerFirst(r.name);return r.endpointDiscoveryRequired!=="NULL"||n===!0}s(n_,"hasEndpointDiscover");function i_(t,e,r){return Fr.each(r.members,function(n,i){if(i.hostLabel===!0){if(typeof e[n]!="string"||e[n]==="")throw Fr.error(new Error,{message:"Parameter "+n+" should be a non-empty string.",code:"InvalidParameter"});var a=new RegExp("\\{"+n+"\\}","g");t=t.replace(a,e[n])}}),t}s(i_,"expandHostPrefix");function s_(t,e){t.host&&(t.host=e+t.host),t.hostname&&(t.hostname=e+t.hostname)}s(s_,"prependEndpointPrefix");function a_(t){var e=t.split("."),r=/^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/;Fr.arrayEach(e,function(n){if(!n.length||n.length<1||n.length>63)throw Fr.error(new Error,{code:"ValidationError",message:"Hostname label length should be between 1 to 63 characters, inclusive."});if(!r.test(n))throw t_.util.error(new Error,{code:"ValidationError",message:n+" is not hostname compatible."})})}s(a_,"validateHostname");dp.exports={populateHostPrefix:r_}});var ci=v((uw,hp)=>{var o_=he(),u_=si(),c_=oi(),l_=ui().populateHostPrefix;function p_(t){var e=t.httpRequest,r=t.service.api,n=r.targetPrefix+"."+r.operations[t.operation].name,i=r.jsonVersion||"1.0",a=r.operations[t.operation].input,o=new u_;i===1&&(i="1.0"),e.body=o.build(t.params||{},a),e.headers["Content-Type"]="application/x-amz-json-"+i,e.headers["X-Amz-Target"]=n,l_(t)}s(p_,"buildRequest");function f_(t){var e={},r=t.httpResponse;if(e.code=r.headers["x-amzn-errortype"]||"UnknownError",typeof e.code=="string"&&(e.code=e.code.split(":")[0]),r.body.length>0)try{var n=JSON.parse(r.body.toString()),i=n.__type||n.code||n.Code;i&&(e.code=i.split("#").pop()),e.code==="RequestEntityTooLarge"?e.message="Request body must be less than 1 MB":e.message=n.message||n.Message||null}catch(a){e.statusCode=r.statusCode,e.message=r.statusMessage}else e.statusCode=r.statusCode,e.message=r.statusCode.toString();t.error=o_.error(new Error,e)}s(f_,"extractError");function d_(t){var e=t.httpResponse.body.toString()||"{}";if(t.request.service.config.convertResponseTypes===!1)t.data=JSON.parse(e);else{var r=t.request.service.api.operations[t.request.operation],n=r.output||{},i=new c_;t.data=i.parse(e,n)}}s(d_,"extractData");hp.exports={buildRequest:p_,extractError:f_,extractData:d_}});var bp=v((cw,vp)=>{var Na=he();function mp(){}s(mp,"QueryParamSerializer");mp.prototype.serialize=function(t,e,r){gp("",t,e,r)};function yp(t){return t.isQueryName||t.api.protocol!=="ec2"?t.name:t.name[0].toUpperCase()+t.name.substr(1)}s(yp,"ucfirst");function gp(t,e,r,n){Na.each(r.members,function(i,a){var o=e[i];if(o!=null){var u=yp(a);u=t?t+"."+u:u,li(u,o,a,n)}})}s(gp,"serializeStructure");function h_(t,e,r,n){var i=1;Na.each(e,function(a,o){var u=r.flattened?".":".entry.",c=u+i+++".",p=c+(r.key.name||"key"),h=c+(r.value.name||"value");li(t+p,a,r.key,n),li(t+h,o,r.value,n)})}s(h_,"serializeMap");function m_(t,e,r,n){var i=r.member||{};if(e.length===0){n.call(this,t,null);return}Na.arrayEach(e,function(a,o){var u="."+(o+1);if(r.api.protocol==="ec2")u=u+"";else if(r.flattened){if(i.name){var c=t.split(".");c.pop(),c.push(yp(i)),t=c.join(".")}}else u="."+(i.name?i.name:"member")+u;li(t+u,a,i,n)})}s(m_,"serializeList");function li(t,e,r,n){e!=null&&(r.type==="structure"?gp(t,e,r,n):r.type==="list"?m_(t,e,r,n):r.type==="map"?h_(t,e,r,n):n(t,r.toWireFormat(e).toString()))}s(li,"serializeMember");vp.exports=mp});var qa=v((lw,_p)=>{var y_=he().memoizedProperty;function g_(t,e,r,n){y_(this,n(t),function(){return r(t,e)})}s(g_,"memoize");function v_(t,e,r,n,i){n=n||String;var a=this;for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(g_.call(a,o,t[o],r,n),i&&i(o,t[o]))}s(v_,"Collection");_p.exports=v_});var Br=v((pw,Ip)=>{var b_=qa(),ht=he();function V(t,e,r){r!=null&&ht.property.apply(this,arguments)}s(V,"property");function zt(t,e){t.constructor.prototype[e]||ht.memoizedProperty.apply(this,arguments)}s(zt,"memoizedProperty");function ae(t,e,r){e=e||{},V(this,"shape",t.shape),V(this,"api",e.api,!1),V(this,"type",t.type),V(this,"enum",t.enum),V(this,"min",t.min),V(this,"max",t.max),V(this,"pattern",t.pattern),V(this,"location",t.location||this.location||"body"),V(this,"name",this.name||t.xmlName||t.queryName||t.locationName||r),V(this,"isStreaming",t.streaming||this.isStreaming||!1),V(this,"requiresLength",t.requiresLength,!1),V(this,"isComposite",t.isComposite||!1),V(this,"isShape",!0,!1),V(this,"isQueryName",Boolean(t.queryName),!1),V(this,"isLocationName",Boolean(t.locationName),!1),V(this,"isIdempotent",t.idempotencyToken===!0),V(this,"isJsonValue",t.jsonvalue===!0),V(this,"isSensitive",t.sensitive===!0||t.prototype&&t.prototype.sensitive===!0),V(this,"isEventStream",Boolean(t.eventstream),!1),V(this,"isEvent",Boolean(t.event),!1),V(this,"isEventPayload",Boolean(t.eventpayload),!1),V(this,"isEventHeader",Boolean(t.eventheader),!1),V(this,"isTimestampFormatSet",Boolean(t.timestampFormat)||t.prototype&&t.prototype.isTimestampFormatSet===!0,!1),V(this,"endpointDiscoveryId",Boolean(t.endpointdiscoveryid),!1),V(this,"hostLabel",Boolean(t.hostLabel),!1),e.documentation&&(V(this,"documentation",t.documentation),V(this,"documentationUrl",t.documentationUrl)),t.xmlAttribute&&V(this,"isXmlAttribute",t.xmlAttribute||!1),V(this,"defaultValue",null),this.toWireFormat=function(n){return n??""},this.toType=function(n){return n}}s(ae,"Shape");ae.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"};ae.types={structure:Sp,list:Ep,map:Tp,boolean:wp,timestamp:__,float:S_,integer:E_,string:Cp,base64:xp,binary:Ap};ae.resolve=s(function(e,r){if(e.shape){var n=r.api.shapes[e.shape];if(!n)throw new Error("Cannot find shape reference: "+e.shape);return n}else return null},"resolve");ae.create=s(function(e,r,n){if(e.isShape)return e;var i=ae.resolve(e,r);if(i){var a=Object.keys(e);r.documentation||(a=a.filter(function(c){return!c.match(/documentation/)}));var o=s(function(){i.constructor.call(this,e,r,n)},"InlineShape");return o.prototype=i,new o}else{e.type||(e.members?e.type="structure":e.member?e.type="list":e.key?e.type="map":e.type="string");var u=e.type;if(ae.normalizedTypes[e.type]&&(e.type=ae.normalizedTypes[e.type]),ae.types[e.type])return new ae.types[e.type](e,r,n);throw new Error("Unrecognized shape type: "+u)}},"create");function Pa(t){ae.apply(this,arguments),V(this,"isComposite",!0),t.flattened&&V(this,"flattened",t.flattened||!1)}s(Pa,"CompositeShape");function Sp(t,e){var r=this,n=null,i=!this.isShape;Pa.apply(this,arguments),i&&(V(this,"defaultValue",function(){return{}}),V(this,"members",{}),V(this,"memberNames",[]),V(this,"required",[]),V(this,"isRequired",function(){return!1}),V(this,"isDocument",Boolean(t.document))),t.members&&(V(this,"members",new b_(t.members,e,function(a,o){return ae.create(o,e,a)})),zt(this,"memberNames",function(){return t.xmlOrder||Object.keys(t.members)}),t.event&&(zt(this,"eventPayloadMemberName",function(){for(var a=r.members,o=r.memberNames,u=0,c=o.length;u<c;u++)if(a[o[u]].isEventPayload)return o[u]}),zt(this,"eventHeaderMemberNames",function(){for(var a=r.members,o=r.memberNames,u=[],c=0,p=o.length;c<p;c++)a[o[c]].isEventHeader&&u.push(o[c]);return u}))),t.required&&(V(this,"required",t.required),V(this,"isRequired",function(a){if(!n){n={};for(var o=0;o<t.required.length;o++)n[t.required[o]]=!0}return n[a]},!1,!0)),V(this,"resultWrapper",t.resultWrapper||null),t.payload&&V(this,"payload",t.payload),typeof t.xmlNamespace=="string"?V(this,"xmlNamespaceUri",t.xmlNamespace):typeof t.xmlNamespace=="object"&&(V(this,"xmlNamespacePrefix",t.xmlNamespace.prefix),V(this,"xmlNamespaceUri",t.xmlNamespace.uri))}s(Sp,"StructureShape");function Ep(t,e){var r=this,n=!this.isShape;if(Pa.apply(this,arguments),n&&V(this,"defaultValue",function(){return[]}),t.member&&zt(this,"member",function(){return ae.create(t.member,e)}),this.flattened){var i=this.name;zt(this,"name",function(){return r.member.name||i})}}s(Ep,"ListShape");function Tp(t,e){var r=!this.isShape;Pa.apply(this,arguments),r&&(V(this,"defaultValue",function(){return{}}),V(this,"key",ae.create({type:"string"},e)),V(this,"value",ae.create({type:"string"},e))),t.key&&zt(this,"key",function(){return ae.create(t.key,e)}),t.value&&zt(this,"value",function(){return ae.create(t.value,e)})}s(Tp,"MapShape");function __(t){var e=this;if(ae.apply(this,arguments),t.timestampFormat)V(this,"timestampFormat",t.timestampFormat);else if(e.isTimestampFormatSet&&this.timestampFormat)V(this,"timestampFormat",this.timestampFormat);else if(this.location==="header")V(this,"timestampFormat","rfc822");else if(this.location==="querystring")V(this,"timestampFormat","iso8601");else if(this.api)switch(this.api.protocol){case"json":case"rest-json":V(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":V(this,"timestampFormat","iso8601");break}this.toType=function(r){return r==null?null:typeof r.toUTCString=="function"?r:typeof r=="string"||typeof r=="number"?ht.date.parseTimestamp(r):null},this.toWireFormat=function(r){return ht.date.format(r,e.timestampFormat)}}s(__,"TimestampShape");function Cp(){ae.apply(this,arguments);var t=["rest-xml","query","ec2"];this.toType=function(e){return e=this.api&&t.indexOf(this.api.protocol)>-1?e||"":e,this.isJsonValue?JSON.parse(e):e&&typeof e.toString=="function"?e.toString():e},this.toWireFormat=function(e){return this.isJsonValue?JSON.stringify(e):e}}s(Cp,"StringShape");function S_(){ae.apply(this,arguments),this.toType=function(t){return t==null?null:parseFloat(t)},this.toWireFormat=this.toType}s(S_,"FloatShape");function E_(){ae.apply(this,arguments),this.toType=function(t){return t==null?null:parseInt(t,10)},this.toWireFormat=this.toType}s(E_,"IntegerShape");function Ap(){ae.apply(this,arguments),this.toType=function(t){var e=ht.base64.decode(t);if(this.isSensitive&&ht.isNode()&&typeof ht.Buffer.alloc=="function"){var r=ht.Buffer.alloc(e.length,e);e.fill(0),e=r}return e},this.toWireFormat=ht.base64.encode}s(Ap,"BinaryShape");function xp(){Ap.apply(this,arguments)}s(xp,"Base64Shape");function wp(){ae.apply(this,arguments),this.toType=function(t){return typeof t=="boolean"?t:t==null?null:t==="true"}}s(wp,"BooleanShape");ae.shapes={StructureShape:Sp,ListShape:Ep,MapShape:Tp,StringShape:Cp,BooleanShape:wp,Base64Shape:xp};Ip.exports=ae});var Oa=v((fw,Np)=>{var Dp=K(),Ur=he(),T_=bp(),Rp=Br(),C_=ui().populateHostPrefix;function A_(t){var e=t.service.api.operations[t.operation],r=t.httpRequest;r.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",r.params={Version:t.service.api.apiVersion,Action:e.name};var n=new T_;n.serialize(t.params,e.input,function(i,a){r.params[i]=a}),r.body=Ur.queryParamsToString(r.params),C_(t)}s(A_,"buildRequest");function x_(t){var e,r=t.httpResponse.body.toString();if(r.match("<UnknownOperationException"))e={Code:"UnknownOperation",Message:"Unknown operation "+t.request.operation};else try{e=new Dp.XML.Parser().parse(r)}catch(n){e={Code:t.httpResponse.statusCode,Message:t.httpResponse.statusMessage}}e.requestId&&!t.requestId&&(t.requestId=e.requestId),e.Errors&&(e=e.Errors),e.Error&&(e=e.Error),e.Code?t.error=Ur.error(new Error,{code:e.Code,message:e.Message}):t.error=Ur.error(new Error,{code:t.httpResponse.statusCode,message:null})}s(x_,"extractError");function w_(t){var e=t.request,r=e.service.api.operations[e.operation],n=r.output||{},i=n;if(i.resultWrapper){var a=Rp.create({type:"structure"});a.members[i.resultWrapper]=n,a.memberNames=[i.resultWrapper],Ur.property(n,"name",n.resultWrapper),n=a}var o=new Dp.XML.Parser;if(n&&n.members&&!n.members._XAMZRequestId){var u=Rp.create({type:"string"},{api:{protocol:"query"}},"requestId");n.members._XAMZRequestId=u}var c=o.parse(t.httpResponse.body.toString(),n);t.requestId=c._XAMZRequestId||c.requestId,c._XAMZRequestId&&delete c._XAMZRequestId,i.resultWrapper&&c[i.resultWrapper]&&(Ur.update(c,c[i.resultWrapper]),delete c[i.resultWrapper]),t.data=c}s(w_,"extractData");Np.exports={buildRequest:A_,extractError:x_,extractData:w_}});var jr=v((dw,Pp)=>{var Te=he(),I_=ui().populateHostPrefix;function D_(t){t.httpRequest.method=t.service.api.operations[t.operation].httpMethod}s(D_,"populateMethod");function qp(t,e,r,n){var i=[t,e].join("/");i=i.replace(/\/+/g,"/");var a={},o=!1;if(Te.each(r.members,function(c,p){var h=n[c];if(h!=null)if(p.location==="uri"){var m=new RegExp("\\{"+p.name+"(\\+)?\\}");i=i.replace(m,function(T,D){var _=D?Te.uriEscapePath:Te.uriEscape;return _(String(h))})}else p.location==="querystring"&&(o=!0,p.type==="list"?a[p.name]=h.map(function(T){return Te.uriEscape(p.member.toWireFormat(T).toString())}):p.type==="map"?Te.each(h,function(T,D){Array.isArray(D)?a[T]=D.map(function(_){return Te.uriEscape(String(_))}):a[T]=Te.uriEscape(String(D))}):a[p.name]=Te.uriEscape(p.toWireFormat(h).toString()))}),o){i+=i.indexOf("?")>=0?"&":"?";var u=[];Te.arrayEach(Object.keys(a).sort(),function(c){Array.isArray(a[c])||(a[c]=[a[c]]);for(var p=0;p<a[c].length;p++)u.push(Te.uriEscape(String(c))+"="+a[c][p])}),i+=u.join("&")}return i}s(qp,"generateURI");function R_(t){var e=t.service.api.operations[t.operation],r=e.input,n=qp(t.httpRequest.endpoint.path,e.httpPath,r,t.params);t.httpRequest.path=n}s(R_,"populateURI");function N_(t){var e=t.service.api.operations[t.operation];Te.each(e.input.members,function(r,n){var i=t.params[r];i!=null&&(n.location==="headers"&&n.type==="map"?Te.each(i,function(a,o){t.httpRequest.headers[n.name+a]=o}):n.location==="header"&&(i=n.toWireFormat(i).toString(),n.isJsonValue&&(i=Te.base64.encode(i)),t.httpRequest.headers[n.name]=i))})}s(N_,"populateHeaders");function q_(t){D_(t),R_(t),N_(t),I_(t)}s(q_,"buildRequest");function P_(){}s(P_,"extractError");function O_(t){var e=t.request,r={},n=t.httpResponse,i=e.service.api.operations[e.operation],a=i.output,o={};Te.each(n.headers,function(u,c){o[u.toLowerCase()]=c}),Te.each(a.members,function(u,c){var p=(c.name||u).toLowerCase();if(c.location==="headers"&&c.type==="map"){r[u]={};var h=c.isLocationName?c.name:"",m=new RegExp("^"+h+"(.+)","i");Te.each(n.headers,function(D,_){var S=D.match(m);S!==null&&(r[u][S[1]]=_)})}else if(c.location==="header"){if(o[p]!==void 0){var T=c.isJsonValue?Te.base64.decode(o[p]):o[p];r[u]=c.toType(T)}}else c.location==="statusCode"&&(r[u]=parseInt(n.statusCode,10))}),t.data=r}s(O_,"extractData");Pp.exports={buildRequest:q_,extractError:P_,extractData:O_,generateURI:qp}});var La=v((hw,Fp)=>{var Op=he(),Mp=jr(),Lp=ci(),M_=si(),kp=oi();function L_(t){var e=new M_,r=t.service.api.operations[t.operation].input;if(r.payload){var n={},i=r.members[r.payload];if(n=t.params[r.payload],n===void 0)return;i.type==="structure"?(t.httpRequest.body=e.build(n,i),Ma(t)):(t.httpRequest.body=n,(i.type==="binary"||i.isStreaming)&&Ma(t,!0))}else{var a=e.build(t.params,r);(a!=="{}"||t.httpRequest.method!=="GET")&&(t.httpRequest.body=a),Ma(t)}}s(L_,"populateBody");function Ma(t,e){var r=t.service.api.operations[t.operation],n=r.input;if(!t.httpRequest.headers["Content-Type"]){var i=e?"binary/octet-stream":"application/json";t.httpRequest.headers["Content-Type"]=i}}s(Ma,"applyContentTypeHeader");function k_(t){Mp.buildRequest(t),["HEAD","DELETE"].indexOf(t.httpRequest.method)<0&&L_(t)}s(k_,"buildRequest");function F_(t){Lp.extractError(t)}s(F_,"extractError");function B_(t){Mp.extractData(t);var e=t.request,r=e.service.api.operations[e.operation],n=e.service.api.operations[e.operation].output||{},i,a=r.hasEventOutput;if(n.payload){var o=n.members[n.payload],u=t.httpResponse.body;if(o.isEventStream)i=new kp,t.data[payload]=Op.createEventStream(AWS.HttpClient.streamsApiVersion===2?t.httpResponse.stream:u,i,o);else if(o.type==="structure"||o.type==="list"){var i=new kp;t.data[n.payload]=i.parse(u,o)}else o.type==="binary"||o.isStreaming?t.data[n.payload]=u:t.data[n.payload]=o.toType(u)}else{var c=t.data;Lp.extractData(t),t.data=Op.merge(c,t.data)}}s(B_,"extractData");Fp.exports={buildRequest:k_,extractError:F_,extractData:B_}});var Fa=v((mw,Bp)=>{var hr=K(),Kr=he(),ka=jr();function U_(t){var e=t.service.api.operations[t.operation].input,r=new hr.XML.Builder,n=t.params,i=e.payload;if(i){var a=e.members[i];if(n=n[i],n===void 0)return;if(a.type==="structure"){var o=a.name;t.httpRequest.body=r.toXML(n,a,o,!0)}else t.httpRequest.body=n}else t.httpRequest.body=r.toXML(n,e,e.name||e.shape||Kr.string.upperFirst(t.operation)+"Request")}s(U_,"populateBody");function j_(t){ka.buildRequest(t),["GET","HEAD"].indexOf(t.httpRequest.method)<0&&U_(t)}s(j_,"buildRequest");function K_(t){ka.extractError(t);var e;try{e=new hr.XML.Parser().parse(t.httpResponse.body.toString())}catch(r){e={Code:t.httpResponse.statusCode,Message:t.httpResponse.statusMessage}}e.Errors&&(e=e.Errors),e.Error&&(e=e.Error),e.Code?t.error=Kr.error(new Error,{code:e.Code,message:e.Message}):t.error=Kr.error(new Error,{code:t.httpResponse.statusCode,message:null})}s(K_,"extractError");function W_(t){ka.extractData(t);var e,r=t.request,n=t.httpResponse.body,i=r.service.api.operations[r.operation],a=i.output,o=i.hasEventOutput,u=a.payload;if(u){var c=a.members[u];c.isEventStream?(e=new hr.XML.Parser,t.data[u]=Kr.createEventStream(hr.HttpClient.streamsApiVersion===2?t.httpResponse.stream:t.httpResponse.body,e,c)):c.type==="structure"?(e=new hr.XML.Parser,t.data[u]=e.parse(n.toString(),c)):c.type==="binary"||c.isStreaming?t.data[u]=n:t.data[u]=c.toType(n)}else if(n.length>0){e=new hr.XML.Parser;var p=e.parse(n.toString(),a);Kr.update(t.data,p)}}s(W_,"extractData");Bp.exports={buildRequest:j_,extractError:K_,extractData:W_}});var jp=v((yw,Up)=>{function V_(t){return t.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}s(V_,"escapeAttribute");Up.exports={escapeAttribute:V_}});var Wp=v((gw,Kp)=>{var G_=jp().escapeAttribute;function Wr(t,e){e===void 0&&(e=[]),this.name=t,this.children=e,this.attributes={}}s(Wr,"XmlNode");Wr.prototype.addAttribute=function(t,e){return this.attributes[t]=e,this};Wr.prototype.addChildNode=function(t){return this.children.push(t),this};Wr.prototype.removeAttribute=function(t){return delete this.attributes[t],this};Wr.prototype.toString=function(){for(var t=Boolean(this.children.length),e="<"+this.name,r=this.attributes,n=0,i=Object.keys(r);n<i.length;n++){var a=i[n],o=r[a];typeof o!="undefined"&&o!==null&&(e+=" "+a+'="'+G_(""+o)+'"')}return e+=t?">"+this.children.map(function(u){return u.toString()}).join("")+"</"+this.name+">":"/>"};Kp.exports={XmlNode:Wr}});var Gp=v((vw,Vp)=>{function H_(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}s(H_,"escapeElement");Vp.exports={escapeElement:H_}});var zp=v((bw,Xp)=>{var X_=Gp().escapeElement;function Hp(t){this.value=t}s(Hp,"XmlText");Hp.prototype.toString=function(){return X_(""+this.value)};Xp.exports={XmlText:Hp}});var Qp=v((_w,Jp)=>{var pi=he(),$t=Wp().XmlNode,z_=zp().XmlText;function $p(){}s($p,"XmlBuilder");$p.prototype.toXML=function(t,e,r,n){var i=new $t(r);return Yp(i,e,!0),Yt(i,t,e),i.children.length>0||n?i.toString():""};function Yt(t,e,r){switch(r.type){case"structure":return $_(t,e,r);case"map":return Y_(t,e,r);case"list":return J_(t,e,r);default:return Q_(t,e,r)}}s(Yt,"serialize");function $_(t,e,r){pi.arrayEach(r.memberNames,function(n){var i=r.members[n];if(i.location==="body"){var a=e[n],o=i.name;if(a!=null)if(i.isXmlAttribute)t.addAttribute(o,a);else if(i.flattened)Yt(t,a,i);else{var u=new $t(o);t.addChildNode(u),Yp(u,i),Yt(u,a,i)}}})}s($_,"serializeStructure");function Y_(t,e,r){var n=r.key.name||"key",i=r.value.name||"value";pi.each(e,function(a,o){var u=new $t(r.flattened?r.name:"entry");t.addChildNode(u);var c=new $t(n),p=new $t(i);u.addChildNode(c),u.addChildNode(p),Yt(c,a,r.key),Yt(p,o,r.value)})}s(Y_,"serializeMap");function J_(t,e,r){r.flattened?pi.arrayEach(e,function(n){var i=r.member.name||r.name,a=new $t(i);t.addChildNode(a),Yt(a,n,r.member)}):pi.arrayEach(e,function(n){var i=r.member.name||"member",a=new $t(i);t.addChildNode(a),Yt(a,n,r.member)})}s(J_,"serializeList");function Q_(t,e,r){t.addChildNode(new z_(r.toWireFormat(e)))}s(Q_,"serializeScalar");function Yp(t,e,r){var n,i="xmlns";e.xmlNamespaceUri?(n=e.xmlNamespaceUri,e.xmlNamespacePrefix&&(i+=":"+e.xmlNamespacePrefix)):r&&e.api.xmlNamespaceUri&&(n=e.api.xmlNamespaceUri),n&&t.addAttribute(i,n)}s(Yp,"applyNamespaces");Jp.exports=$p});var Ba=v((Sw,ef)=>{var Vr=Br(),Zp=he(),ot=Zp.property,mr=Zp.memoizedProperty;function Z_(t,e,r){var n=this;r=r||{},ot(this,"name",e.name||t),ot(this,"api",r.api,!1),e.http=e.http||{},ot(this,"endpoint",e.endpoint),ot(this,"httpMethod",e.http.method||"POST"),ot(this,"httpPath",e.http.requestUri||"/"),ot(this,"authtype",e.authtype||""),ot(this,"endpointDiscoveryRequired",e.endpointdiscovery?e.endpointdiscovery.required?"REQUIRED":"OPTIONAL":"NULL"),ot(this,"httpChecksumRequired",e.httpChecksumRequired,!1),mr(this,"input",function(){return e.input?Vr.create(e.input,r):new Vr.create({type:"structure"},r)}),mr(this,"output",function(){return e.output?Vr.create(e.output,r):new Vr.create({type:"structure"},r)}),mr(this,"errors",function(){var i=[];if(!e.errors)return null;for(var a=0;a<e.errors.length;a++)i.push(Vr.create(e.errors[a],r));return i}),mr(this,"paginator",function(){return r.api.paginators[t]}),r.documentation&&(ot(this,"documentation",e.documentation),ot(this,"documentationUrl",e.documentationUrl)),mr(this,"idempotentMembers",function(){var i=[],a=n.input,o=a.members;if(!a.members)return i;for(var u in o)!o.hasOwnProperty(u)||o[u].isIdempotent===!0&&i.push(u);return i}),mr(this,"hasEventOutput",function(){var i=n.output;return eS(i)})}s(Z_,"Operation");function eS(t){var e=t.members,r=t.payload;if(!t.members)return!1;if(r){var n=e[r];return n.isEventStream}for(var i in e)if(!e.hasOwnProperty(i)&&e[i].isEventStream===!0)return!0;return!1}s(eS,"hasEventStream");ef.exports=Z_});var Ua=v((Ew,tf)=>{var Gr=he().property;function tS(t,e){Gr(this,"inputToken",e.input_token),Gr(this,"limitKey",e.limit_key),Gr(this,"moreResults",e.more_results),Gr(this,"outputToken",e.output_token),Gr(this,"resultKey",e.result_key)}s(tS,"Paginator");tf.exports=tS});var ja=v((Tw,nf)=>{var rf=he(),fi=rf.property;function rS(t,e,r){r=r||{},fi(this,"name",t),fi(this,"api",r.api,!1),e.operation&&fi(this,"operation",rf.string.lowerFirst(e.operation));var n=this,i=["type","description","delay","maxAttempts","acceptors"];i.forEach(function(a){var o=e[a];o&&fi(n,a,o)})}s(rS,"ResourceWaiter");nf.exports=rS});var Ka=v((Cw,nS)=>{nS.exports={acm:{name:"ACM",cors:!0},apigateway:{name:"APIGateway",cors:!0},applicationautoscaling:{prefix:"application-autoscaling",name:"ApplicationAutoScaling",cors:!0},appstream:{name:"AppStream"},autoscaling:{name:"AutoScaling",cors:!0},batch:{name:"Batch"},budgets:{name:"Budgets"},clouddirectory:{name:"CloudDirectory",versions:["2016-05-10*"]},cloudformation:{name:"CloudFormation",cors:!0},cloudfront:{name:"CloudFront",versions:["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*","2017-03-25*","2017-10-30*","2018-06-18*","2018-11-05*","2019-03-26*"],cors:!0},cloudhsm:{name:"CloudHSM",cors:!0},cloudsearch:{name:"CloudSearch"},cloudsearchdomain:{name:"CloudSearchDomain"},cloudtrail:{name:"CloudTrail",cors:!0},cloudwatch:{prefix:"monitoring",name:"CloudWatch",cors:!0},cloudwatchevents:{prefix:"events",name:"CloudWatchEvents",versions:["2014-02-03*"],cors:!0},cloudwatchlogs:{prefix:"logs",name:"CloudWatchLogs",cors:!0},codebuild:{name:"CodeBuild",cors:!0},codecommit:{name:"CodeCommit",cors:!0},codedeploy:{name:"CodeDeploy",cors:!0},codepipeline:{name:"CodePipeline",cors:!0},cognitoidentity:{prefix:"cognito-identity",name:"CognitoIdentity",cors:!0},cognitoidentityserviceprovider:{prefix:"cognito-idp",name:"CognitoIdentityServiceProvider",cors:!0},cognitosync:{prefix:"cognito-sync",name:"CognitoSync",cors:!0},configservice:{prefix:"config",name:"ConfigService",cors:!0},cur:{name:"CUR",cors:!0},datapipeline:{name:"DataPipeline"},devicefarm:{name:"DeviceFarm",cors:!0},directconnect:{name:"DirectConnect",cors:!0},directoryservice:{prefix:"ds",name:"DirectoryService"},discovery:{name:"Discovery"},dms:{name:"DMS"},dynamodb:{name:"DynamoDB",cors:!0},dynamodbstreams:{prefix:"streams.dynamodb",name:"DynamoDBStreams",cors:!0},ec2:{name:"EC2",versions:["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],cors:!0},ecr:{name:"ECR",cors:!0},ecs:{name:"ECS",cors:!0},efs:{prefix:"elasticfilesystem",name:"EFS",cors:!0},elasticache:{name:"ElastiCache",versions:["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],cors:!0},elasticbeanstalk:{name:"ElasticBeanstalk",cors:!0},elb:{prefix:"elasticloadbalancing",name:"ELB",cors:!0},elbv2:{prefix:"elasticloadbalancingv2",name:"ELBv2",cors:!0},emr:{prefix:"elasticmapreduce",name:"EMR",cors:!0},es:{name:"ES"},elastictranscoder:{name:"ElasticTranscoder",cors:!0},firehose:{name:"Firehose",cors:!0},gamelift:{name:"GameLift",cors:!0},glacier:{name:"Glacier"},health:{name:"Health"},iam:{name:"IAM",cors:!0},importexport:{name:"ImportExport"},inspector:{name:"Inspector",versions:["2015-08-18*"],cors:!0},iot:{name:"Iot",cors:!0},iotdata:{prefix:"iot-data",name:"IotData",cors:!0},kinesis:{name:"Kinesis",cors:!0},kinesisanalytics:{name:"KinesisAnalytics"},kms:{name:"KMS",cors:!0},lambda:{name:"Lambda",cors:!0},lexruntime:{prefix:"runtime.lex",name:"LexRuntime",cors:!0},lightsail:{name:"Lightsail"},machinelearning:{name:"MachineLearning",cors:!0},marketplacecommerceanalytics:{name:"MarketplaceCommerceAnalytics",cors:!0},marketplacemetering:{prefix:"meteringmarketplace",name:"MarketplaceMetering"},mturk:{prefix:"mturk-requester",name:"MTurk",cors:!0},mobileanalytics:{name:"MobileAnalytics",cors:!0},opsworks:{name:"OpsWorks",cors:!0},opsworkscm:{name:"OpsWorksCM"},organizations:{name:"Organizations"},pinpoint:{name:"Pinpoint"},polly:{name:"Polly",cors:!0},rds:{name:"RDS",versions:["2014-09-01*"],cors:!0},redshift:{name:"Redshift",cors:!0},rekognition:{name:"Rekognition",cors:!0},resourcegroupstaggingapi:{name:"ResourceGroupsTaggingAPI"},route53:{name:"Route53",cors:!0},route53domains:{name:"Route53Domains",cors:!0},s3:{name:"S3",dualstackAvailable:!0,cors:!0},s3control:{name:"S3Control",dualstackAvailable:!0,xmlNoDefaultLists:!0},servicecatalog:{name:"ServiceCatalog",cors:!0},ses:{prefix:"email",name:"SES",cors:!0},shield:{name:"Shield"},simpledb:{prefix:"sdb",name:"SimpleDB"},sms:{name:"SMS"},snowball:{name:"Snowball"},sns:{name:"SNS",cors:!0},sqs:{name:"SQS",cors:!0},ssm:{name:"SSM",cors:!0},storagegateway:{name:"StorageGateway",cors:!0},stepfunctions:{prefix:"states",name:"StepFunctions"},sts:{name:"STS",cors:!0},support:{name:"Support"},swf:{name:"SWF"},xray:{name:"XRay",cors:!0},waf:{name:"WAF",cors:!0},wafregional:{prefix:"waf-regional",name:"WAFRegional"},workdocs:{name:"WorkDocs",cors:!0},workspaces:{name:"WorkSpaces"},codestar:{name:"CodeStar"},lexmodelbuildingservice:{prefix:"lex-models",name:"LexModelBuildingService",cors:!0},marketplaceentitlementservice:{prefix:"entitlement.marketplace",name:"MarketplaceEntitlementService"},athena:{name:"Athena",cors:!0},greengrass:{name:"Greengrass"},dax:{name:"DAX"},migrationhub:{prefix:"AWSMigrationHub",name:"MigrationHub"},cloudhsmv2:{name:"CloudHSMV2",cors:!0},glue:{name:"Glue"},mobile:{name:"Mobile"},pricing:{name:"Pricing",cors:!0},costexplorer:{prefix:"ce",name:"CostExplorer",cors:!0},mediaconvert:{name:"MediaConvert"},medialive:{name:"MediaLive"},mediapackage:{name:"MediaPackage"},mediastore:{name:"MediaStore"},mediastoredata:{prefix:"mediastore-data",name:"MediaStoreData",cors:!0},appsync:{name:"AppSync"},guardduty:{name:"GuardDuty"},mq:{name:"MQ"},comprehend:{name:"Comprehend",cors:!0},iotjobsdataplane:{prefix:"iot-jobs-data",name:"IoTJobsDataPlane"},kinesisvideoarchivedmedia:{prefix:"kinesis-video-archived-media",name:"KinesisVideoArchivedMedia",cors:!0},kinesisvideomedia:{prefix:"kinesis-video-media",name:"KinesisVideoMedia",cors:!0},kinesisvideo:{name:"KinesisVideo",cors:!0},sagemakerruntime:{prefix:"runtime.sagemaker",name:"SageMakerRuntime"},sagemaker:{name:"SageMaker"},translate:{name:"Translate",cors:!0},resourcegroups:{prefix:"resource-groups",name:"ResourceGroups",cors:!0},alexaforbusiness:{name:"AlexaForBusiness"},cloud9:{name:"Cloud9"},serverlessapplicationrepository:{prefix:"serverlessrepo",name:"ServerlessApplicationRepository"},servicediscovery:{name:"ServiceDiscovery"},workmail:{name:"WorkMail"},autoscalingplans:{prefix:"autoscaling-plans",name:"AutoScalingPlans"},transcribeservice:{prefix:"transcribe",name:"TranscribeService"},connect:{name:"Connect",cors:!0},acmpca:{prefix:"acm-pca",name:"ACMPCA"},fms:{name:"FMS"},secretsmanager:{name:"SecretsManager",cors:!0},iotanalytics:{name:"IoTAnalytics",cors:!0},iot1clickdevicesservice:{prefix:"iot1click-devices",name:"IoT1ClickDevicesService"},iot1clickprojects:{prefix:"iot1click-projects",name:"IoT1ClickProjects"},pi:{name:"PI"},neptune:{name:"Neptune"},mediatailor:{name:"MediaTailor"},eks:{name:"EKS"},macie:{name:"Macie"},dlm:{name:"DLM"},signer:{name:"Signer"},chime:{name:"Chime"},pinpointemail:{prefix:"pinpoint-email",name:"PinpointEmail"},ram:{name:"RAM"},route53resolver:{name:"Route53Resolver"},pinpointsmsvoice:{prefix:"sms-voice",name:"PinpointSMSVoice"},quicksight:{name:"QuickSight"},rdsdataservice:{prefix:"rds-data",name:"RDSDataService"},amplify:{name:"Amplify"},datasync:{name:"DataSync"},robomaker:{name:"RoboMaker"},transfer:{name:"Transfer"},globalaccelerator:{name:"GlobalAccelerator"},comprehendmedical:{name:"ComprehendMedical",cors:!0},kinesisanalyticsv2:{name:"KinesisAnalyticsV2"},mediaconnect:{name:"MediaConnect"},fsx:{name:"FSx"},securityhub:{name:"SecurityHub"},appmesh:{name:"AppMesh",versions:["2018-10-01*"]},licensemanager:{prefix:"license-manager",name:"LicenseManager"},kafka:{name:"Kafka"},apigatewaymanagementapi:{name:"ApiGatewayManagementApi"},apigatewayv2:{name:"ApiGatewayV2"},docdb:{name:"DocDB"},backup:{name:"Backup"},worklink:{name:"WorkLink"},textract:{name:"Textract"},managedblockchain:{name:"ManagedBlockchain"},mediapackagevod:{prefix:"mediapackage-vod",name:"MediaPackageVod"},groundstation:{name:"GroundStation"},iotthingsgraph:{name:"IoTThingsGraph"},iotevents:{name:"IoTEvents"},ioteventsdata:{prefix:"iotevents-data",name:"IoTEventsData"},personalize:{name:"Personalize",cors:!0},personalizeevents:{prefix:"personalize-events",name:"PersonalizeEvents",cors:!0},personalizeruntime:{prefix:"personalize-runtime",name:"PersonalizeRuntime",cors:!0},applicationinsights:{prefix:"application-insights",name:"ApplicationInsights"},servicequotas:{prefix:"service-quotas",name:"ServiceQuotas"},ec2instanceconnect:{prefix:"ec2-instance-connect",name:"EC2InstanceConnect"},eventbridge:{name:"EventBridge"},lakeformation:{name:"LakeFormation"},forecastservice:{prefix:"forecast",name:"ForecastService",cors:!0},forecastqueryservice:{prefix:"forecastquery",name:"ForecastQueryService",cors:!0},qldb:{name:"QLDB"},qldbsession:{prefix:"qldb-session",name:"QLDBSession"},workmailmessageflow:{name:"WorkMailMessageFlow"},codestarnotifications:{prefix:"codestar-notifications",name:"CodeStarNotifications"},savingsplans:{name:"SavingsPlans"},sso:{name:"SSO"},ssooidc:{prefix:"sso-oidc",name:"SSOOIDC"},marketplacecatalog:{prefix:"marketplace-catalog",name:"MarketplaceCatalog"},dataexchange:{name:"DataExchange"},sesv2:{name:"SESV2"},migrationhubconfig:{prefix:"migrationhub-config",name:"MigrationHubConfig"},connectparticipant:{name:"ConnectParticipant"},appconfig:{name:"AppConfig"},iotsecuretunneling:{name:"IoTSecureTunneling"},wafv2:{name:"WAFV2"},elasticinference:{prefix:"elastic-inference",name:"ElasticInference"},imagebuilder:{name:"Imagebuilder"},schemas:{name:"Schemas"},accessanalyzer:{name:"AccessAnalyzer"},codegurureviewer:{prefix:"codeguru-reviewer",name:"CodeGuruReviewer"},codeguruprofiler:{name:"CodeGuruProfiler"},computeoptimizer:{prefix:"compute-optimizer",name:"ComputeOptimizer"},frauddetector:{name:"FraudDetector"},kendra:{name:"Kendra"},networkmanager:{name:"NetworkManager"},outposts:{name:"Outposts"},augmentedairuntime:{prefix:"sagemaker-a2i-runtime",name:"AugmentedAIRuntime"},ebs:{name:"EBS"},kinesisvideosignalingchannels:{prefix:"kinesis-video-signaling",name:"KinesisVideoSignalingChannels",cors:!0},detective:{name:"Detective"},codestarconnections:{prefix:"codestar-connections",name:"CodeStarconnections"},synthetics:{name:"Synthetics"},iotsitewise:{name:"IoTSiteWise"},macie2:{name:"Macie2"},codeartifact:{name:"CodeArtifact"},honeycode:{name:"Honeycode"},ivs:{name:"IVS"},braket:{name:"Braket"},identitystore:{name:"IdentityStore"},appflow:{name:"Appflow"},redshiftdata:{prefix:"redshift-data",name:"RedshiftData"},ssoadmin:{prefix:"sso-admin",name:"SSOAdmin"},timestreamquery:{prefix:"timestream-query",name:"TimestreamQuery"},timestreamwrite:{prefix:"timestream-write",name:"TimestreamWrite"},s3outposts:{name:"S3Outposts"},databrew:{name:"DataBrew"},servicecatalogappregistry:{prefix:"servicecatalog-appregistry",name:"ServiceCatalogAppRegistry"},networkfirewall:{prefix:"network-firewall",name:"NetworkFirewall"},mwaa:{name:"MWAA"},amplifybackend:{name:"AmplifyBackend"},appintegrations:{name:"AppIntegrations"},connectcontactlens:{prefix:"connect-contact-lens",name:"ConnectContactLens"},devopsguru:{prefix:"devops-guru",name:"DevOpsGuru"},ecrpublic:{prefix:"ecr-public",name:"ECRPUBLIC"},lookoutvision:{name:"LookoutVision"},sagemakerfeaturestoreruntime:{prefix:"sagemaker-featurestore-runtime",name:"SageMakerFeatureStoreRuntime"},customerprofiles:{prefix:"customer-profiles",name:"CustomerProfiles"},auditmanager:{name:"AuditManager"},emrcontainers:{prefix:"emr-containers",name:"EMRcontainers"},healthlake:{name:"HealthLake"},sagemakeredge:{prefix:"sagemaker-edge",name:"SagemakerEdge"},amp:{name:"Amp"},greengrassv2:{name:"GreengrassV2"},iotdeviceadvisor:{name:"IotDeviceAdvisor"},iotfleethub:{name:"IoTFleetHub"},iotwireless:{name:"IoTWireless"},location:{name:"Location",cors:!0},wellarchitected:{name:"WellArchitected"},lexmodelsv2:{prefix:"models.lex.v2",name:"LexModelsV2"},lexruntimev2:{prefix:"runtime.lex.v2",name:"LexRuntimeV2",cors:!0},fis:{name:"Fis"},lookoutmetrics:{name:"LookoutMetrics"},mgn:{name:"Mgn"},lookoutequipment:{name:"LookoutEquipment"},nimble:{name:"Nimble"},finspace:{name:"Finspace"},finspacedata:{prefix:"finspace-data",name:"Finspacedata"},ssmcontacts:{prefix:"ssm-contacts",name:"SSMContacts"},ssmincidents:{prefix:"ssm-incidents",name:"SSMIncidents"},applicationcostprofiler:{name:"ApplicationCostProfiler"},apprunner:{name:"AppRunner"},proton:{name:"Proton"},route53recoverycluster:{prefix:"route53-recovery-cluster",name:"Route53RecoveryCluster"},route53recoverycontrolconfig:{prefix:"route53-recovery-control-config",name:"Route53RecoveryControlConfig"},route53recoveryreadiness:{prefix:"route53-recovery-readiness",name:"Route53RecoveryReadiness"},chimesdkidentity:{prefix:"chime-sdk-identity",name:"ChimeSDKIdentity"},chimesdkmessaging:{prefix:"chime-sdk-messaging",name:"ChimeSDKMessaging"},snowdevicemanagement:{prefix:"snow-device-management",name:"SnowDeviceManagement"},memorydb:{name:"MemoryDB"},opensearch:{name:"OpenSearch"}}});var Wa=v((Aw,af)=>{var di=qa(),iS=Ba(),sS=Br(),aS=Ua(),oS=ja(),sf=Ka(),Hr=he(),ce=Hr.property,uS=Hr.memoizedProperty;function cS(t,e){var r=this;t=t||{},e=e||{},e.api=this,t.metadata=t.metadata||{};var n=e.serviceIdentifier;delete e.serviceIdentifier,ce(this,"isApi",!0,!1),ce(this,"apiVersion",t.metadata.apiVersion),ce(this,"endpointPrefix",t.metadata.endpointPrefix),ce(this,"signingName",t.metadata.signingName),ce(this,"globalEndpoint",t.metadata.globalEndpoint),ce(this,"signatureVersion",t.metadata.signatureVersion),ce(this,"jsonVersion",t.metadata.jsonVersion),ce(this,"targetPrefix",t.metadata.targetPrefix),ce(this,"protocol",t.metadata.protocol),ce(this,"timestampFormat",t.metadata.timestampFormat),ce(this,"xmlNamespaceUri",t.metadata.xmlNamespace),ce(this,"abbreviation",t.metadata.serviceAbbreviation),ce(this,"fullName",t.metadata.serviceFullName),ce(this,"serviceId",t.metadata.serviceId),n&&sf[n]&&ce(this,"xmlNoDefaultLists",sf[n].xmlNoDefaultLists,!1),uS(this,"className",function(){var a=t.metadata.serviceAbbreviation||t.metadata.serviceFullName;return a?(a=a.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""),a==="ElasticLoadBalancing"&&(a="ELB"),a):null});function i(a,o){o.endpointoperation===!0&&ce(r,"endpointOperation",Hr.string.lowerFirst(a)),o.endpointdiscovery&&!r.hasRequiredEndpointDiscovery&&ce(r,"hasRequiredEndpointDiscovery",o.endpointdiscovery.required===!0)}s(i,"addEndpointOperation"),ce(this,"operations",new di(t.operations,e,function(a,o){return new iS(a,o,e)},Hr.string.lowerFirst,i)),ce(this,"shapes",new di(t.shapes,e,function(a,o){return sS.create(o,e)})),ce(this,"paginators",new di(t.paginators,e,function(a,o){return new aS(a,o,e)})),ce(this,"waiters",new di(t.waiters,e,function(a,o){return new oS(a,o,e)},Hr.string.lowerFirst)),e.documentation&&(ce(this,"documentation",t.documentation),ce(this,"documentationUrl",t.documentationUrl))}s(cS,"Api");af.exports=cS});var uf=v((xw,of)=>{function hi(t,e){if(!hi.services.hasOwnProperty(t))throw new Error("InvalidService: Failed to load api for "+t);return hi.services[t][e]}s(hi,"apiLoader");hi.services={};of.exports=hi});var cf=v(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});var lS=function(){function t(e,r){this.key=e,this.value=r}return s(t,"LinkedListNode"),t}(),pS=function(){function t(e){if(this.nodeMap={},this.size=0,typeof e!="number"||e<1)throw new Error("Cache size can only be positive number");this.sizeLimit=e}return s(t,"LRUCache"),Object.defineProperty(t.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0}),t.prototype.prependToList=function(e){this.headerNode?(this.headerNode.prev=e,e.next=this.headerNode):this.tailNode=e,this.headerNode=e,this.size++},t.prototype.removeFromTail=function(){if(!!this.tailNode){var e=this.tailNode,r=e.prev;return r&&(r.next=void 0),e.prev=void 0,this.tailNode=r,this.size--,e}},t.prototype.detachFromList=function(e){this.headerNode===e&&(this.headerNode=e.next),this.tailNode===e&&(this.tailNode=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.next=void 0,e.prev=void 0,this.size--},t.prototype.get=function(e){if(this.nodeMap[e]){var r=this.nodeMap[e];return this.detachFromList(r),this.prependToList(r),r.value}},t.prototype.remove=function(e){if(this.nodeMap[e]){var r=this.nodeMap[e];this.detachFromList(r),delete this.nodeMap[e]}},t.prototype.put=function(e,r){if(this.nodeMap[e])this.remove(e);else if(this.size===this.sizeLimit){var n=this.removeFromTail(),i=n.key;delete this.nodeMap[i]}var a=new lS(e,r);this.nodeMap[e]=a,this.prependToList(a)},t.prototype.empty=function(){for(var e=Object.keys(this.nodeMap),r=0;r<e.length;r++){var n=e[r],i=this.nodeMap[n];this.detachFromList(i),delete this.nodeMap[n]}},t}();Va.LRUCache=pS});var lf=v(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});var fS=cf(),dS=1e3,hS=function(){function t(e){e===void 0&&(e=dS),this.maxSize=e,this.cache=new fS.LRUCache(e)}return s(t,"EndpointCache"),Object.defineProperty(t.prototype,"size",{get:function(){return this.cache.length},enumerable:!0,configurable:!0}),t.prototype.put=function(e,r){var n=typeof e!="string"?t.getKeyString(e):e,i=this.populateValue(r);this.cache.put(n,i)},t.prototype.get=function(e){var r=typeof e!="string"?t.getKeyString(e):e,n=Date.now(),i=this.cache.get(r);if(i){for(var a=i.length-1;a>=0;a--){var o=i[a];o.Expire<n&&i.splice(a,1)}if(i.length===0){this.cache.remove(r);return}}return i},t.getKeyString=function(e){for(var r=[],n=Object.keys(e).sort(),i=0;i<n.length;i++){var a=n[i];e[a]!==void 0&&r.push(e[a])}return r.join(" ")},t.prototype.populateValue=function(e){var r=Date.now();return e.map(function(n){return{Address:n.Address||"",Expire:r+(n.CachePeriodInMinutes||1)*60*1e3}})},t.prototype.empty=function(){this.cache.empty()},t.prototype.remove=function(e){var r=typeof e!="string"?t.getKeyString(e):e;this.cache.remove(r)},t}();Ga.EndpointCache=hS});var Ha=v((Dw,pf)=>{var mt=K();mt.SequentialExecutor=mt.util.inherit({constructor:s(function(){this._events={}},"SequentialExecutor"),listeners:s(function(e){return this._events[e]?this._events[e].slice(0):[]},"listeners"),on:s(function(e,r,n){return this._events[e]?n?this._events[e].unshift(r):this._events[e].push(r):this._events[e]=[r],this},"on"),onAsync:s(function(e,r,n){return r._isAsync=!0,this.on(e,r,n)},"onAsync"),removeListener:s(function(e,r){var n=this._events[e];if(n){for(var i=n.length,a=-1,o=0;o<i;++o)n[o]===r&&(a=o);a>-1&&n.splice(a,1)}return this},"removeListener"),removeAllListeners:s(function(e){return e?delete this._events[e]:this._events={},this},"removeAllListeners"),emit:s(function(e,r,n){n||(n=s(function(){},"doneCallback"));var i=this.listeners(e),a=i.length;return this.callListeners(i,r,n),a>0},"emit"),callListeners:s(function(e,r,n,i){var a=this,o=i||null;function u(p){if(p&&(o=mt.util.error(o||new Error,p),a._haltHandlersOnError))return n.call(a,o);a.callListeners(e,r,n,o)}for(s(u,"callNextListener");e.length>0;){var c=e.shift();if(c._isAsync){c.apply(a,r.concat([u]));return}else{try{c.apply(a,r)}catch(p){o=mt.util.error(o||new Error,p)}if(o&&a._haltHandlersOnError){n.call(a,o);return}}}n.call(a,o)},"callListeners"),addListeners:s(function(e){var r=this;return e._events&&(e=e._events),mt.util.each(e,function(n,i){typeof i=="function"&&(i=[i]),mt.util.arrayEach(i,function(a){r.on(n,a)})}),r},"addListeners"),addNamedListener:s(function(e,r,n,i){return this[e]=n,this.addListener(r,n,i),this},"addNamedListener"),addNamedAsyncListener:s(function(e,r,n,i){return n._isAsync=!0,this.addNamedListener(e,r,n,i)},"addNamedAsyncListener"),addNamedListeners:s(function(e){var r=this;return e(function(){r.addNamedListener.apply(r,arguments)},function(){r.addNamedAsyncListener.apply(r,arguments)}),this},"addNamedListeners")});mt.SequentialExecutor.prototype.addListener=mt.SequentialExecutor.prototype.on;pf.exports=mt.SequentialExecutor});var ff=v((Rw,mS)=>{mS.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"us-iso-*/*":{endpoint:"{service}.{region}.c2s.ic.gov"},"us-isob-*/*":{endpoint:"{service}.{region}.sc2s.sgov.gov"},"*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":"globalSSL","cn-*/route53":{endpoint:"{service}.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-northwest-1"},"us-gov-*/route53":"globalGovCloud","*/waf":"globalSSL","*/iam":"globalSSL","cn-*/iam":{endpoint:"{service}.cn-north-1.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-north-1"},"us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3signature","us-west-1/s3":"s3signature","us-west-2/s3":"s3signature","eu-west-1/s3":"s3signature","ap-southeast-1/s3":"s3signature","ap-southeast-2/s3":"s3signature","ap-northeast-1/s3":"s3signature","sa-east-1/s3":"s3signature","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"}},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0,signingRegion:"us-east-1"},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com",globalEndpoint:!0,signingRegion:"us-gov-west-1"},s3signature:{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"s3"}}}});var hf=v((Nw,df)=>{var Xa=he(),za=ff();function yS(t){if(!t)return null;var e=t.split("-");return e.length<3?null:e.slice(0,e.length-2).join("-")+"-*"}s(yS,"generateRegionPrefix");function gS(t){var e=t.config.region,r=yS(e),n=t.api.endpointPrefix;return[[e,n],[r,n],[e,"*"],[r,"*"],["*",n],["*","*"]].map(function(i){return i[0]&&i[1]?i.join("/"):null})}s(gS,"derivedKeys");function vS(t,e){Xa.each(e,function(r,n){r!=="globalEndpoint"&&(t.config[r]===void 0||t.config[r]===null)&&(t.config[r]=n)})}s(vS,"applyConfig");function bS(t){for(var e=gS(t),r=0;r<e.length;r++){var n=e[r];if(!!n&&Object.prototype.hasOwnProperty.call(za.rules,n)){var i=za.rules[n];typeof i=="string"&&(i=za.patterns[i]),t.config.useDualstack&&Xa.isDualstackAvailable(t)&&(i=Xa.copy(i),i.endpoint=i.endpoint.replace(/{service}\.({region}\.)?/,"{service}.dualstack.{region}.")),t.isGlobalEndpoint=!!i.globalEndpoint,i.signingRegion&&(t.signingRegion=i.signingRegion),i.signatureVersion||(i.signatureVersion="v4"),vS(t,i);return}}}s(bS,"configureEndpoint");function _S(t){for(var e={"^(us|eu|ap|sa|ca|me)\\-\\w+\\-\\d+$":"amazonaws.com","^cn\\-\\w+\\-\\d+$":"amazonaws.com.cn","^us\\-gov\\-\\w+\\-\\d+$":"amazonaws.com","^us\\-iso\\-\\w+\\-\\d+$":"c2s.ic.gov","^us\\-isob\\-\\w+\\-\\d+$":"sc2s.sgov.gov"},r="amazonaws.com",n=Object.keys(e),i=0;i<n.length;i++){var a=RegExp(n[i]),o=e[n[i]];if(a.test(t))return o}return r}s(_S,"getEndpointSuffix");df.exports={configureEndpoint:bS,getEndpointSuffix:_S}});var yf=v((qw,mf)=>{var W=K(),SS=Wa(),ES=hf(),$a=W.util.inherit,TS=0;W.Service=$a({constructor:s(function(e){if(!this.loadServiceClass)throw W.util.error(new Error,"Service must be constructed with `new' operator");var r=this.loadServiceClass(e||{});if(r){var n=W.util.copy(e),i=new r(e);return Object.defineProperty(i,"_originalConfig",{get:function(){return n},enumerable:!1,configurable:!0}),i._clientId=++TS,i}this.initialize(e)},"Service"),initialize:s(function(e){var r=W.config[this.serviceIdentifier];if(this.config=new W.Config(W.config),r&&this.config.update(r,!0),e&&this.config.update(e,!0),this.validateService(),this.config.endpoint||ES.configureEndpoint(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint),W.SequentialExecutor.call(this),W.Service.addDefaultMonitoringListeners(this),(this.config.clientSideMonitoring||W.Service._clientSideMonitoring)&&this.publisher){var n=this.publisher;this.addNamedListener("PUBLISH_API_CALL","apiCall",s(function(a){process.nextTick(function(){n.eventHandler(a)})},"PUBLISH_API_CALL")),this.addNamedListener("PUBLISH_API_ATTEMPT","apiCallAttempt",s(function(a){process.nextTick(function(){n.eventHandler(a)})},"PUBLISH_API_ATTEMPT"))}},"initialize"),validateService:s(function(){},"validateService"),loadServiceClass:s(function(e){var r=e;if(W.util.isEmpty(this.api)){if(r.apiConfig)return W.Service.defineServiceApi(this.constructor,r.apiConfig);if(this.constructor.services){r=new W.Config(W.config),r.update(e,!0);var n=r.apiVersions[this.constructor.serviceIdentifier];return n=n||r.apiVersion,this.getLatestServiceClass(n)}else return null}else return null},"loadServiceClass"),getLatestServiceClass:s(function(e){return e=this.getLatestServiceVersion(e),this.constructor.services[e]===null&&W.Service.defineServiceApi(this.constructor,e),this.constructor.services[e]},"getLatestServiceClass"),getLatestServiceVersion:s(function(e){if(!this.constructor.services||this.constructor.services.length===0)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(e?W.util.isType(e,Date)&&(e=W.util.date.iso8601(e).split("T")[0]):e="latest",Object.hasOwnProperty(this.constructor.services,e))return e;for(var r=Object.keys(this.constructor.services).sort(),n=null,i=r.length-1;i>=0;i--)if(r[i][r[i].length-1]!=="*"&&(n=r[i]),r[i].substr(0,10)<=e)return n;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+e+"'")},"getLatestServiceVersion"),api:{},defaultRetryCount:3,customizeRequests:s(function(e){if(!e)this.customRequestHandler=null;else if(typeof e=="function")this.customRequestHandler=e;else throw new Error("Invalid callback type '"+typeof e+"' provided in customizeRequests")},"customizeRequests"),makeRequest:s(function(e,r,n){if(typeof r=="function"&&(n=r,r=null),r=r||{},this.config.params){var i=this.api.operations[e];i&&(r=W.util.copy(r),W.util.each(this.config.params,function(o,u){i.input.members[o]&&(r[o]===void 0||r[o]===null)&&(r[o]=u)}))}var a=new W.Request(this,e,r);return this.addAllRequestListeners(a),this.attachMonitoringEmitter(a),n&&a.send(n),a},"makeRequest"),makeUnauthenticatedRequest:s(function(e,r,n){typeof r=="function"&&(n=r,r={});var i=this.makeRequest(e,r).toUnauthenticated();return n?i.send(n):i},"makeUnauthenticatedRequest"),waitFor:s(function(e,r,n){var i=new W.ResourceWaiter(this,e);return i.wait(r,n)},"waitFor"),addAllRequestListeners:s(function(e){for(var r=[W.events,W.EventListeners.Core,this.serviceInterface(),W.EventListeners.CorePost],n=0;n<r.length;n++)r[n]&&e.addListeners(r[n]);this.config.paramValidation||e.removeListener("validate",W.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&e.addListeners(W.EventListeners.Logger),this.setupRequestListeners(e),typeof this.constructor.prototype.customRequestHandler=="function"&&this.constructor.prototype.customRequestHandler(e),Object.prototype.hasOwnProperty.call(this,"customRequestHandler")&&typeof this.customRequestHandler=="function"&&this.customRequestHandler(e)},"addAllRequestListeners"),apiCallEvent:s(function(e){var r=e.service.api.operations[e.operation],n={Type:"ApiCall",Api:r?r.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Region:e.httpRequest.region,MaxRetriesExceeded:0,UserAgent:e.httpRequest.getUserAgent()},i=e.response;if(i.httpResponse.statusCode&&(n.FinalHttpStatusCode=i.httpResponse.statusCode),i.error){var a=i.error,o=i.httpResponse.statusCode;o>299?(a.code&&(n.FinalAwsException=a.code),a.message&&(n.FinalAwsExceptionMessage=a.message)):((a.code||a.name)&&(n.FinalSdkException=a.code||a.name),a.message&&(n.FinalSdkExceptionMessage=a.message))}return n},"apiCallEvent"),apiAttemptEvent:s(function(e){var r=e.service.api.operations[e.operation],n={Type:"ApiCallAttempt",Api:r?r.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Fqdn:e.httpRequest.endpoint.hostname,UserAgent:e.httpRequest.getUserAgent()},i=e.response;return i.httpResponse.statusCode&&(n.HttpStatusCode=i.httpResponse.statusCode),!e._unAuthenticated&&e.service.config.credentials&&e.service.config.credentials.accessKeyId&&(n.AccessKey=e.service.config.credentials.accessKeyId),i.httpResponse.headers&&(e.httpRequest.headers["x-amz-security-token"]&&(n.SessionToken=e.httpRequest.headers["x-amz-security-token"]),i.httpResponse.headers["x-amzn-requestid"]&&(n.XAmznRequestId=i.httpResponse.headers["x-amzn-requestid"]),i.httpResponse.headers["x-amz-request-id"]&&(n.XAmzRequestId=i.httpResponse.headers["x-amz-request-id"]),i.httpResponse.headers["x-amz-id-2"]&&(n.XAmzId2=i.httpResponse.headers["x-amz-id-2"])),n},"apiAttemptEvent"),attemptFailEvent:s(function(e){var r=this.apiAttemptEvent(e),n=e.response,i=n.error;return n.httpResponse.statusCode>299?(i.code&&(r.AwsException=i.code),i.message&&(r.AwsExceptionMessage=i.message)):((i.code||i.name)&&(r.SdkException=i.code||i.name),i.message&&(r.SdkExceptionMessage=i.message)),r},"attemptFailEvent"),attachMonitoringEmitter:s(function(e){var r,n,i,a,o=0,u,c,p=this,h=!0;e.on("validate",function(){a=W.util.realClock.now(),c=Date.now()},h),e.on("sign",function(){n=W.util.realClock.now(),r=Date.now(),u=e.httpRequest.region,o++},h),e.on("validateResponse",function(){i=Math.round(W.util.realClock.now()-n)}),e.addNamedListener("API_CALL_ATTEMPT","success",s(function(){var T=p.apiAttemptEvent(e);T.Timestamp=r,T.AttemptLatency=i>=0?i:0,T.Region=u,p.emit("apiCallAttempt",[T])},"API_CALL_ATTEMPT")),e.addNamedListener("API_CALL_ATTEMPT_RETRY","retry",s(function(){var T=p.attemptFailEvent(e);T.Timestamp=r,i=i||Math.round(W.util.realClock.now()-n),T.AttemptLatency=i>=0?i:0,T.Region=u,p.emit("apiCallAttempt",[T])},"API_CALL_ATTEMPT_RETRY")),e.addNamedListener("API_CALL","complete",s(function(){var T=p.apiCallEvent(e);if(T.AttemptCount=o,!(T.AttemptCount<=0)){T.Timestamp=c;var D=Math.round(W.util.realClock.now()-a);T.Latency=D>=0?D:0;var _=e.response;_.error&&_.error.retryable&&typeof _.retryCount=="number"&&typeof _.maxRetries=="number"&&_.retryCount>=_.maxRetries&&(T.MaxRetriesExceeded=1),p.emit("apiCall",[T])}},"API_CALL"))},"attachMonitoringEmitter"),setupRequestListeners:s(function(e){},"setupRequestListeners"),getSigningName:s(function(){return this.api.signingName||this.api.endpointPrefix},"getSigningName"),getSignerClass:s(function(e){var r,n=null,i="";if(e){var a=e.service.api.operations||{};n=a[e.operation]||null,i=n?n.authtype:""}return this.config.signatureVersion?r=this.config.signatureVersion:i==="v4"||i==="v4-unsigned-body"?r="v4":r=this.api.signatureVersion,W.Signers.RequestSigner.getVersion(r)},"getSignerClass"),serviceInterface:s(function(){switch(this.api.protocol){case"ec2":return W.EventListeners.Query;case"query":return W.EventListeners.Query;case"json":return W.EventListeners.Json;case"rest-json":return W.EventListeners.RestJson;case"rest-xml":return W.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},"serviceInterface"),successfulResponse:s(function(e){return e.httpResponse.statusCode<300},"successfulResponse"),numRetries:s(function(){return this.config.maxRetries!==void 0?this.config.maxRetries:this.defaultRetryCount},"numRetries"),retryDelays:s(function(e,r){return W.util.calculateRetryDelay(e,this.config.retryDelayOptions,r)},"retryDelays"),retryableError:s(function(e){return!!(this.timeoutError(e)||this.networkingError(e)||this.expiredCredentialsError(e)||this.throttledError(e)||e.statusCode>=500)},"retryableError"),networkingError:s(function(e){return e.code==="NetworkingError"},"networkingError"),timeoutError:s(function(e){return e.code==="TimeoutError"},"timeoutError"),expiredCredentialsError:s(function(e){return e.code==="ExpiredTokenException"},"expiredCredentialsError"),clockSkewError:s(function(e){switch(e.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},"clockSkewError"),getSkewCorrectedDate:s(function(){return new Date(Date.now()+this.config.systemClockOffset)},"getSkewCorrectedDate"),applyClockOffset:s(function(e){e&&(this.config.systemClockOffset=e-Date.now())},"applyClockOffset"),isClockSkewed:s(function(e){if(e)return Math.abs(this.getSkewCorrectedDate().getTime()-e)>=3e5},"isClockSkewed"),throttledError:s(function(e){if(e.statusCode===429)return!0;switch(e.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":case"RequestThrottledException":case"TooManyRequestsException":case"TransactionInProgressException":case"EC2ThrottledException":return!0;default:return!1}},"throttledError"),endpointFromTemplate:s(function(e){if(typeof e!="string")return e;var r=e;return r=r.replace(/\{service\}/g,this.api.endpointPrefix),r=r.replace(/\{region\}/g,this.config.region),r=r.replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http"),r},"endpointFromTemplate"),setEndpoint:s(function(e){this.endpoint=new W.Endpoint(e,this.config)},"setEndpoint"),paginationConfig:s(function(e,r){var n=this.api.operations[e].paginator;if(!n){if(r){var i=new Error;throw W.util.error(i,"No pagination configuration for "+e)}return null}return n},"paginationConfig")});W.util.update(W.Service,{defineMethods:s(function(e){W.util.each(e.prototype.api.operations,s(function(n){if(!e.prototype[n]){var i=e.prototype.api.operations[n];i.authtype==="none"?e.prototype[n]=function(a,o){return this.makeUnauthenticatedRequest(n,a,o)}:e.prototype[n]=function(a,o){return this.makeRequest(n,a,o)}}},"iterator"))},"defineMethods"),defineService:s(function(e,r,n){W.Service._serviceMap[e]=!0,Array.isArray(r)||(n=r,r=[]);var i=$a(W.Service,n||{});if(typeof e=="string"){W.Service.addVersions(i,r);var a=i.serviceIdentifier||e;i.serviceIdentifier=a}else i.prototype.api=e,W.Service.defineMethods(i);if(W.SequentialExecutor.call(this.prototype),!this.prototype.publisher&&W.util.clientSideMonitoring){var o=W.util.clientSideMonitoring.Publisher,u=W.util.clientSideMonitoring.configProvider,c=u();this.prototype.publisher=new o(c),c.enabled&&(W.Service._clientSideMonitoring=!0)}return W.SequentialExecutor.call(i.prototype),W.Service.addDefaultMonitoringListeners(i.prototype),i},"defineService"),addVersions:s(function(e,r){Array.isArray(r)||(r=[r]),e.services=e.services||{};for(var n=0;n<r.length;n++)e.services[r[n]]===void 0&&(e.services[r[n]]=null);e.apiVersions=Object.keys(e.services).sort()},"addVersions"),defineServiceApi:s(function(e,r,n){var i=$a(e,{serviceIdentifier:e.serviceIdentifier});function a(o){o.isApi?i.prototype.api=o:i.prototype.api=new SS(o,{serviceIdentifier:e.serviceIdentifier})}if(s(a,"setApi"),typeof r=="string"){if(n)a(n);else try{a(W.apiLoader(e.serviceIdentifier,r))}catch(o){throw W.util.error(o,{message:"Could not find API configuration "+e.serviceIdentifier+"-"+r})}Object.prototype.hasOwnProperty.call(e.services,r)||(e.apiVersions=e.apiVersions.concat(r).sort()),e.services[r]=i}else a(r);return W.Service.defineMethods(i),i},"defineServiceApi"),hasService:function(t){return Object.prototype.hasOwnProperty.call(W.Service._serviceMap,t)},addDefaultMonitoringListeners:s(function(e){e.addNamedListener("MONITOR_EVENTS_BUBBLE","apiCallAttempt",s(function(n){var i=Object.getPrototypeOf(e);i._events&&i.emit("apiCallAttempt",[n])},"EVENTS_BUBBLE")),e.addNamedListener("CALL_EVENTS_BUBBLE","apiCall",s(function(n){var i=Object.getPrototypeOf(e);i._events&&i.emit("apiCall",[n])},"CALL_EVENTS_BUBBLE"))},"addDefaultMonitoringListeners"),_serviceMap:{}});W.util.mixin(W.Service,W.SequentialExecutor);mf.exports=W.Service});var Ya=v(()=>{var Ke=K();Ke.Credentials=Ke.util.inherit({constructor:s(function(){if(Ke.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],arguments.length===1&&typeof arguments[0]=="object"){var e=arguments[0].credentials||arguments[0];this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,this.sessionToken=e.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},"Credentials"),expiryWindow:15,needsRefresh:s(function(){var e=Ke.util.date.getDate().getTime(),r=new Date(e+this.expiryWindow*1e3);return this.expireTime&&r>this.expireTime?!0:this.expired||!this.accessKeyId||!this.secretAccessKey},"needsRefresh"),get:s(function(e){var r=this;this.needsRefresh()?this.refresh(function(n){n||(r.expired=!1),e&&e(n)}):e&&e()},"get"),refresh:s(function(e){this.expired=!1,e()},"refresh"),coalesceRefresh:s(function(e,r){var n=this;n.refreshCallbacks.push(e)===1&&n.load(s(function(a){Ke.util.arrayEach(n.refreshCallbacks,function(o){r?o(a):Ke.util.defer(function(){o(a)})}),n.refreshCallbacks.length=0},"onLoad"))},"coalesceRefresh"),load:s(function(e){e()},"load")});Ke.Credentials.addPromisesToClass=s(function(e){this.prototype.getPromise=Ke.util.promisifyMethod("get",e),this.prototype.refreshPromise=Ke.util.promisifyMethod("refresh",e)},"addPromisesToClass");Ke.Credentials.deletePromisesFromClass=s(function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},"deletePromisesFromClass");Ke.util.addPromises(Ke.Credentials)});var Ja=v(()=>{var Qe=K();Qe.CredentialProviderChain=Qe.util.inherit(Qe.Credentials,{constructor:s(function(e){e?this.providers=e:this.providers=Qe.CredentialProviderChain.defaultProviders.slice(0),this.resolveCallbacks=[]},"CredentialProviderChain"),resolve:s(function(e){var r=this;if(r.providers.length===0)return e(new Error("No providers")),r;if(r.resolveCallbacks.push(e)===1){let o=function(u,c){if(!u&&c||n===i.length){Qe.util.arrayEach(r.resolveCallbacks,function(h){h(u,c)}),r.resolveCallbacks.length=0;return}var p=i[n++];typeof p=="function"?c=p.call():c=p,c.get?c.get(function(h){o(h,h?null:c)}):o(null,c)};var a=o;s(o,"resolveNext");var n=0,i=r.providers.slice(0);o()}return r},"resolve")});Qe.CredentialProviderChain.defaultProviders=[];Qe.CredentialProviderChain.addPromisesToClass=s(function(e){this.prototype.resolvePromise=Qe.util.promisifyMethod("resolve",e)},"addPromisesToClass");Qe.CredentialProviderChain.deletePromisesFromClass=s(function(){delete this.prototype.resolvePromise},"deletePromisesFromClass");Qe.util.addPromises(Qe.CredentialProviderChain)});var gf=v(()=>{var le=K();Ya();Ja();var mi;le.Config=le.util.inherit({constructor:s(function(e){e===void 0&&(e={}),e=this.extractCredentials(e),le.util.each.call(this,this.keys,function(r,n){this.set(r,e[r],n)})},"Config"),getCredentials:s(function(e){var r=this;function n(u){e(u,u?null:r.credentials)}s(n,"finish");function i(u,c){return new le.util.error(c||new Error,{code:"CredentialsError",message:u,name:"CredentialsError"})}s(i,"credError");function a(){r.credentials.get(function(u){if(u){var c="Could not load credentials from "+r.credentials.constructor.name;u=i(c,u)}n(u)})}s(a,"getAsyncCredentials");function o(){var u=null;(!r.credentials.accessKeyId||!r.credentials.secretAccessKey)&&(u=i("Missing credentials")),n(u)}s(o,"getStaticCredentials"),r.credentials?typeof r.credentials.get=="function"?a():o():r.credentialProvider?r.credentialProvider.resolve(function(u,c){u&&(u=i("Could not load credentials from any providers",u)),r.credentials=c,n(u)}):n(i("No credentials to load"))},"getCredentials"),update:s(function(e,r){r=r||!1,e=this.extractCredentials(e),le.util.each.call(this,e,function(n,i){(r||Object.prototype.hasOwnProperty.call(this.keys,n)||le.Service.hasService(n))&&this.set(n,i)})},"update"),loadFromPath:s(function(e){this.clear();var r=JSON.parse(le.util.readFileSync(e)),n=new le.FileSystemCredentials(e),i=new le.CredentialProviderChain;return i.providers.unshift(n),i.resolve(function(a,o){if(a)throw a;r.credentials=o}),this.constructor(r),this},"loadFromPath"),clear:s(function(){le.util.each.call(this,this.keys,function(e){delete this[e]}),this.set("credentials",void 0),this.set("credentialProvider",void 0)},"clear"),set:s(function(e,r,n){r===void 0?(n===void 0&&(n=this.keys[e]),typeof n=="function"?this[e]=n.call(this):this[e]=n):e==="httpOptions"&&this[e]?this[e]=le.util.merge(this[e],r):this[e]=r},"set"),keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,s3DisableBodySigning:!0,s3UsEast1RegionalEndpoint:"legacy",s3UseArnRegion:void 0,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0,retryDelayOptions:{},useAccelerateEndpoint:!1,clientSideMonitoring:!1,endpointDiscoveryEnabled:void 0,endpointCacheSize:1e3,hostPrefixEnabled:!0,stsRegionalEndpoints:"legacy"},extractCredentials:s(function(e){return e.accessKeyId&&e.secretAccessKey&&(e=le.util.copy(e),e.credentials=new le.Credentials(e)),e},"extractCredentials"),setPromisesDependency:s(function(e){mi=e,e===null&&typeof Promise=="function"&&(mi=Promise);var r=[le.Request,le.Credentials,le.CredentialProviderChain];le.S3&&(r.push(le.S3),le.S3.ManagedUpload&&r.push(le.S3.ManagedUpload)),le.util.addPromises(r,mi)},"setPromisesDependency"),getPromisesDependency:s(function(){return mi},"getPromisesDependency")});le.config=new le.Config});var gi=v(()=>{var Ce=K(),yi=Ce.util.inherit;Ce.Endpoint=yi({constructor:s(function(e,r){if(Ce.util.hideProperties(this,["slashes","auth","hash","search","query"]),typeof e=="undefined"||e===null)throw new Error("Invalid endpoint: "+e);if(typeof e!="string")return Ce.util.copy(e);if(!e.match(/^http/)){var n=r&&r.sslEnabled!==void 0?r.sslEnabled:Ce.config.sslEnabled;e=(n?"https":"http")+"://"+e}Ce.util.update(this,Ce.util.urlParse(e)),this.port?this.port=parseInt(this.port,10):this.port=this.protocol==="https:"?443:80},"Endpoint")});Ce.HttpRequest=yi({constructor:s(function(e,r){e=new Ce.Endpoint(e),this.method="POST",this.path=e.path||"/",this.headers={},this.body="",this.endpoint=e,this.region=r,this._userAgent="",this.setUserAgent()},"HttpRequest"),setUserAgent:s(function(){this._userAgent=this.headers[this.getUserAgentHeaderName()]=Ce.util.userAgent()},"setUserAgent"),getUserAgentHeaderName:s(function(){var e=Ce.util.isBrowser()?"X-Amz-":"";return e+"User-Agent"},"getUserAgentHeaderName"),appendToUserAgent:s(function(e){typeof e=="string"&&e&&(this._userAgent+=" "+e),this.headers[this.getUserAgentHeaderName()]=this._userAgent},"appendToUserAgent"),getUserAgent:s(function(){return this._userAgent},"getUserAgent"),pathname:s(function(){return this.path.split("?",1)[0]},"pathname"),search:s(function(){var e=this.path.split("?",2)[1];return e?(e=Ce.util.queryStringParse(e),Ce.util.queryParamsToString(e)):""},"search"),updateEndpoint:s(function(e){var r=new Ce.Endpoint(e);this.endpoint=r,this.path=r.path||"/",this.headers.Host&&(this.headers.Host=r.host)},"updateEndpoint")});Ce.HttpResponse=yi({constructor:s(function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},"HttpResponse"),createUnbufferedStream:s(function(){return this.streaming=!0,this.stream},"createUnbufferedStream")});Ce.HttpClient=yi({});Ce.HttpClient.getInstance=s(function(){return this.singleton===void 0&&(this.singleton=new this),this.singleton},"getInstance")});var Af=v((jw,Cf)=>{var ve=K(),Be=he(),vf=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"];function vi(t){var e=t.service,r=e.api||{},n=r.operations,i={};return e.config.region&&(i.region=e.config.region),r.serviceId&&(i.serviceId=r.serviceId),e.config.credentials.accessKeyId&&(i.accessKeyId=e.config.credentials.accessKeyId),i}s(vi,"getCacheKey");function bf(t,e,r){!r||e===void 0||e===null||r.type==="structure"&&r.required&&r.required.length>0&&Be.arrayEach(r.required,function(n){var i=r.members[n];if(i.endpointDiscoveryId===!0){var a=i.isLocationName?i.name:n;t[a]=String(e[n])}else bf(t,e[n],i)})}s(bf,"marshallCustomIdentifiersHelper");function bi(t,e){var r={};return bf(r,t.params,e),r}s(bi,"marshallCustomIdentifiers");function _f(t){var e=t.service,r=e.api,n=r.operations?r.operations[t.operation]:void 0,i=n?n.input:void 0,a=bi(t,i),o=vi(t);Object.keys(a).length>0&&(o=Be.update(o,a),n&&(o.operation=n.name));var u=ve.endpointCache.get(o);if(!(u&&u.length===1&&u[0].Address===""))if(u&&u.length>0)t.httpRequest.updateEndpoint(u[0].Address);else{var c=e.makeRequest(r.endpointOperation,{Operation:n.name,Identifiers:a});Ef(c),c.removeListener("validate",ve.EventListeners.Core.VALIDATE_PARAMETERS),c.removeListener("retry",ve.EventListeners.Core.RETRY_CHECK),ve.endpointCache.put(o,[{Address:"",CachePeriodInMinutes:1}]),c.send(function(p,h){h&&h.Endpoints?ve.endpointCache.put(o,h.Endpoints):p&&ve.endpointCache.put(o,[{Address:"",CachePeriodInMinutes:1}])})}}s(_f,"optionalDiscoverEndpoint");var yt={};function Sf(t,e){var r=t.service,n=r.api,i=n.operations?n.operations[t.operation]:void 0,a=i?i.input:void 0,o=bi(t,a),u=vi(t);Object.keys(o).length>0&&(u=Be.update(u,o),i&&(u.operation=i.name));var c=ve.EndpointCache.getKeyString(u),p=ve.endpointCache.get(c);if(p&&p.length===1&&p[0].Address===""){yt[c]||(yt[c]=[]),yt[c].push({request:t,callback:e});return}else if(p&&p.length>0)t.httpRequest.updateEndpoint(p[0].Address),e();else{var h=r.makeRequest(n.endpointOperation,{Operation:i.name,Identifiers:o});h.removeListener("validate",ve.EventListeners.Core.VALIDATE_PARAMETERS),Ef(h),ve.endpointCache.put(c,[{Address:"",CachePeriodInMinutes:60}]),h.send(function(m,T){if(m){if(t.response.error=Be.error(m,{retryable:!1}),ve.endpointCache.remove(u),yt[c]){var D=yt[c];Be.arrayEach(D,function(_){_.request.response.error=Be.error(m,{retryable:!1}),_.callback()}),delete yt[c]}}else if(T&&(ve.endpointCache.put(c,T.Endpoints),t.httpRequest.updateEndpoint(T.Endpoints[0].Address),yt[c])){var D=yt[c];Be.arrayEach(D,function(S){S.request.httpRequest.updateEndpoint(T.Endpoints[0].Address),S.callback()}),delete yt[c]}e()})}}s(Sf,"requiredDiscoverEndpoint");function Ef(t){var e=t.service.api,r=e.apiVersion;r&&!t.httpRequest.headers["x-amz-api-version"]&&(t.httpRequest.headers["x-amz-api-version"]=r)}s(Ef,"addApiVersionHeader");function Qa(t){var e=t.error,r=t.httpResponse;if(e&&(e.code==="InvalidEndpointException"||r.statusCode===421)){var n=t.request,i=n.service.api.operations||{},a=i[n.operation]?i[n.operation].input:void 0,o=bi(n,a),u=vi(n);Object.keys(o).length>0&&(u=Be.update(u,o),i[n.operation]&&(u.operation=i[n.operation].name)),ve.endpointCache.remove(u)}}s(Qa,"invalidateCachedEndpoints");function CS(t){if(t._originalConfig&&t._originalConfig.endpoint&&t._originalConfig.endpointDiscoveryEnabled===!0)throw Be.error(new Error,{code:"ConfigurationException",message:"Custom endpoint is supplied; endpointDiscoveryEnabled must not be true."});var e=ve.config[t.serviceIdentifier]||{};return Boolean(ve.config.endpoint||e.endpoint||t._originalConfig&&t._originalConfig.endpoint)}s(CS,"hasCustomEndpoint");function Tf(t){return["false","0"].indexOf(t)>=0}s(Tf,"isFalsy");function AS(t){var e=t.service||{};if(e.config.endpointDiscoveryEnabled!==void 0)return e.config.endpointDiscoveryEnabled;if(!Be.isBrowser()){for(var r=0;r<vf.length;r++){var n=vf[r];if(Object.prototype.hasOwnProperty.call(process.env,n)){if(process.env[n]===""||process.env[n]===void 0)throw Be.error(new Error,{code:"ConfigurationException",message:"environmental variable "+n+" cannot be set to nothing"});return!Tf(process.env[n])}}var i={};try{i=ve.util.iniLoader?ve.util.iniLoader.loadFrom({isConfig:!0,filename:process.env[ve.util.sharedConfigFileEnv]}):{}}catch(o){}var a=i[process.env.AWS_PROFILE||ve.util.defaultProfile]||{};if(Object.prototype.hasOwnProperty.call(a,"endpoint_discovery_enabled")){if(a.endpoint_discovery_enabled===void 0)throw Be.error(new Error,{code:"ConfigurationException",message:"config file entry 'endpoint_discovery_enabled' cannot be set to nothing"});return!Tf(a.endpoint_discovery_enabled)}}}s(AS,"resolveEndpointDiscoveryConfig");function xS(t,e){var r=t.service||{};if(CS(r)||t.isPresigned())return e();var n=r.api.operations||{},i=n[t.operation],a=i?i.endpointDiscoveryRequired:"NULL",o=AS(t),u=r.api.hasRequiredEndpointDiscovery;switch((o||u)&&t.httpRequest.appendToUserAgent("endpoint-discovery"),a){case"OPTIONAL":(o||u)&&(_f(t),t.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",Qa)),e();break;case"REQUIRED":if(o===!1){t.response.error=Be.error(new Error,{code:"ConfigurationException",message:"Endpoint Discovery is disabled but "+r.api.className+"."+t.operation+"() requires it. Please check your configurations."}),e();break}t.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",Qa),Sf(t,e);break;case"NULL":default:e();break}}s(xS,"discoverEndpoint");Cf.exports={discoverEndpoint:xS,requiredDiscoverEndpoint:Sf,optionalDiscoverEndpoint:_f,marshallCustomIdentifiers:bi,getCacheKey:vi,invalidateCachedEndpoint:Qa}});var xf=v(()=>{var ee=K(),Pt=Ha(),wS=Af().discoverEndpoint;ee.EventListeners={Core:{}};function IS(t){if(!t.service.api.operations)return"";var e=t.service.api.operations[t.operation];return e?e.authtype:""}s(IS,"getOperationAuthtype");ee.EventListeners={Core:new Pt().addNamedListeners(function(t,e){e("VALIDATE_CREDENTIALS","validate",s(function(i,a){if(!i.service.api.signatureVersion&&!i.service.config.signatureVersion)return a();i.service.config.getCredentials(function(o){o&&(i.response.error=ee.util.error(o,{code:"CredentialsError",message:"Missing credentials in config, if using AWS_CONFIG_FILE, set AWS_SDK_LOAD_CONFIG=1"})),a()})},"VALIDATE_CREDENTIALS")),t("VALIDATE_REGION","validate",s(function(i){if(!i.service.isGlobalEndpoint){var a=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);i.service.config.region?a.test(i.service.config.region)||(i.response.error=ee.util.error(new Error,{code:"ConfigError",message:"Invalid region in config"})):i.response.error=ee.util.error(new Error,{code:"ConfigError",message:"Missing region in config"})}},"VALIDATE_REGION")),t("BUILD_IDEMPOTENCY_TOKENS","validate",s(function(i){if(!!i.service.api.operations){var a=i.service.api.operations[i.operation];if(!!a){var o=a.idempotentMembers;if(!!o.length){for(var u=ee.util.copy(i.params),c=0,p=o.length;c<p;c++)u[o[c]]||(u[o[c]]=ee.util.uuid.v4());i.params=u}}}},"BUILD_IDEMPOTENCY_TOKENS")),t("VALIDATE_PARAMETERS","validate",s(function(i){if(!!i.service.api.operations){var a=i.service.api.operations[i.operation].input,o=i.service.config.paramValidation;new ee.ParamValidator(o).validate(a,i.params)}},"VALIDATE_PARAMETERS")),t("COMPUTE_CHECKSUM","afterBuild",s(function(i){if(!!i.service.api.operations){var a=i.service.api.operations[i.operation];if(!!a){var o=i.httpRequest.body,u=o&&(ee.util.Buffer.isBuffer(o)||typeof o=="string"),c=i.httpRequest.headers;if(a.httpChecksumRequired&&i.service.config.computeChecksums&&u&&i.service.getSignerClass(i)===ee.Signers.V4&&!c["Content-MD5"]){var p=ee.util.crypto.md5(o,"base64");c["Content-MD5"]=p}}}},"COMPUTE_CHECKSUM")),e("COMPUTE_SHA256","afterBuild",s(function(i,a){if(i.haltHandlersOnError(),!!i.service.api.operations){var o=i.service.api.operations[i.operation],u=o?o.authtype:"";if(!i.service.api.signatureVersion&&!u&&!i.service.config.signatureVersion)return a();if(i.service.getSignerClass(i)===ee.Signers.V4){var c=i.httpRequest.body||"";if(u.indexOf("unsigned-body")>=0)return i.httpRequest.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",a();ee.util.computeSha256(c,function(p,h){p?a(p):(i.httpRequest.headers["X-Amz-Content-Sha256"]=h,a())})}else a()}},"COMPUTE_SHA256")),t("SET_CONTENT_LENGTH","afterBuild",s(function(i){var a=IS(i),o=ee.util.getRequestPayloadShape(i);if(i.httpRequest.headers["Content-Length"]===void 0)try{var u=ee.util.string.byteLength(i.httpRequest.body);i.httpRequest.headers["Content-Length"]=u}catch(c){if(o&&o.isStreaming){if(o.requiresLength)throw c;if(a.indexOf("unsigned-body")>=0){i.httpRequest.headers["Transfer-Encoding"]="chunked";return}else throw c}throw c}},"SET_CONTENT_LENGTH")),t("SET_HTTP_HOST","afterBuild",s(function(i){i.httpRequest.headers.Host=i.httpRequest.endpoint.host},"SET_HTTP_HOST")),t("RESTART","restart",s(function(){var i=this.response.error;!i||!i.retryable||(this.httpRequest=new ee.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)},"RESTART"));var r=!0;e("DISCOVER_ENDPOINT","sign",wS,r),e("SIGN","sign",s(function(i,a){var o=i.service,u=i.service.api.operations||{},c=u[i.operation],p=c?c.authtype:"";if(!o.api.signatureVersion&&!p&&!o.config.signatureVersion)return a();o.config.getCredentials(function(h,m){if(h)return i.response.error=h,a();try{var T=o.getSkewCorrectedDate(),D=o.getSignerClass(i),_=new D(i.httpRequest,o.getSigningName(i),{signatureCache:o.config.signatureCache,operation:c,signatureVersion:o.api.signatureVersion});_.setServiceClientId(o._clientId),delete i.httpRequest.headers.Authorization,delete i.httpRequest.headers.Date,delete i.httpRequest.headers["X-Amz-Date"],_.addAuthorization(m,T),i.signedAt=T}catch(S){i.response.error=S}a()})},"SIGN")),t("VALIDATE_RESPONSE","validateResponse",s(function(i){this.service.successfulResponse(i,this)?(i.data={},i.error=null):(i.data=null,i.error=ee.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))},"VALIDATE_RESPONSE")),e("SEND","send",s(function(i,a){i.httpResponse._abortCallback=a,i.error=null,i.data=null;function o(m){i.httpResponse.stream=m;var T=i.request.httpRequest.stream,D=i.request.service,_=D.api,S=i.request.operation,q=_.operations[S]||{};m.on("headers",s(function(y,C,N){if(i.request.emit("httpHeaders",[y,C,i,N]),!i.httpResponse.streaming)if(ee.HttpClient.streamsApiVersion===2){if(q.hasEventOutput&&D.successfulResponse(i)){i.request.emit("httpDone"),a();return}m.on("readable",s(function(){var x=m.read();x!==null&&i.request.emit("httpData",[x,i])},"onReadable"))}else m.on("data",s(function(x){i.request.emit("httpData",[x,i])},"onData"))},"onHeaders")),m.on("end",s(function(){if(!T||!T.didCallback){if(ee.HttpClient.streamsApiVersion===2&&q.hasEventOutput&&D.successfulResponse(i))return;i.request.emit("httpDone"),a()}},"onEnd"))}s(o,"callback");function u(m){m.on("sendProgress",s(function(D){i.request.emit("httpUploadProgress",[D,i])},"onSendProgress")),m.on("receiveProgress",s(function(D){i.request.emit("httpDownloadProgress",[D,i])},"onReceiveProgress"))}s(u,"progress");function c(m){if(m.code!=="RequestAbortedError"){var T=m.code==="TimeoutError"?m.code:"NetworkingError";m=ee.util.error(m,{code:T,region:i.request.httpRequest.region,hostname:i.request.httpRequest.endpoint.hostname,retryable:!0})}i.error=m,i.request.emit("httpError",[i.error,i],function(){a()})}s(c,"error");function p(){var m=ee.HttpClient.getInstance(),T=i.request.service.config.httpOptions||{};try{var D=m.handleRequest(i.request.httpRequest,T,o,c);u(D)}catch(_){c(_)}}s(p,"executeSend");var h=(i.request.service.getSkewCorrectedDate()-this.signedAt)/1e3;h>=60*10?this.emit("sign",[this],function(m){m?a(m):p()}):p()},"SEND")),t("HTTP_HEADERS","httpHeaders",s(function(i,a,o,u){o.httpResponse.statusCode=i,o.httpResponse.statusMessage=u,o.httpResponse.headers=a,o.httpResponse.body=ee.util.buffer.toBuffer(""),o.httpResponse.buffers=[],o.httpResponse.numBytes=0;var c=a.date||a.Date,p=o.request.service;if(c){var h=Date.parse(c);p.config.correctClockSkew&&p.isClockSkewed(h)&&p.applyClockOffset(h)}},"HTTP_HEADERS")),t("HTTP_DATA","httpData",s(function(i,a){if(i){if(ee.util.isNode()){a.httpResponse.numBytes+=i.length;var o=a.httpResponse.headers["content-length"],u={loaded:a.httpResponse.numBytes,total:o};a.request.emit("httpDownloadProgress",[u,a])}a.httpResponse.buffers.push(ee.util.buffer.toBuffer(i))}},"HTTP_DATA")),t("HTTP_DONE","httpDone",s(function(i){if(i.httpResponse.buffers&&i.httpResponse.buffers.length>0){var a=ee.util.buffer.concat(i.httpResponse.buffers);i.httpResponse.body=a}delete i.httpResponse.numBytes,delete i.httpResponse.buffers},"HTTP_DONE")),t("FINALIZE_ERROR","retry",s(function(i){i.httpResponse.statusCode&&(i.error.statusCode=i.httpResponse.statusCode,i.error.retryable===void 0&&(i.error.retryable=this.service.retryableError(i.error,this)))},"FINALIZE_ERROR")),t("INVALIDATE_CREDENTIALS","retry",s(function(i){if(!!i.error)switch(i.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":i.error.retryable=!0,i.request.service.config.credentials.expired=!0}},"INVALIDATE_CREDENTIALS")),t("EXPIRED_SIGNATURE","retry",s(function(i){var a=i.error;!a||typeof a.code=="string"&&typeof a.message=="string"&&a.code.match(/Signature/)&&a.message.match(/expired/)&&(i.error.retryable=!0)},"EXPIRED_SIGNATURE")),t("CLOCK_SKEWED","retry",s(function(i){!i.error||this.service.clockSkewError(i.error)&&this.service.config.correctClockSkew&&(i.error.retryable=!0)},"CLOCK_SKEWED")),t("REDIRECT","retry",s(function(i){i.error&&i.error.statusCode>=300&&i.error.statusCode<400&&i.httpResponse.headers.location&&(this.httpRequest.endpoint=new ee.Endpoint(i.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,i.error.redirect=!0,i.error.retryable=!0)},"REDIRECT")),t("RETRY_CHECK","retry",s(function(i){i.error&&(i.error.redirect&&i.redirectCount<i.maxRedirects?i.error.retryDelay=0:i.retryCount<i.maxRetries&&(i.error.retryDelay=this.service.retryDelays(i.retryCount,i.error)||0))},"RETRY_CHECK")),e("RESET_RETRY_STATE","afterRetry",s(function(i,a){var o,u=!1;i.error&&(o=i.error.retryDelay||0,i.error.retryable&&i.retryCount<i.maxRetries?(i.retryCount++,u=!0):i.error.redirect&&i.redirectCount<i.maxRedirects&&(i.redirectCount++,u=!0)),u&&o>=0?(i.error=null,setTimeout(a,o)):a()},"RESET_RETRY_STATE"))}),CorePost:new Pt().addNamedListeners(function(t){t("EXTRACT_REQUEST_ID","extractData",ee.util.extractRequestId),t("EXTRACT_REQUEST_ID","extractError",ee.util.extractRequestId),t("ENOTFOUND_ERROR","httpError",s(function(r){function n(a){return a.errno==="ENOTFOUND"||typeof a.errno=="number"&&typeof ee.util.getSystemErrorName=="function"&&["EAI_NONAME","EAI_NODATA"].indexOf(ee.util.getSystemErrorName(a.errno)>=0)}if(s(n,"isDNSError"),r.code==="NetworkingError"&&n(r)){var i="Inaccessible host: `"+r.hostname+"'. This service may not be available in the `"+r.region+"' region.";this.response.error=ee.util.error(new Error(i),{code:"UnknownEndpoint",region:r.region,hostname:r.hostname,retryable:!0,originalError:r})}},"ENOTFOUND_ERROR"))}),Logger:new Pt().addNamedListeners(function(t){t("LOG_REQUEST","complete",s(function(r){var n=r.request,i=n.service.config.logger;if(!i)return;function a(c,p){if(!p)return p;if(c.isSensitive)return"***SensitiveInformation***";switch(c.type){case"structure":var h={};return ee.util.each(p,function(D,_){Object.prototype.hasOwnProperty.call(c.members,D)?h[D]=a(c.members[D],_):h[D]=_}),h;case"list":var m=[];return ee.util.arrayEach(p,function(D,_){m.push(a(c.member,D))}),m;case"map":var T={};return ee.util.each(p,function(D,_){T[D]=a(c.value,_)}),T;default:return p}}s(a,"filterSensitiveLog");function o(){var c=r.request.service.getSkewCorrectedDate().getTime(),p=(c-n.startTime.getTime())/1e3,h=!!i.isTTY,m=r.httpResponse.statusCode,T=n.params;if(n.service.api.operations&&n.service.api.operations[n.operation]&&n.service.api.operations[n.operation].input){var D=n.service.api.operations[n.operation].input;T=a(D,n.params)}var _=require("util").inspect(T,!0,null),S="";return h&&(S+="[33m"),S+="[AWS "+n.service.serviceIdentifier+" "+m,S+=" "+p.toString()+"s "+r.retryCount+" retries]",h&&(S+="[0;1m"),S+=" "+ee.util.string.lowerFirst(n.operation),S+="("+_+")",h&&(S+="[0m"),S}s(o,"buildMessage");var u=o();typeof i.log=="function"?i.log(u):typeof i.write=="function"&&i.write(u+`
`)},"LOG_REQUEST"))}),Json:new Pt().addNamedListeners(function(t){var e=ci();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),Rest:new Pt().addNamedListeners(function(t){var e=jr();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),RestJson:new Pt().addNamedListeners(function(t){var e=La();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),RestXml:new Pt().addNamedListeners(function(t){var e=Fa();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)}),Query:new Pt().addNamedListeners(function(t){var e=Oa();t("BUILD","build",e.buildRequest),t("EXTRACT_DATA","extractData",e.extractData),t("EXTRACT_ERROR","extractError",e.extractError)})}});var If=v((Vw,wf)=>{function Za(t,e){this.currentState=e||null,this.states=t||{}}s(Za,"AcceptorStateMachine");Za.prototype.runTo=s(function(e,r,n,i){typeof e=="function"&&(i=n,n=r,r=e,e=null);var a=this,o=a.states[a.currentState];o.fn.call(n||a,i,function(u){if(u)if(o.fail)a.currentState=o.fail;else return r?r.call(n,u):null;else if(o.accept)a.currentState=o.accept;else return r?r.call(n):null;if(a.currentState===e)return r?r.call(n,u):null;a.runTo(e,r,n,u)})},"runTo");Za.prototype.addState=s(function(e,r,n,i){return typeof r=="function"?(i=r,r=null,n=null):typeof n=="function"&&(i=n,n=null),this.currentState||(this.currentState=e),this.states[e]={accept:r,fail:n,fn:i},this},"addState");wf.exports=Za});var Si=v(_i=>{(function(t){"use strict";function e(l){return l!==null?Object.prototype.toString.call(l)==="[object Array]":!1}s(e,"isArray");function r(l){return l!==null?Object.prototype.toString.call(l)==="[object Object]":!1}s(r,"isObject");function n(l,d){if(l===d)return!0;var b=Object.prototype.toString.call(l);if(b!==Object.prototype.toString.call(d))return!1;if(e(l)===!0){if(l.length!==d.length)return!1;for(var I=0;I<l.length;I++)if(n(l[I],d[I])===!1)return!1;return!0}if(r(l)===!0){var M={};for(var k in l)if(hasOwnProperty.call(l,k)){if(n(l[k],d[k])===!1)return!1;M[k]=!0}for(var B in d)if(hasOwnProperty.call(d,B)&&M[B]!==!0)return!1;return!0}return!1}s(n,"strictDeepEqual");function i(l){if(l===""||l===!1||l===null)return!0;if(e(l)&&l.length===0)return!0;if(r(l)){for(var d in l)if(l.hasOwnProperty(d))return!1;return!0}else return!1}s(i,"isFalse");function a(l){for(var d=Object.keys(l),b=[],I=0;I<d.length;I++)b.push(l[d[I]]);return b}s(a,"objValues");function o(l,d){var b={};for(var I in l)b[I]=l[I];for(var M in d)b[M]=d[M];return b}s(o,"merge");var u;typeof String.prototype.trimLeft=="function"?u=s(function(l){return l.trimLeft()},"trimLeft"):u=s(function(l){return l.match(/^\s*(.*)/)[1]},"trimLeft");var c=0,p=1,h=2,m=3,T=4,D=5,_=6,S=7,q=8,A=9,y="EOF",C="UnquotedIdentifier",N="QuotedIdentifier",O="Rbracket",x="Rparen",w="Comma",E="Colon",G="Rbrace",H="Number",j="Current",Z="Expref",me="Pipe",ye="Or",Pe="And",Y="EQ",Ge="GT",He="LT",Xe="GTE",De="LTE",ne="NE",_e="Flatten",Ue="Star",ie="Filter",ft="Dot",g="Not",f="Lbrace",L="Lbracket",R="Lparen",Q="Literal",te={".":ft,"*":Ue,",":w,":":E,"{":f,"}":G,"]":O,"(":R,")":x,"@":j},ue={"<":!0,">":!0,"=":!0,"!":!0},be={" ":!0,"	":!0,"\n":!0};function Re(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l==="_"}s(Re,"isAlpha");function ze(l){return l>="0"&&l<="9"||l==="-"}s(ze,"isNum");function de(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l>="0"&&l<="9"||l==="_"}s(de,"isAlphaNum");function Ne(){}s(Ne,"Lexer"),Ne.prototype={tokenize:function(l){var d=[];this._current=0;for(var b,I,M;this._current<l.length;)if(Re(l[this._current]))b=this._current,I=this._consumeUnquotedIdentifier(l),d.push({type:C,value:I,start:b});else if(te[l[this._current]]!==void 0)d.push({type:te[l[this._current]],value:l[this._current],start:this._current}),this._current++;else if(ze(l[this._current]))M=this._consumeNumber(l),d.push(M);else if(l[this._current]==="[")M=this._consumeLBracket(l),d.push(M);else if(l[this._current]==='"')b=this._current,I=this._consumeQuotedIdentifier(l),d.push({type:N,value:I,start:b});else if(l[this._current]==="'")b=this._current,I=this._consumeRawStringLiteral(l),d.push({type:Q,value:I,start:b});else if(l[this._current]==="`"){b=this._current;var k=this._consumeLiteral(l);d.push({type:Q,value:k,start:b})}else if(ue[l[this._current]]!==void 0)d.push(this._consumeOperator(l));else if(be[l[this._current]]!==void 0)this._current++;else if(l[this._current]==="&")b=this._current,this._current++,l[this._current]==="&"?(this._current++,d.push({type:Pe,value:"&&",start:b})):d.push({type:Z,value:"&",start:b});else if(l[this._current]==="|")b=this._current,this._current++,l[this._current]==="|"?(this._current++,d.push({type:ye,value:"||",start:b})):d.push({type:me,value:"|",start:b});else{var B=new Error("Unknown character:"+l[this._current]);throw B.name="LexerError",B}return d},_consumeUnquotedIdentifier:function(l){var d=this._current;for(this._current++;this._current<l.length&&de(l[this._current]);)this._current++;return l.slice(d,this._current)},_consumeQuotedIdentifier:function(l){var d=this._current;this._current++;for(var b=l.length;l[this._current]!=='"'&&this._current<b;){var I=this._current;l[I]==="\\"&&(l[I+1]==="\\"||l[I+1]==='"')?I+=2:I++,this._current=I}return this._current++,JSON.parse(l.slice(d,this._current))},_consumeRawStringLiteral:function(l){var d=this._current;this._current++;for(var b=l.length;l[this._current]!=="'"&&this._current<b;){var I=this._current;l[I]==="\\"&&(l[I+1]==="\\"||l[I+1]==="'")?I+=2:I++,this._current=I}this._current++;var M=l.slice(d+1,this._current-1);return M.replace("\\'","'")},_consumeNumber:function(l){var d=this._current;this._current++;for(var b=l.length;ze(l[this._current])&&this._current<b;)this._current++;var I=parseInt(l.slice(d,this._current));return{type:H,value:I,start:d}},_consumeLBracket:function(l){var d=this._current;return this._current++,l[this._current]==="?"?(this._current++,{type:ie,value:"[?",start:d}):l[this._current]==="]"?(this._current++,{type:_e,value:"[]",start:d}):{type:L,value:"[",start:d}},_consumeOperator:function(l){var d=this._current,b=l[d];if(this._current++,b==="!")return l[this._current]==="="?(this._current++,{type:ne,value:"!=",start:d}):{type:g,value:"!",start:d};if(b==="<")return l[this._current]==="="?(this._current++,{type:De,value:"<=",start:d}):{type:He,value:"<",start:d};if(b===">")return l[this._current]==="="?(this._current++,{type:Xe,value:">=",start:d}):{type:Ge,value:">",start:d};if(b==="="&&l[this._current]==="=")return this._current++,{type:Y,value:"==",start:d}},_consumeLiteral:function(l){this._current++;for(var d=this._current,b=l.length,I;l[this._current]!=="`"&&this._current<b;){var M=this._current;l[M]==="\\"&&(l[M+1]==="\\"||l[M+1]==="`")?M+=2:M++,this._current=M}var k=u(l.slice(d,this._current));return k=k.replace("\\`","`"),this._looksLikeJSON(k)?I=JSON.parse(k):I=JSON.parse('"'+k+'"'),this._current++,I},_looksLikeJSON:function(l){var d='[{"',b=["true","false","null"],I="-0123456789";if(l==="")return!1;if(d.indexOf(l[0])>=0)return!0;if(b.indexOf(l)>=0)return!0;if(I.indexOf(l[0])>=0)try{return JSON.parse(l),!0}catch(M){return!1}else return!1}};var $={};$[y]=0,$[C]=0,$[N]=0,$[O]=0,$[x]=0,$[w]=0,$[G]=0,$[H]=0,$[j]=0,$[Z]=0,$[me]=1,$[ye]=2,$[Pe]=3,$[Y]=5,$[Ge]=5,$[He]=5,$[Xe]=5,$[De]=5,$[ne]=5,$[_e]=9,$[Ue]=20,$[ie]=21,$[ft]=40,$[g]=45,$[f]=50,$[L]=55,$[R]=60;function st(){}s(st,"Parser"),st.prototype={parse:function(l){this._loadTokens(l),this.index=0;var d=this.expression(0);if(this._lookahead(0)!==y){var b=this._lookaheadToken(0),I=new Error("Unexpected token type: "+b.type+", value: "+b.value);throw I.name="ParserError",I}return d},_loadTokens:function(l){var d=new Ne,b=d.tokenize(l);b.push({type:y,value:"",start:l.length}),this.tokens=b},expression:function(l){var d=this._lookaheadToken(0);this._advance();for(var b=this.nud(d),I=this._lookahead(0);l<$[I];)this._advance(),b=this.led(I,b),I=this._lookahead(0);return b},_lookahead:function(l){return this.tokens[this.index+l].type},_lookaheadToken:function(l){return this.tokens[this.index+l]},_advance:function(){this.index++},nud:function(l){var d,b,I;switch(l.type){case Q:return{type:"Literal",value:l.value};case C:return{type:"Field",name:l.value};case N:var M={type:"Field",name:l.value};if(this._lookahead(0)===R)throw new Error("Quoted identifier not allowed for function names.");return M;case g:return b=this.expression($.Not),{type:"NotExpression",children:[b]};case Ue:return d={type:"Identity"},b=null,this._lookahead(0)===O?b={type:"Identity"}:b=this._parseProjectionRHS($.Star),{type:"ValueProjection",children:[d,b]};case ie:return this.led(l.type,{type:"Identity"});case f:return this._parseMultiselectHash();case _e:return d={type:_e,children:[{type:"Identity"}]},b=this._parseProjectionRHS($.Flatten),{type:"Projection",children:[d,b]};case L:return this._lookahead(0)===H||this._lookahead(0)===E?(b=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},b)):this._lookahead(0)===Ue&&this._lookahead(1)===O?(this._advance(),this._advance(),b=this._parseProjectionRHS($.Star),{type:"Projection",children:[{type:"Identity"},b]}):this._parseMultiselectList();case j:return{type:j};case Z:return I=this.expression($.Expref),{type:"ExpressionReference",children:[I]};case R:for(var k=[];this._lookahead(0)!==x;)this._lookahead(0)===j?(I={type:j},this._advance()):I=this.expression(0),k.push(I);return this._match(x),k[0];default:this._errorToken(l)}},led:function(l,d){var b;switch(l){case ft:var I=$.Dot;return this._lookahead(0)!==Ue?(b=this._parseDotRHS(I),{type:"Subexpression",children:[d,b]}):(this._advance(),b=this._parseProjectionRHS(I),{type:"ValueProjection",children:[d,b]});case me:return b=this.expression($.Pipe),{type:me,children:[d,b]};case ye:return b=this.expression($.Or),{type:"OrExpression",children:[d,b]};case Pe:return b=this.expression($.And),{type:"AndExpression",children:[d,b]};case R:for(var M=d.name,k=[],B,F;this._lookahead(0)!==x;)this._lookahead(0)===j?(B={type:j},this._advance()):B=this.expression(0),this._lookahead(0)===w&&this._match(w),k.push(B);return this._match(x),F={type:"Function",name:M,children:k},F;case ie:var z=this.expression(0);return this._match(O),this._lookahead(0)===_e?b={type:"Identity"}:b=this._parseProjectionRHS($.Filter),{type:"FilterProjection",children:[d,b,z]};case _e:var J={type:_e,children:[d]},se=this._parseProjectionRHS($.Flatten);return{type:"Projection",children:[J,se]};case Y:case ne:case Ge:case Xe:case He:case De:return this._parseComparator(d,l);case L:var X=this._lookaheadToken(0);return X.type===H||X.type===E?(b=this._parseIndexExpression(),this._projectIfSlice(d,b)):(this._match(Ue),this._match(O),b=this._parseProjectionRHS($.Star),{type:"Projection",children:[d,b]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(l){if(this._lookahead(0)===l)this._advance();else{var d=this._lookaheadToken(0),b=new Error("Expected "+l+", got: "+d.type);throw b.name="ParserError",b}},_errorToken:function(l){var d=new Error("Invalid token ("+l.type+'): "'+l.value+'"');throw d.name="ParserError",d},_parseIndexExpression:function(){if(this._lookahead(0)===E||this._lookahead(1)===E)return this._parseSliceExpression();var l={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(O),l},_projectIfSlice:function(l,d){var b={type:"IndexExpression",children:[l,d]};return d.type==="Slice"?{type:"Projection",children:[b,this._parseProjectionRHS($.Star)]}:b},_parseSliceExpression:function(){for(var l=[null,null,null],d=0,b=this._lookahead(0);b!==O&&d<3;){if(b===E)d++,this._advance();else if(b===H)l[d]=this._lookaheadToken(0).value,this._advance();else{var I=this._lookahead(0),M=new Error("Syntax error, unexpected token: "+I.value+"("+I.type+")");throw M.name="Parsererror",M}b=this._lookahead(0)}return this._match(O),{type:"Slice",children:l}},_parseComparator:function(l,d){var b=this.expression($[d]);return{type:"Comparator",name:d,children:[l,b]}},_parseDotRHS:function(l){var d=this._lookahead(0),b=[C,N,Ue];if(b.indexOf(d)>=0)return this.expression(l);if(d===L)return this._match(L),this._parseMultiselectList();if(d===f)return this._match(f),this._parseMultiselectHash()},_parseProjectionRHS:function(l){var d;if($[this._lookahead(0)]<10)d={type:"Identity"};else if(this._lookahead(0)===L)d=this.expression(l);else if(this._lookahead(0)===ie)d=this.expression(l);else if(this._lookahead(0)===ft)this._match(ft),d=this._parseDotRHS(l);else{var b=this._lookaheadToken(0),I=new Error("Sytanx error, unexpected token: "+b.value+"("+b.type+")");throw I.name="ParserError",I}return d},_parseMultiselectList:function(){for(var l=[];this._lookahead(0)!==O;){var d=this.expression(0);if(l.push(d),this._lookahead(0)===w&&(this._match(w),this._lookahead(0)===O))throw new Error("Unexpected token Rbracket")}return this._match(O),{type:"MultiSelectList",children:l}},_parseMultiselectHash:function(){for(var l=[],d=[C,N],b,I,M,k;;){if(b=this._lookaheadToken(0),d.indexOf(b.type)<0)throw new Error("Expecting an identifier token, got: "+b.type);if(I=b.value,this._advance(),this._match(E),M=this.expression(0),k={type:"KeyValuePair",name:I,value:M},l.push(k),this._lookahead(0)===w)this._match(w);else if(this._lookahead(0)===G){this._match(G);break}}return{type:"MultiSelectHash",children:l}}};function wt(l){this.runtime=l}s(wt,"TreeInterpreter"),wt.prototype={search:function(l,d){return this.visit(l,d)},visit:function(l,d){var b,I,M,k,B,F,z,J,se,X;switch(l.type){case"Field":return d===null?null:r(d)?(F=d[l.name],F===void 0?null:F):null;case"Subexpression":for(M=this.visit(l.children[0],d),X=1;X<l.children.length;X++)if(M=this.visit(l.children[1],M),M===null)return null;return M;case"IndexExpression":return z=this.visit(l.children[0],d),J=this.visit(l.children[1],z),J;case"Index":if(!e(d))return null;var dt=l.value;return dt<0&&(dt=d.length+dt),M=d[dt],M===void 0&&(M=null),M;case"Slice":if(!e(d))return null;var qg=l.children.slice(0),us=this.computeSliceParams(d.length,qg),Mc=us[0],Lc=us[1],cs=us[2];if(M=[],cs>0)for(X=Mc;X<Lc;X+=cs)M.push(d[X]);else for(X=Mc;X>Lc;X+=cs)M.push(d[X]);return M;case"Projection":var $e=this.visit(l.children[0],d);if(!e($e))return null;for(se=[],X=0;X<$e.length;X++)I=this.visit(l.children[1],$e[X]),I!==null&&se.push(I);return se;case"ValueProjection":if($e=this.visit(l.children[0],d),!r($e))return null;se=[];var kc=a($e);for(X=0;X<kc.length;X++)I=this.visit(l.children[1],kc[X]),I!==null&&se.push(I);return se;case"FilterProjection":if($e=this.visit(l.children[0],d),!e($e))return null;var ls=[],Fc=[];for(X=0;X<$e.length;X++)b=this.visit(l.children[2],$e[X]),i(b)||ls.push($e[X]);for(var ps=0;ps<ls.length;ps++)I=this.visit(l.children[1],ls[ps]),I!==null&&Fc.push(I);return Fc;case"Comparator":switch(k=this.visit(l.children[0],d),B=this.visit(l.children[1],d),l.name){case Y:M=n(k,B);break;case ne:M=!n(k,B);break;case Ge:M=k>B;break;case Xe:M=k>=B;break;case He:M=k<B;break;case De:M=k<=B;break;default:throw new Error("Unknown comparator: "+l.name)}return M;case _e:var fs=this.visit(l.children[0],d);if(!e(fs))return null;var On=[];for(X=0;X<fs.length;X++)I=fs[X],e(I)?On.push.apply(On,I):On.push(I);return On;case"Identity":return d;case"MultiSelectList":if(d===null)return null;for(se=[],X=0;X<l.children.length;X++)se.push(this.visit(l.children[X],d));return se;case"MultiSelectHash":if(d===null)return null;se={};var ds;for(X=0;X<l.children.length;X++)ds=l.children[X],se[ds.name]=this.visit(ds.value,d);return se;case"OrExpression":return b=this.visit(l.children[0],d),i(b)&&(b=this.visit(l.children[1],d)),b;case"AndExpression":return k=this.visit(l.children[0],d),i(k)===!0?k:this.visit(l.children[1],d);case"NotExpression":return k=this.visit(l.children[0],d),i(k);case"Literal":return l.value;case me:return z=this.visit(l.children[0],d),this.visit(l.children[1],z);case j:return d;case"Function":var Bc=[];for(X=0;X<l.children.length;X++)Bc.push(this.visit(l.children[X],d));return this.runtime.callFunction(l.name,Bc);case"ExpressionReference":var Uc=l.children[0];return Uc.jmespathType=Z,Uc;default:throw new Error("Unknown node type: "+l.type)}},computeSliceParams:function(l,d){var b=d[0],I=d[1],M=d[2],k=[null,null,null];if(M===null)M=1;else if(M===0){var B=new Error("Invalid slice, step cannot be 0");throw B.name="RuntimeError",B}var F=M<0;return b===null?b=F?l-1:0:b=this.capSliceRange(l,b,M),I===null?I=F?-1:l:I=this.capSliceRange(l,I,M),k[0]=b,k[1]=I,k[2]=M,k},capSliceRange:function(l,d,b){return d<0?(d+=l,d<0&&(d=b<0?-1:0)):d>=l&&(d=b<0?l-1:l),d}};function Gt(l){this._interpreter=l,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[c]}]},avg:{_func:this._functionAvg,_signature:[{types:[q]}]},ceil:{_func:this._functionCeil,_signature:[{types:[c]}]},contains:{_func:this._functionContains,_signature:[{types:[h,m]},{types:[p]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[h]},{types:[h]}]},floor:{_func:this._functionFloor,_signature:[{types:[c]}]},length:{_func:this._functionLength,_signature:[{types:[h,m,T]}]},map:{_func:this._functionMap,_signature:[{types:[_]},{types:[m]}]},max:{_func:this._functionMax,_signature:[{types:[q,A]}]},merge:{_func:this._functionMerge,_signature:[{types:[T],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[m]},{types:[_]}]},sum:{_func:this._functionSum,_signature:[{types:[q]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[h]},{types:[h]}]},min:{_func:this._functionMin,_signature:[{types:[q,A]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[m]},{types:[_]}]},type:{_func:this._functionType,_signature:[{types:[p]}]},keys:{_func:this._functionKeys,_signature:[{types:[T]}]},values:{_func:this._functionValues,_signature:[{types:[T]}]},sort:{_func:this._functionSort,_signature:[{types:[A,q]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[m]},{types:[_]}]},join:{_func:this._functionJoin,_signature:[{types:[h]},{types:[A]}]},reverse:{_func:this._functionReverse,_signature:[{types:[h,m]}]},to_array:{_func:this._functionToArray,_signature:[{types:[p]}]},to_string:{_func:this._functionToString,_signature:[{types:[p]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[p]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[p],variadic:!0}]}}}s(Gt,"Runtime"),Gt.prototype={callFunction:function(l,d){var b=this.functionTable[l];if(b===void 0)throw new Error("Unknown function: "+l+"()");return this._validateArgs(l,d,b._signature),b._func.call(this,d)},_validateArgs:function(l,d,b){var I;if(b[b.length-1].variadic){if(d.length<b.length)throw I=b.length===1?" argument":" arguments",new Error("ArgumentError: "+l+"() takes at least"+b.length+I+" but received "+d.length)}else if(d.length!==b.length)throw I=b.length===1?" argument":" arguments",new Error("ArgumentError: "+l+"() takes "+b.length+I+" but received "+d.length);for(var M,k,B,F=0;F<b.length;F++){B=!1,M=b[F].types,k=this._getTypeName(d[F]);for(var z=0;z<M.length;z++)if(this._typeMatches(k,M[z],d[F])){B=!0;break}if(!B)throw new Error("TypeError: "+l+"() expected argument "+(F+1)+" to be type "+M+" but received type "+k+" instead.")}},_typeMatches:function(l,d,b){if(d===p)return!0;if(d===A||d===q||d===m){if(d===m)return l===m;if(l===m){var I;d===q?I=c:d===A&&(I=h);for(var M=0;M<b.length;M++)if(!this._typeMatches(this._getTypeName(b[M]),I,b[M]))return!1;return!0}}else return l===d},_getTypeName:function(l){switch(Object.prototype.toString.call(l)){case"[object String]":return h;case"[object Number]":return c;case"[object Array]":return m;case"[object Boolean]":return D;case"[object Null]":return S;case"[object Object]":return l.jmespathType===Z?_:T}},_functionStartsWith:function(l){return l[0].lastIndexOf(l[1])===0},_functionEndsWith:function(l){var d=l[0],b=l[1];return d.indexOf(b,d.length-b.length)!==-1},_functionReverse:function(l){var d=this._getTypeName(l[0]);if(d===h){for(var b=l[0],I="",M=b.length-1;M>=0;M--)I+=b[M];return I}else{var k=l[0].slice(0);return k.reverse(),k}},_functionAbs:function(l){return Math.abs(l[0])},_functionCeil:function(l){return Math.ceil(l[0])},_functionAvg:function(l){for(var d=0,b=l[0],I=0;I<b.length;I++)d+=b[I];return d/b.length},_functionContains:function(l){return l[0].indexOf(l[1])>=0},_functionFloor:function(l){return Math.floor(l[0])},_functionLength:function(l){return r(l[0])?Object.keys(l[0]).length:l[0].length},_functionMap:function(l){for(var d=[],b=this._interpreter,I=l[0],M=l[1],k=0;k<M.length;k++)d.push(b.visit(I,M[k]));return d},_functionMerge:function(l){for(var d={},b=0;b<l.length;b++){var I=l[b];for(var M in I)d[M]=I[M]}return d},_functionMax:function(l){if(l[0].length>0){var d=this._getTypeName(l[0][0]);if(d===c)return Math.max.apply(Math,l[0]);for(var b=l[0],I=b[0],M=1;M<b.length;M++)I.localeCompare(b[M])<0&&(I=b[M]);return I}else return null},_functionMin:function(l){if(l[0].length>0){var d=this._getTypeName(l[0][0]);if(d===c)return Math.min.apply(Math,l[0]);for(var b=l[0],I=b[0],M=1;M<b.length;M++)b[M].localeCompare(I)<0&&(I=b[M]);return I}else return null},_functionSum:function(l){for(var d=0,b=l[0],I=0;I<b.length;I++)d+=b[I];return d},_functionType:function(l){switch(this._getTypeName(l[0])){case c:return"number";case h:return"string";case m:return"array";case T:return"object";case D:return"boolean";case _:return"expref";case S:return"null"}},_functionKeys:function(l){return Object.keys(l[0])},_functionValues:function(l){for(var d=l[0],b=Object.keys(d),I=[],M=0;M<b.length;M++)I.push(d[b[M]]);return I},_functionJoin:function(l){var d=l[0],b=l[1];return b.join(d)},_functionToArray:function(l){return this._getTypeName(l[0])===m?l[0]:[l[0]]},_functionToString:function(l){return this._getTypeName(l[0])===h?l[0]:JSON.stringify(l[0])},_functionToNumber:function(l){var d=this._getTypeName(l[0]),b;return d===c?l[0]:d===h&&(b=+l[0],!isNaN(b))?b:null},_functionNotNull:function(l){for(var d=0;d<l.length;d++)if(this._getTypeName(l[d])!==S)return l[d];return null},_functionSort:function(l){var d=l[0].slice(0);return d.sort(),d},_functionSortBy:function(l){var d=l[0].slice(0);if(d.length===0)return d;var b=this._interpreter,I=l[1],M=this._getTypeName(b.visit(I,d[0]));if([c,h].indexOf(M)<0)throw new Error("TypeError");for(var k=this,B=[],F=0;F<d.length;F++)B.push([F,d[F]]);B.sort(function(J,se){var X=b.visit(I,J[1]),dt=b.visit(I,se[1]);if(k._getTypeName(X)!==M)throw new Error("TypeError: expected "+M+", received "+k._getTypeName(X));if(k._getTypeName(dt)!==M)throw new Error("TypeError: expected "+M+", received "+k._getTypeName(dt));return X>dt?1:X<dt?-1:J[0]-se[0]});for(var z=0;z<B.length;z++)d[z]=B[z][1];return d},_functionMaxBy:function(l){for(var d=l[1],b=l[0],I=this.createKeyFunction(d,[c,h]),M=-1/0,k,B,F=0;F<b.length;F++)B=I(b[F]),B>M&&(M=B,k=b[F]);return k},_functionMinBy:function(l){for(var d=l[1],b=l[0],I=this.createKeyFunction(d,[c,h]),M=1/0,k,B,F=0;F<b.length;F++)B=I(b[F]),B<M&&(M=B,k=b[F]);return k},createKeyFunction:function(l,d){var b=this,I=this._interpreter,M=s(function(k){var B=I.visit(l,k);if(d.indexOf(b._getTypeName(B))<0){var F="TypeError: expected one of "+d+", received "+b._getTypeName(B);throw new Error(F)}return B},"keyFunc");return M}};function os(l){var d=new st,b=d.parse(l);return b}s(os,"compile");function wr(l){var d=new Ne;return d.tokenize(l)}s(wr,"tokenize");function P(l,d){var b=new st,I=new Gt,M=new wt(I);I._interpreter=M;var k=b.parse(d);return M.search(k,l)}s(P,"search"),t.tokenize=wr,t.compile=os,t.search=P,t.strictDeepEqual=n})(typeof _i=="undefined"?_i.jmespath={}:_i)});var Rf=v(()=>{var re=K(),Df=If(),DS=re.util.inherit,Ei=re.util.domain,RS=Si(),NS={success:1,error:1,complete:1};function qS(t){return Object.prototype.hasOwnProperty.call(NS,t._asm.currentState)}s(qS,"isTerminalState");var eo=new Df;eo.setupStates=function(){var t=s(function(e,r){var n=this;n._haltHandlersOnError=!1,n.emit(n._asm.currentState,function(i){if(i)if(qS(n))if(Ei&&n.domain instanceof Ei.Domain)i.domainEmitter=n,i.domain=n.domain,i.domainThrown=!1,n.domain.emit("error",i);else throw i;else n.response.error=i,r(i);else r(n.response.error)})},"transition");this.addState("validate","build","error",t),this.addState("build","afterBuild","restart",t),this.addState("afterBuild","sign","restart",t),this.addState("sign","send","retry",t),this.addState("retry","afterRetry","afterRetry",t),this.addState("afterRetry","sign","error",t),this.addState("send","validateResponse","retry",t),this.addState("validateResponse","extractData","extractError",t),this.addState("extractError","extractData","retry",t),this.addState("extractData","success","retry",t),this.addState("restart","build","error",t),this.addState("success","complete","complete",t),this.addState("error","complete","complete",t),this.addState("complete",null,null,t)};eo.setupStates();re.Request=DS({constructor:s(function(e,r,n){var i=e.endpoint,a=e.config.region,o=e.config.customUserAgent;e.isGlobalEndpoint&&(e.signingRegion?a=e.signingRegion:a="us-east-1"),this.domain=Ei&&Ei.active,this.service=e,this.operation=r,this.params=n||{},this.httpRequest=new re.HttpRequest(i,a),this.httpRequest.appendToUserAgent(o),this.startTime=e.getSkewCorrectedDate(),this.response=new re.Response(this),this._asm=new Df(eo.states,"validate"),this._haltHandlersOnError=!1,re.SequentialExecutor.call(this),this.emit=this.emitEvent},"Request"),send:s(function(e){return e&&(this.httpRequest.appendToUserAgent("callback"),this.on("complete",function(r){e.call(r,r.error,r.data)})),this.runTo(),this.response},"send"),build:s(function(e){return this.runTo("send",e)},"build"),runTo:s(function(e,r){return this._asm.runTo(e,r,this),this},"runTo"),abort:s(function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",s(function(r){r.error=re.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})},"addAbortedError")),this.httpRequest.stream&&!this.httpRequest.stream.didCallback&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},"abort"),eachPage:s(function(e){e=re.util.fn.makeAsync(e,3);function r(n){e.call(n,n.error,n.data,function(i){i!==!1&&(n.hasNextPage()?n.nextPage().on("complete",r).send():e.call(n,null,null,re.util.fn.noop))})}s(r,"wrappedCallback"),this.on("complete",r).send()},"eachPage"),eachItem:s(function(e){var r=this;function n(i,a){if(i)return e(i,null);if(a===null)return e(null,null);var o=r.service.paginationConfig(r.operation),u=o.resultKey;Array.isArray(u)&&(u=u[0]);var c=RS.search(a,u),p=!0;return re.util.arrayEach(c,function(h){if(p=e(null,h),p===!1)return re.util.abort}),p}s(n,"wrappedCallback"),this.eachPage(n)},"eachItem"),isPageable:s(function(){return!!this.service.paginationConfig(this.operation)},"isPageable"),createReadStream:s(function(){var e=re.util.stream,r=this,n=null;return re.HttpClient.streamsApiVersion===2?(n=new e.PassThrough,process.nextTick(function(){r.send()})):(n=new e.Stream,n.readable=!0,n.sent=!1,n.on("newListener",function(i){!n.sent&&i==="data"&&(n.sent=!0,process.nextTick(function(){r.send()}))})),this.on("error",function(i){n.emit("error",i)}),this.on("httpHeaders",s(function(a,o,u){if(a<300){r.removeListener("httpData",re.EventListeners.Core.HTTP_DATA),r.removeListener("httpError",re.EventListeners.Core.HTTP_ERROR),r.on("httpError",s(function(S){u.error=S,u.error.retryable=!1},"streamHttpError"));var c=!1,p;if(r.httpRequest.method!=="HEAD"&&(p=parseInt(o["content-length"],10)),p!==void 0&&!isNaN(p)&&p>=0){c=!0;var h=0}var m=s(function(){c&&h!==p?n.emit("error",re.util.error(new Error("Stream content length mismatch. Received "+h+" of "+p+" bytes."),{code:"StreamContentLengthMismatch"})):re.HttpClient.streamsApiVersion===2?n.end():n.emit("end")},"checkContentLengthAndEmit"),T=u.httpResponse.createUnbufferedStream();if(re.HttpClient.streamsApiVersion===2)if(c){var D=new e.PassThrough;D._write=function(_){return _&&_.length&&(h+=_.length),e.PassThrough.prototype._write.apply(this,arguments)},D.on("end",m),n.on("error",function(_){c=!1,T.unpipe(D),D.emit("end"),D.end()}),T.pipe(D).pipe(n,{end:!1})}else T.pipe(n);else c&&T.on("data",function(_){_&&_.length&&(h+=_.length)}),T.on("data",function(_){n.emit("data",_)}),T.on("end",m);T.on("error",function(_){c=!1,n.emit("error",_)})}},"streamHeaders")),n},"createReadStream"),emitEvent:s(function(e,r,n){typeof r=="function"&&(n=r,r=null),n||(n=s(function(){},"done")),r||(r=this.eventParameters(e,this.response));var i=re.SequentialExecutor.prototype.emit;i.call(this,e,r,function(a){a&&(this.response.error=a),n.call(this,a)})},"emit"),eventParameters:s(function(e){switch(e){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},"eventParameters"),presign:s(function(e,r){return!r&&typeof e=="function"&&(r=e,e=null),new re.Signers.Presign().sign(this.toGet(),e,r)},"presign"),isPresigned:s(function(){return Object.prototype.hasOwnProperty.call(this.httpRequest.headers,"presigned-expires")},"isPresigned"),toUnauthenticated:s(function(){return this._unAuthenticated=!0,this.removeListener("validate",re.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",re.EventListeners.Core.SIGN),this},"toUnauthenticated"),toGet:s(function(){return(this.service.api.protocol==="query"||this.service.api.protocol==="ec2")&&(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},"toGet"),buildAsGet:s(function(e){e.httpRequest.method="GET",e.httpRequest.path=e.service.endpoint.path+"?"+e.httpRequest.body,e.httpRequest.body="",delete e.httpRequest.headers["Content-Length"],delete e.httpRequest.headers["Content-Type"]},"buildAsGet"),haltHandlersOnError:s(function(){this._haltHandlersOnError=!0},"haltHandlersOnError")});re.Request.addPromisesToClass=s(function(e){this.prototype.promise=s(function(){var n=this;return this.httpRequest.appendToUserAgent("promise"),new e(function(i,a){n.on("complete",function(o){o.error?a(o.error):i(Object.defineProperty(o.data||{},"$response",{value:o}))}),n.runTo()})},"promise")},"addPromisesToClass");re.Request.deletePromisesFromClass=s(function(){delete this.prototype.promise},"deletePromisesFromClass");re.util.addPromises(re.Request);re.util.mixin(re.Request,re.SequentialExecutor)});var qf=v(()=>{var Xr=K(),PS=Xr.util.inherit,Nf=Si();Xr.Response=PS({constructor:s(function(e){this.request=e,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new Xr.HttpResponse,e&&(this.maxRetries=e.service.numRetries(),this.maxRedirects=e.service.config.maxRedirects)},"Response"),nextPage:s(function(e){var r,n=this.request.service,i=this.request.operation;try{r=n.paginationConfig(i,!0)}catch(c){this.error=c}if(!this.hasNextPage()){if(e)e(this.error,null);else if(this.error)throw this.error;return null}var a=Xr.util.copy(this.request.params);if(this.nextPageTokens){var o=r.inputToken;typeof o=="string"&&(o=[o]);for(var u=0;u<o.length;u++)a[o[u]]=this.nextPageTokens[u];return n.makeRequest(this.request.operation,a,e)}else return e?e(null,null):null},"nextPage"),hasNextPage:s(function(){if(this.cacheNextPageTokens(),this.nextPageTokens)return!0;if(this.nextPageTokens!==void 0)return!1},"hasNextPage"),cacheNextPageTokens:s(function(){if(Object.prototype.hasOwnProperty.call(this,"nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var e=this.request.service.paginationConfig(this.request.operation);if(!e)return this.nextPageTokens;if(this.nextPageTokens=null,e.moreResults&&!Nf.search(this.data,e.moreResults))return this.nextPageTokens;var r=e.outputToken;return typeof r=="string"&&(r=[r]),Xr.util.arrayEach.call(this,r,function(n){var i=Nf.search(this.data,n);i&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(i))}),this.nextPageTokens},"cacheNextPageTokens")})});var Of=v(()=>{var Jt=K(),OS=Jt.util.inherit,yr=Si();function Pf(t){var e=t.request._waiter,r=e.config.acceptors,n=!1,i="retry";r.forEach(function(a){if(!n){var o=e.matchers[a.matcher];o&&o(t,a.expected,a.argument)&&(n=!0,i=a.state)}}),!n&&t.error&&(i="failure"),i==="success"?e.setSuccess(t):e.setError(t,i==="retry")}s(Pf,"CHECK_ACCEPTORS");Jt.ResourceWaiter=OS({constructor:s(function(e,r){this.service=e,this.state=r,this.loadWaiterConfig(this.state)},"constructor"),service:null,state:null,config:null,matchers:{path:function(t,e,r){try{var n=yr.search(t.data,r)}catch(i){return!1}return yr.strictDeepEqual(n,e)},pathAll:function(t,e,r){try{var n=yr.search(t.data,r)}catch(o){return!1}Array.isArray(n)||(n=[n]);var i=n.length;if(!i)return!1;for(var a=0;a<i;a++)if(!yr.strictDeepEqual(n[a],e))return!1;return!0},pathAny:function(t,e,r){try{var n=yr.search(t.data,r)}catch(o){return!1}Array.isArray(n)||(n=[n]);for(var i=n.length,a=0;a<i;a++)if(yr.strictDeepEqual(n[a],e))return!0;return!1},status:function(t,e){var r=t.httpResponse.statusCode;return typeof r=="number"&&r===e},error:function(t,e){return typeof e=="string"&&t.error?e===t.error.code:e===!!t.error}},listeners:new Jt.SequentialExecutor().addNamedListeners(function(t){t("RETRY_CHECK","retry",function(e){var r=e.request._waiter;e.error&&e.error.code==="ResourceNotReady"&&(e.error.retryDelay=(r.config.delay||0)*1e3)}),t("CHECK_OUTPUT","extractData",Pf),t("CHECK_ERROR","extractError",Pf)}),wait:s(function(e,r){typeof e=="function"&&(r=e,e=void 0),e&&e.$waiter&&(e=Jt.util.copy(e),typeof e.$waiter.delay=="number"&&(this.config.delay=e.$waiter.delay),typeof e.$waiter.maxAttempts=="number"&&(this.config.maxAttempts=e.$waiter.maxAttempts),delete e.$waiter);var n=this.service.makeRequest(this.config.operation,e);return n._waiter=this,n.response.maxRetries=this.config.maxAttempts,n.addListeners(this.listeners),r&&n.send(r),n},"wait"),setSuccess:s(function(e){e.error=null,e.data=e.data||{},e.request.removeAllListeners("extractData")},"setSuccess"),setError:s(function(e,r){e.data=null,e.error=Jt.util.error(e.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:r})},"setError"),loadWaiterConfig:s(function(e){if(!this.service.api.waiters[e])throw new Jt.util.error(new Error,{code:"StateNotFoundError",message:"State "+e+" not found."});this.config=Jt.util.copy(this.service.api.waiters[e])},"loadWaiterConfig")})});var Lf=v((Qw,Mf)=>{var gt=K(),MS=gt.util.inherit;gt.Signers.V2=MS(gt.Signers.RequestSigner,{addAuthorization:s(function(e,r){r||(r=gt.util.date.getDate());var n=this.request;n.params.Timestamp=gt.util.date.iso8601(r),n.params.SignatureVersion="2",n.params.SignatureMethod="HmacSHA256",n.params.AWSAccessKeyId=e.accessKeyId,e.sessionToken&&(n.params.SecurityToken=e.sessionToken),delete n.params.Signature,n.params.Signature=this.signature(e),n.body=gt.util.queryParamsToString(n.params),n.headers["Content-Length"]=n.body.length},"addAuthorization"),signature:s(function(e){return gt.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},"signature"),stringToSign:s(function(){var e=[];return e.push(this.request.method),e.push(this.request.endpoint.host.toLowerCase()),e.push(this.request.pathname()),e.push(gt.util.queryParamsToString(this.request.params)),e.join(`
`)},"stringToSign")});Mf.exports=gt.Signers.V2});var to=v((Zw,kf)=>{var ut=K(),LS=ut.util.inherit;ut.Signers.V3=LS(ut.Signers.RequestSigner,{addAuthorization:s(function(e,r){var n=ut.util.date.rfc822(r);this.request.headers["X-Amz-Date"]=n,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(e,n)},"addAuthorization"),authorization:s(function(e){return"AWS3 AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(e)},"authorization"),signedHeaders:s(function(){var e=[];return ut.util.arrayEach(this.headersToSign(),s(function(n){e.push(n.toLowerCase())},"iterator")),e.sort().join(";")},"signedHeaders"),canonicalHeaders:s(function(){var e=this.request.headers,r=[];return ut.util.arrayEach(this.headersToSign(),s(function(i){r.push(i.toLowerCase().trim()+":"+String(e[i]).trim())},"iterator")),r.sort().join(`
`)+`
`},"canonicalHeaders"),headersToSign:s(function(){var e=[];return ut.util.each(this.request.headers,s(function(n){(n==="Host"||n==="Content-Encoding"||n.match(/^X-Amz/i))&&e.push(n)},"iterator")),e},"headersToSign"),signature:s(function(e){return ut.util.crypto.hmac(e.secretAccessKey,this.stringToSign(),"base64")},"signature"),stringToSign:s(function(){var e=[];return e.push(this.request.method),e.push("/"),e.push(""),e.push(this.canonicalHeaders()),e.push(this.request.body),ut.util.crypto.sha256(e.join(`
`))},"stringToSign")});kf.exports=ut.Signers.V3});var Bf=v((eI,Ff)=>{var Ti=K(),kS=Ti.util.inherit;to();Ti.Signers.V3Https=kS(Ti.Signers.V3,{authorization:s(function(e){return"AWS3-HTTPS AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(e)},"authorization"),stringToSign:s(function(){return this.request.headers["X-Amz-Date"]},"stringToSign")});Ff.exports=Ti.Signers.V3Https});var Kf=v((tI,jf)=>{var zr=K(),$r={},Ci=[],FS=50,Uf="aws4_request";jf.exports={createScope:s(function(e,r,n){return[e.substr(0,8),r,n,Uf].join("/")},"createScope"),getSigningKey:s(function(e,r,n,i,a){var o=zr.util.crypto.hmac(e.secretAccessKey,e.accessKeyId,"base64"),u=[o,r,n,i].join("_");if(a=a!==!1,a&&u in $r)return $r[u];var c=zr.util.crypto.hmac("AWS4"+e.secretAccessKey,r,"buffer"),p=zr.util.crypto.hmac(c,n,"buffer"),h=zr.util.crypto.hmac(p,i,"buffer"),m=zr.util.crypto.hmac(h,Uf,"buffer");return a&&($r[u]=m,Ci.push(u),Ci.length>FS&&delete $r[Ci.shift()]),m},"getSigningKey"),emptyCache:s(function(){$r={},Ci=[]},"emptyCache")}});var Gf=v((rI,Vf)=>{var qe=K(),Wf=Kf(),BS=qe.util.inherit,Ai="presigned-expires";qe.Signers.V4=BS(qe.Signers.RequestSigner,{constructor:s(function(e,r,n){qe.Signers.RequestSigner.call(this,e),this.serviceName=r,n=n||{},this.signatureCache=typeof n.signatureCache=="boolean"?n.signatureCache:!0,this.operation=n.operation,this.signatureVersion=n.signatureVersion},"V4"),algorithm:"AWS4-HMAC-SHA256",addAuthorization:s(function(e,r){var n=qe.util.date.iso8601(r).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(e,n):this.addHeaders(e,n),this.request.headers.Authorization=this.authorization(e,n)},"addAuthorization"),addHeaders:s(function(e,r){this.request.headers["X-Amz-Date"]=r,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken)},"addHeaders"),updateForPresigned:s(function(e,r){var n=this.credentialString(r),i={"X-Amz-Date":r,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":e.accessKeyId+"/"+n,"X-Amz-Expires":this.request.headers[Ai],"X-Amz-SignedHeaders":this.signedHeaders()};e.sessionToken&&(i["X-Amz-Security-Token"]=e.sessionToken),this.request.headers["Content-Type"]&&(i["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(i["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(i["Cache-Control"]=this.request.headers["Cache-Control"]),qe.util.each.call(this,this.request.headers,function(o,u){if(o!==Ai&&this.isSignableHeader(o)){var c=o.toLowerCase();c.indexOf("x-amz-meta-")===0?i[c]=u:c.indexOf("x-amz-")===0&&(i[o]=u)}});var a=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=a+qe.util.queryParamsToString(i)},"updateForPresigned"),authorization:s(function(e,r){var n=[],i=this.credentialString(r);return n.push(this.algorithm+" Credential="+e.accessKeyId+"/"+i),n.push("SignedHeaders="+this.signedHeaders()),n.push("Signature="+this.signature(e,r)),n.join(", ")},"authorization"),signature:s(function(e,r){var n=Wf.getSigningKey(e,r.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return qe.util.crypto.hmac(n,this.stringToSign(r),"hex")},"signature"),stringToSign:s(function(e){var r=[];return r.push("AWS4-HMAC-SHA256"),r.push(e),r.push(this.credentialString(e)),r.push(this.hexEncodedHash(this.canonicalString())),r.join(`
`)},"stringToSign"),canonicalString:s(function(){var e=[],r=this.request.pathname();return this.serviceName!=="s3"&&this.signatureVersion!=="s3v4"&&(r=qe.util.uriEscapePath(r)),e.push(this.request.method),e.push(r),e.push(this.request.search()),e.push(this.canonicalHeaders()+`
`),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join(`
`)},"canonicalString"),canonicalHeaders:s(function(){var e=[];qe.util.each.call(this,this.request.headers,function(n,i){e.push([n,i])}),e.sort(function(n,i){return n[0].toLowerCase()<i[0].toLowerCase()?-1:1});var r=[];return qe.util.arrayEach.call(this,e,function(n){var i=n[0].toLowerCase();if(this.isSignableHeader(i)){var a=n[1];if(typeof a=="undefined"||a===null||typeof a.toString!="function")throw qe.util.error(new Error("Header "+i+" contains invalid value"),{code:"InvalidHeader"});r.push(i+":"+this.canonicalHeaderValues(a.toString()))}}),r.join(`
`)},"canonicalHeaders"),canonicalHeaderValues:s(function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},"canonicalHeaderValues"),signedHeaders:s(function(){var e=[];return qe.util.each.call(this,this.request.headers,function(r){r=r.toLowerCase(),this.isSignableHeader(r)&&e.push(r)}),e.sort().join(";")},"signedHeaders"),credentialString:s(function(e){return Wf.createScope(e.substr(0,8),this.request.region,this.serviceName)},"credentialString"),hexEncodedHash:s(function(e){return qe.util.crypto.sha256(e,"hex")},"hash"),hexEncodedBodyHash:s(function(){var e=this.request;return this.isPresigned()&&this.serviceName==="s3"&&!e.body?"UNSIGNED-PAYLOAD":e.headers["X-Amz-Content-Sha256"]?e.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},"hexEncodedBodyHash"),unsignableHeaders:["authorization","content-type","content-length","user-agent",Ai,"expect","x-amzn-trace-id"],isSignableHeader:s(function(e){return e.toLowerCase().indexOf("x-amz-")===0?!0:this.unsignableHeaders.indexOf(e)<0},"isSignableHeader"),isPresigned:s(function(){return!!this.request.headers[Ai]},"isPresigned")});Vf.exports=qe.Signers.V4});var Xf=v((nI,Hf)=>{var ct=K(),US=ct.util.inherit;ct.Signers.S3=US(ct.Signers.RequestSigner,{subResources:{acl:1,accelerate:1,analytics:1,cors:1,lifecycle:1,delete:1,inventory:1,location:1,logging:1,metrics:1,notification:1,partNumber:1,policy:1,requestPayment:1,replication:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:s(function(e,r){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=ct.util.date.rfc822(r)),e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken);var n=this.sign(e.secretAccessKey,this.stringToSign()),i="AWS "+e.accessKeyId+":"+n;this.request.headers.Authorization=i},"addAuthorization"),stringToSign:s(function(){var e=this.request,r=[];r.push(e.method),r.push(e.headers["Content-MD5"]||""),r.push(e.headers["Content-Type"]||""),r.push(e.headers["presigned-expires"]||"");var n=this.canonicalizedAmzHeaders();return n&&r.push(n),r.push(this.canonicalizedResource()),r.join(`
`)},"stringToSign"),canonicalizedAmzHeaders:s(function(){var e=[];ct.util.each(this.request.headers,function(n){n.match(/^x-amz-/i)&&e.push(n)}),e.sort(function(n,i){return n.toLowerCase()<i.toLowerCase()?-1:1});var r=[];return ct.util.arrayEach.call(this,e,function(n){r.push(n.toLowerCase()+":"+String(this.request.headers[n]))}),r.join(`
`)},"canonicalizedAmzHeaders"),canonicalizedResource:s(function(){var e=this.request,r=e.path.split("?"),n=r[0],i=r[1],a="";if(e.virtualHostedBucket&&(a+="/"+e.virtualHostedBucket),a+=n,i){var o=[];ct.util.arrayEach.call(this,i.split("&"),function(u){var c=u.split("=")[0],p=u.split("=")[1];if(this.subResources[c]||this.responseHeaders[c]){var h={name:c};p!==void 0&&(this.subResources[c]?h.value=p:h.value=decodeURIComponent(p)),o.push(h)}}),o.sort(function(u,c){return u.name<c.name?-1:1}),o.length&&(i=[],ct.util.arrayEach(o,function(u){u.value===void 0?i.push(u.name):i.push(u.name+"="+u.value)}),a+="?"+i.join("&"))}return a},"canonicalizedResource"),sign:s(function(e,r){return ct.util.crypto.hmac(e,r,"base64","sha1")},"sign")});Hf.exports=ct.Signers.S3});var $f=v((iI,zf)=>{var Ae=K(),jS=Ae.util.inherit,gr="presigned-expires";function KS(t){var e=t.httpRequest.headers[gr],r=t.service.getSignerClass(t);if(delete t.httpRequest.headers["User-Agent"],delete t.httpRequest.headers["X-Amz-User-Agent"],r===Ae.Signers.V4){if(e>604800){var n="Presigning does not support expiry time greater than a week with SigV4 signing.";throw Ae.util.error(new Error,{code:"InvalidExpiryTime",message:n,retryable:!1})}t.httpRequest.headers[gr]=e}else if(r===Ae.Signers.S3){var i=t.service?t.service.getSkewCorrectedDate():Ae.util.date.getDate();t.httpRequest.headers[gr]=parseInt(Ae.util.date.unixTimestamp(i)+e,10).toString()}else throw Ae.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1})}s(KS,"signedUrlBuilder");function WS(t){var e=t.httpRequest.endpoint,r=Ae.util.urlParse(t.httpRequest.path),n={};r.search&&(n=Ae.util.queryStringParse(r.search.substr(1)));var i=t.httpRequest.headers.Authorization.split(" ");if(i[0]==="AWS")i=i[1].split(":"),n.Signature=i.pop(),n.AWSAccessKeyId=i.join(":"),Ae.util.each(t.httpRequest.headers,function(u,c){u===gr&&(u="Expires"),u.indexOf("x-amz-meta-")===0&&(delete n[u],u=u.toLowerCase()),n[u]=c}),delete t.httpRequest.headers[gr],delete n.Authorization,delete n.Host;else if(i[0]==="AWS4-HMAC-SHA256"){i.shift();var a=i.join(" "),o=a.match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];n["X-Amz-Signature"]=o,delete n.Expires}e.pathname=r.pathname,e.search=Ae.util.queryParamsToString(n)}s(WS,"signedUrlSigner");Ae.Signers.Presign=jS({sign:s(function(e,r,n){if(e.httpRequest.headers[gr]=r||3600,e.on("build",KS),e.on("sign",WS),e.removeListener("afterBuild",Ae.EventListeners.Core.SET_CONTENT_LENGTH),e.removeListener("afterBuild",Ae.EventListeners.Core.COMPUTE_SHA256),e.emit("beforePresign",[e]),n)e.build(function(){this.response.error?n(this.response.error):n(null,Ae.util.urlFormat(e.httpRequest.endpoint))});else{if(e.build(),e.response.error)throw e.response.error;return Ae.util.urlFormat(e.httpRequest.endpoint)}},"sign")});zf.exports=Ae.Signers.Presign});var Yf=v(()=>{var vt=K(),VS=vt.util.inherit;vt.Signers.RequestSigner=VS({constructor:s(function(e){this.request=e},"RequestSigner"),setServiceClientId:s(function(e){this.serviceClientId=e},"setServiceClientId"),getServiceClientId:s(function(){return this.serviceClientId},"getServiceClientId")});vt.Signers.RequestSigner.getVersion=s(function(e){switch(e){case"v2":return vt.Signers.V2;case"v3":return vt.Signers.V3;case"s3v4":return vt.Signers.V4;case"v4":return vt.Signers.V4;case"s3":return vt.Signers.S3;case"v3https":return vt.Signers.V3Https}throw new Error("Unknown signing version "+e)},"getVersion");Lf();to();Bf();Gf();Xf();$f()});var Jf=v(()=>{var Ze=K();Ze.ParamValidator=Ze.util.inherit({constructor:s(function(e){(e===!0||e===void 0)&&(e={min:!0}),this.validation=e},"ParamValidator"),validate:s(function(e,r,n){if(this.errors=[],this.validateMember(e,r||{},n||"params"),this.errors.length>1){var i=this.errors.join(`
* `);throw i="There were "+this.errors.length+` validation errors:
* `+i,Ze.util.error(new Error(i),{code:"MultipleValidationErrors",errors:this.errors})}else{if(this.errors.length===1)throw this.errors[0];return!0}},"validate"),fail:s(function(e,r){this.errors.push(Ze.util.error(new Error(r),{code:e}))},"fail"),validateStructure:s(function(e,r,n){this.validateType(r,n,["object"],"structure");for(var i,a=0;e.required&&a<e.required.length;a++){i=e.required[a];var o=r[i];o==null&&this.fail("MissingRequiredParameter","Missing required key '"+i+"' in "+n)}for(i in r)if(!!Object.prototype.hasOwnProperty.call(r,i)){var u=r[i],c=e.members[i];if(c!==void 0){var p=[n,i].join(".");this.validateMember(c,u,p)}else u!=null&&this.fail("UnexpectedParameter","Unexpected key '"+i+"' found in "+n)}return!0},"validateStructure"),validateMember:s(function(e,r,n){switch(e.type){case"structure":return this.validateStructure(e,r,n);case"list":return this.validateList(e,r,n);case"map":return this.validateMap(e,r,n);default:return this.validateScalar(e,r,n)}},"validateMember"),validateList:s(function(e,r,n){if(this.validateType(r,n,[Array])){this.validateRange(e,r.length,n,"list member count");for(var i=0;i<r.length;i++)this.validateMember(e.member,r[i],n+"["+i+"]")}},"validateList"),validateMap:s(function(e,r,n){if(this.validateType(r,n,["object"],"map")){var i=0;for(var a in r)!Object.prototype.hasOwnProperty.call(r,a)||(this.validateMember(e.key,a,n+"[key='"+a+"']"),this.validateMember(e.value,r[a],n+"['"+a+"']"),i++);this.validateRange(e,i,n,"map member count")}},"validateMap"),validateScalar:s(function(e,r,n){switch(e.type){case null:case void 0:case"string":return this.validateString(e,r,n);case"base64":case"binary":return this.validatePayload(r,n);case"integer":case"float":return this.validateNumber(e,r,n);case"boolean":return this.validateType(r,n,["boolean"]);case"timestamp":return this.validateType(r,n,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+e.type+" for "+n)}},"validateScalar"),validateString:s(function(e,r,n){var i=["string"];e.isJsonValue&&(i=i.concat(["number","object","boolean"])),r!==null&&this.validateType(r,n,i)&&(this.validateEnum(e,r,n),this.validateRange(e,r.length,n,"string length"),this.validatePattern(e,r,n),this.validateUri(e,r,n))},"validateString"),validateUri:s(function(e,r,n){e.location==="uri"&&r.length===0&&this.fail("UriParameterError",'Expected uri parameter to have length >= 1, but found "'+r+'" for '+n)},"validateUri"),validatePattern:s(function(e,r,n){this.validation.pattern&&e.pattern!==void 0&&(new RegExp(e.pattern).test(r)||this.fail("PatternMatchError",'Provided value "'+r+'" does not match regex pattern /'+e.pattern+"/ for "+n))},"validatePattern"),validateRange:s(function(e,r,n,i){this.validation.min&&e.min!==void 0&&r<e.min&&this.fail("MinRangeError","Expected "+i+" >= "+e.min+", but found "+r+" for "+n),this.validation.max&&e.max!==void 0&&r>e.max&&this.fail("MaxRangeError","Expected "+i+" <= "+e.max+", but found "+r+" for "+n)},"validateRange"),validateEnum:s(function(e,r,n){this.validation.enum&&e.enum!==void 0&&e.enum.indexOf(r)===-1&&this.fail("EnumError","Found string value of "+r+", but expected "+e.enum.join("|")+" for "+n)},"validateRange"),validateType:s(function(e,r,n,i){if(e==null)return!1;for(var a=!1,o=0;o<n.length;o++){if(typeof n[o]=="string"){if(typeof e===n[o])return!0}else if(n[o]instanceof RegExp){if((e||"").toString().match(n[o]))return!0}else{if(e instanceof n[o]||Ze.util.isType(e,n[o]))return!0;!i&&!a&&(n=n.slice()),n[o]=Ze.util.typeName(n[o])}a=!0}var u=i;u||(u=n.join(", ").replace(/,([^,]+)$/,", or$1"));var c=u.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+r+" to be a"+c+" "+u),!1},"validateType"),validateNumber:s(function(e,r,n){if(r!=null){if(typeof r=="string"){var i=parseFloat(r);i.toString()===r&&(r=i)}this.validateType(r,n,["number"])&&this.validateRange(e,r,n,"numeric value")}},"validateNumber"),validatePayload:s(function(e,r){if(e!=null&&typeof e!="string"&&!(e&&typeof e.byteLength=="number")){if(Ze.util.isNode()){var n=Ze.util.stream.Stream;if(Ze.util.Buffer.isBuffer(e)||e instanceof n)return}else if(typeof Blob!==void 0&&e instanceof Blob)return;var i=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(e){for(var a=0;a<i.length;a++)if(Ze.util.isType(e,i[a])||Ze.util.typeName(e.constructor)===i[a])return}this.fail("InvalidParameterType","Expected "+r+" to be a string, Buffer, Stream, Blob, or typed array object")}},"validatePayload")})});var K=v((cI,Qf)=>{var bt={util:he()},GS={};GS.toString();Qf.exports=bt;bt.util.update(bt,{VERSION:"2.987.0",Signers:{},Protocol:{Json:ci(),Query:Oa(),Rest:jr(),RestJson:La(),RestXml:Fa()},XML:{Builder:Qp(),Parser:null},JSON:{Builder:si(),Parser:oi()},Model:{Api:Wa(),Operation:Ba(),Shape:Br(),Paginator:Ua(),ResourceWaiter:ja()},apiLoader:uf(),EndpointCache:lf().EndpointCache});Ha();yf();gf();gi();xf();Rf();qf();Of();Yf();Jf();bt.events=new bt.SequentialExecutor;bt.util.memoizedProperty(bt,"endpointCache",function(){return new bt.EndpointCache(bt.config.endpointCacheSize)},!0)});var ro=v((lI,Zf)=>{var HS=require("crypto");Zf.exports=s(function(){return HS.randomBytes(16)},"nodeRNG")});var no=v((pI,td)=>{var ed=[];for(Yr=0;Yr<256;++Yr)ed[Yr]=(Yr+256).toString(16).substr(1);var Yr;function XS(t,e){var r=e||0,n=ed;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")}s(XS,"bytesToUuid");td.exports=XS});var id=v((fI,nd)=>{var zS=ro(),$S=no(),rd,io,so=0,ao=0;function YS(t,e,r){var n=e&&r||0,i=e||[];t=t||{};var a=t.node||rd,o=t.clockseq!==void 0?t.clockseq:io;if(a==null||o==null){var u=zS();a==null&&(a=rd=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),o==null&&(o=io=(u[6]<<8|u[7])&16383)}var c=t.msecs!==void 0?t.msecs:new Date().getTime(),p=t.nsecs!==void 0?t.nsecs:ao+1,h=c-so+(p-ao)/1e4;if(h<0&&t.clockseq===void 0&&(o=o+1&16383),(h<0||c>so)&&t.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");so=c,ao=p,io=o,c+=122192928e5;var m=((c&268435455)*1e4+p)%4294967296;i[n++]=m>>>24&255,i[n++]=m>>>16&255,i[n++]=m>>>8&255,i[n++]=m&255;var T=c/4294967296*1e4&268435455;i[n++]=T>>>8&255,i[n++]=T&255,i[n++]=T>>>24&15|16,i[n++]=T>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var D=0;D<6;++D)i[n+D]=a[D];return e||$S(i)}s(YS,"v1");nd.exports=YS});var ad=v((dI,sd)=>{var JS=ro(),QS=no();function ZS(t,e,r){var n=e&&r||0;typeof t=="string"&&(e=t==="binary"?new Array(16):null,t=null),t=t||{};var i=t.random||(t.rng||JS)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e)for(var a=0;a<16;++a)e[n+a]=i[a];return e||QS(i)}s(ZS,"v4");sd.exports=ZS});var cd=v((hI,ud)=>{var eE=id(),od=ad(),oo=od;oo.v1=eE;oo.v4=od;ud.exports=oo});var he=v((mI,ld)=>{var We,U={environment:"nodejs",engine:s(function(){if(U.isBrowser()&&typeof navigator!="undefined")return navigator.userAgent;var e=process.platform+"/"+process.version;return process.env.AWS_EXECUTION_ENV&&(e+=" exec-env/"+process.env.AWS_EXECUTION_ENV),e},"engine"),userAgent:s(function(){var e=U.environment,r="aws-sdk-"+e+"/"+K().VERSION;return e==="nodejs"&&(r+=" "+U.engine()),r},"userAgent"),uriEscape:s(function(e){var r=encodeURIComponent(e);return r=r.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),r=r.replace(/[*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}),r},"uriEscape"),uriEscapePath:s(function(e){var r=[];return U.arrayEach(e.split("/"),function(n){r.push(U.uriEscape(n))}),r.join("/")},"uriEscapePath"),urlParse:s(function(e){return U.url.parse(e)},"urlParse"),urlFormat:s(function(e){return U.url.format(e)},"urlFormat"),queryStringParse:s(function(e){return U.querystring.parse(e)},"queryStringParse"),queryParamsToString:s(function(e){var r=[],n=U.uriEscape,i=Object.keys(e).sort();return U.arrayEach(i,function(a){var o=e[a],u=n(a),c=u+"=";if(Array.isArray(o)){var p=[];U.arrayEach(o,function(h){p.push(n(h))}),c=u+"="+p.sort().join("&"+u+"=")}else o!=null&&(c=u+"="+n(o));r.push(c)}),r.join("&")},"queryParamsToString"),readFileSync:s(function(e){return U.isBrowser()?null:require("fs").readFileSync(e,"utf-8")},"readFileSync"),base64:{encode:s(function(e){if(typeof e=="number")throw U.error(new Error("Cannot base64 encode number "+e));if(e===null||typeof e=="undefined")return e;var r=U.buffer.toBuffer(e);return r.toString("base64")},"encode64"),decode:s(function(e){if(typeof e=="number")throw U.error(new Error("Cannot base64 decode number "+e));return e===null||typeof e=="undefined"?e:U.buffer.toBuffer(e,"base64")},"decode64")},buffer:{toBuffer:function(t,e){return typeof U.Buffer.from=="function"&&U.Buffer.from!==Uint8Array.from?U.Buffer.from(t,e):new U.Buffer(t,e)},alloc:function(t,e,r){if(typeof t!="number")throw new Error("size passed to alloc must be a number.");if(typeof U.Buffer.alloc=="function")return U.Buffer.alloc(t,e,r);var n=new U.Buffer(t);return e!==void 0&&typeof n.fill=="function"&&n.fill(e,void 0,void 0,r),n},toStream:s(function(e){U.Buffer.isBuffer(e)||(e=U.buffer.toBuffer(e));var r=new U.stream.Readable,n=0;return r._read=function(i){if(n>=e.length)return r.push(null);var a=n+i;a>e.length&&(a=e.length),r.push(e.slice(n,a)),n=a},r},"toStream"),concat:function(t){var e=0,r=0,n=null,i;for(i=0;i<t.length;i++)e+=t[i].length;for(n=U.buffer.alloc(e),i=0;i<t.length;i++)t[i].copy(n,r),r+=t[i].length;return n}},string:{byteLength:s(function(e){if(e==null)return 0;if(typeof e=="string"&&(e=U.buffer.toBuffer(e)),typeof e.byteLength=="number")return e.byteLength;if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.path=="string")return require("fs").lstatSync(e.path).size;throw U.error(new Error("Cannot determine length of "+e),{object:e})},"byteLength"),upperFirst:s(function(e){return e[0].toUpperCase()+e.substr(1)},"upperFirst"),lowerFirst:s(function(e){return e[0].toLowerCase()+e.substr(1)},"lowerFirst")},ini:{parse:s(function(e){var r,n={};return U.arrayEach(e.split(/\r?\n/),function(i){i=i.split(/(^|\s)[;#]/)[0];var a=i.match(/^\s*\[([^\[\]]+)\]\s*$/);if(a){if(r=a[1],r==="__proto__"||r.split(/\s/)[1]==="__proto__")throw U.error(new Error("Cannot load profile name '"+r+"' from shared ini file."))}else if(r){var o=i.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);o&&(n[r]=n[r]||{},n[r][o[1]]=o[2])}}),n},"string")},fn:{noop:function(){},callback:function(t){if(t)throw t},makeAsync:s(function(e,r){return r&&r<=e.length?e:function(){var n=Array.prototype.slice.call(arguments,0),i=n.pop(),a=e.apply(null,n);i(a)}},"makeAsync")},date:{getDate:s(function(){return We||(We=K()),We.config.systemClockOffset?new Date(new Date().getTime()+We.config.systemClockOffset):new Date},"getDate"),iso8601:s(function(e){return e===void 0&&(e=U.date.getDate()),e.toISOString().replace(/\.\d{3}Z$/,"Z")},"iso8601"),rfc822:s(function(e){return e===void 0&&(e=U.date.getDate()),e.toUTCString()},"rfc822"),unixTimestamp:s(function(e){return e===void 0&&(e=U.date.getDate()),e.getTime()/1e3},"unixTimestamp"),from:s(function(e){return typeof e=="number"?new Date(e*1e3):new Date(e)},"format"),format:s(function(e,r){return r||(r="iso8601"),U.date[r](U.date.from(e))},"format"),parseTimestamp:s(function(e){if(typeof e=="number")return new Date(e*1e3);if(e.match(/^\d+$/))return new Date(e*1e3);if(e.match(/^\d{4}/))return new Date(e);if(e.match(/^\w{3},/))return new Date(e);throw U.error(new Error("unhandled timestamp format: "+e),{code:"TimestampParserError"})},"parseTimestamp")},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:s(function(e){var r=U.crypto.crc32Table,n=0^-1;typeof e=="string"&&(e=U.buffer.toBuffer(e));for(var i=0;i<e.length;i++){var a=e.readUInt8(i);n=n>>>8^r[(n^a)&255]}return(n^-1)>>>0},"crc32"),hmac:s(function(e,r,n,i){return n||(n="binary"),n==="buffer"&&(n=void 0),i||(i="sha256"),typeof r=="string"&&(r=U.buffer.toBuffer(r)),U.crypto.lib.createHmac(i,e).update(r).digest(n)},"hmac"),md5:s(function(e,r,n){return U.crypto.hash("md5",e,r,n)},"md5"),sha256:s(function(e,r,n){return U.crypto.hash("sha256",e,r,n)},"sha256"),hash:function(t,e,r,n){var i=U.crypto.createHash(t);r||(r="binary"),r==="buffer"&&(r=void 0),typeof e=="string"&&(e=U.buffer.toBuffer(e));var a=U.arraySliceFn(e),o=U.Buffer.isBuffer(e);if(U.isBrowser()&&typeof ArrayBuffer!="undefined"&&e&&e.buffer instanceof ArrayBuffer&&(o=!0),n&&typeof e=="object"&&typeof e.on=="function"&&!o)e.on("data",function(m){i.update(m)}),e.on("error",function(m){n(m)}),e.on("end",function(){n(null,i.digest(r))});else if(n&&a&&!o&&typeof FileReader!="undefined"){var u=0,c=1024*512,p=new FileReader;p.onerror=function(){n(new Error("Failed to read data."))},p.onload=function(){var m=new U.Buffer(new Uint8Array(p.result));i.update(m),u+=m.length,p._continueReading()},p._continueReading=function(){if(u>=e.size){n(null,i.digest(r));return}var m=u+c;m>e.size&&(m=e.size),p.readAsArrayBuffer(a.call(e,u,m))},p._continueReading()}else{U.isBrowser()&&typeof e=="object"&&!o&&(e=new U.Buffer(new Uint8Array(e)));var h=i.update(e).digest(r);return n&&n(null,h),h}},toHex:s(function(e){for(var r=[],n=0;n<e.length;n++)r.push(("0"+e.charCodeAt(n).toString(16)).substr(-2,2));return r.join("")},"toHex"),createHash:s(function(e){return U.crypto.lib.createHash(e)},"createHash")},abort:{},each:s(function(e,r){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=r.call(this,n,e[n]);if(i===U.abort)break}},"each"),arrayEach:s(function(e,r){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=r.call(this,e[n],parseInt(n,10));if(i===U.abort)break}},"arrayEach"),update:s(function(e,r){return U.each(r,s(function(i,a){e[i]=a},"iterator")),e},"update"),merge:s(function(e,r){return U.update(U.copy(e),r)},"merge"),copy:s(function(e){if(e==null)return e;var r={};for(var n in e)r[n]=e[n];return r},"copy"),isEmpty:s(function(e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))return!1;return!0},"isEmpty"),arraySliceFn:s(function(e){var r=e.slice||e.webkitSlice||e.mozSlice;return typeof r=="function"?r:null},"arraySliceFn"),isType:s(function(e,r){return typeof r=="function"&&(r=U.typeName(r)),Object.prototype.toString.call(e)==="[object "+r+"]"},"isType"),typeName:s(function(e){if(Object.prototype.hasOwnProperty.call(e,"name"))return e.name;var r=e.toString(),n=r.match(/^\s*function (.+)\(/);return n?n[1]:r},"typeName"),error:s(function(e,r){var n=null;return typeof e.message=="string"&&e.message!==""&&(typeof r=="string"||r&&r.message)&&(n=U.copy(e),n.message=e.message),e.message=e.message||null,typeof r=="string"?e.message=r:typeof r=="object"&&r!==null&&(U.update(e,r),r.message&&(e.message=r.message),(r.code||r.name)&&(e.code=r.code||r.name),r.stack&&(e.stack=r.stack)),typeof Object.defineProperty=="function"&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=String(r&&r.name||e.name||e.code||"Error"),e.time=new Date,n&&(e.originalError=n),e},"error"),inherit:s(function(e,r){var n=null;if(r===void 0)r=e,e=Object,n={};else{var i=s(function(){},"ConstructorWrapper");i.prototype=e.prototype,n=new i}return r.constructor===Object&&(r.constructor=function(){if(e!==Object)return e.apply(this,arguments)}),r.constructor.prototype=n,U.update(r.constructor.prototype,r),r.constructor.__super__=e,r.constructor},"inherit"),mixin:s(function(){for(var e=arguments[0],r=1;r<arguments.length;r++)for(var n in arguments[r].prototype){var i=arguments[r].prototype[n];n!=="constructor"&&(e.prototype[n]=i)}return e},"mixin"),hideProperties:s(function(e,r){typeof Object.defineProperty=="function"&&U.arrayEach(r,function(n){Object.defineProperty(e,n,{enumerable:!1,writable:!0,configurable:!0})})},"hideProperties"),property:s(function(e,r,n,i,a){var o={configurable:!0,enumerable:i!==void 0?i:!0};typeof n=="function"&&!a?o.get=n:(o.value=n,o.writable=!0),Object.defineProperty(e,r,o)},"property"),memoizedProperty:s(function(e,r,n,i){var a=null;U.property(e,r,function(){return a===null&&(a=n()),a},i)},"memoizedProperty"),hoistPayloadMember:s(function(e){var r=e.request,n=r.operation,i=r.service.api.operations[n],a=i.output;if(a.payload&&!i.hasEventOutput){var o=a.members[a.payload],u=e.data[a.payload];o.type==="structure"&&U.each(u,function(c,p){U.property(e.data,c,p,!1)})}},"hoistPayloadMember"),computeSha256:s(function(e,r){if(U.isNode()){var n=U.stream.Stream,i=require("fs");if(typeof n=="function"&&e instanceof n)if(typeof e.path=="string"){var a={};typeof e.start=="number"&&(a.start=e.start),typeof e.end=="number"&&(a.end=e.end),e=i.createReadStream(e.path,a)}else return r(new Error("Non-file stream objects are not supported with SigV4"))}U.crypto.sha256(e,"hex",function(o,u){o?r(o):r(null,u)})},"computeSha256"),isClockSkewed:s(function(e){if(e)return U.property(We.config,"isClockSkewed",Math.abs(new Date().getTime()-e)>=3e5,!1),We.config.isClockSkewed},"isClockSkewed"),applyClockOffset:s(function(e){e&&(We.config.systemClockOffset=e-new Date().getTime())},"applyClockOffset"),extractRequestId:s(function(e){var r=e.httpResponse.headers["x-amz-request-id"]||e.httpResponse.headers["x-amzn-requestid"];!r&&e.data&&e.data.ResponseMetadata&&(r=e.data.ResponseMetadata.RequestId),r&&(e.requestId=r),e.error&&(e.error.requestId=r)},"extractRequestId"),addPromises:s(function(e,r){var n=!1;r===void 0&&We&&We.config&&(r=We.config.getPromisesDependency()),r===void 0&&typeof Promise!="undefined"&&(r=Promise),typeof r!="function"&&(n=!0),Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var a=e[i];n?a.deletePromisesFromClass&&a.deletePromisesFromClass():a.addPromisesToClass&&a.addPromisesToClass(r)}},"addPromises"),promisifyMethod:s(function(e,r){return s(function(){var i=this,a=Array.prototype.slice.call(arguments);return new r(function(o,u){a.push(function(c,p){c?u(c):o(p)}),i[e].apply(i,a)})},"promise")},"promisifyMethod"),isDualstackAvailable:s(function(e){if(!e)return!1;var r=Ka();return typeof e!="string"&&(e=e.serviceIdentifier),typeof e!="string"||!r.hasOwnProperty(e)?!1:!!r[e].dualstackAvailable},"isDualstackAvailable"),calculateRetryDelay:s(function(e,r,n){r||(r={});var i=r.customBackoff||null;if(typeof i=="function")return i(e,n);var a=typeof r.base=="number"?r.base:100,o=Math.random()*(Math.pow(2,e)*a);return o},"calculateRetryDelay"),handleRequestWithRetries:s(function(e,r,n){r||(r={});var i=We.HttpClient.getInstance(),a=r.httpOptions||{},o=0,u=s(function(p){var h=r.maxRetries||0;if(p&&p.code==="TimeoutError"&&(p.retryable=!0),p&&p.retryable&&o<h){var m=U.calculateRetryDelay(o,r.retryDelayOptions,p);if(m>=0){o++,setTimeout(c,m+(p.retryAfter||0));return}}n(p)},"errCallback"),c=s(function(){var p="";i.handleRequest(e,a,function(h){h.on("data",function(m){p+=m.toString()}),h.on("end",function(){var m=h.statusCode;if(m<300)n(null,p);else{var T=parseInt(h.headers["retry-after"],10)*1e3||0,D=U.error(new Error,{statusCode:m,retryable:m>=500||m===429});T&&D.retryable&&(D.retryAfter=T),u(D)}})},u)},"sendRequest");We.util.defer(c)},"handleRequestWithRetries"),uuid:{v4:s(function(){return cd().v4()},"uuidV4")},convertPayloadToString:s(function(e){var r=e.request,n=r.operation,i=r.service.api.operations[n].output||{};i.payload&&e.data[i.payload]&&(e.data[i.payload]=e.data[i.payload].toString())},"convertPayloadToString"),defer:s(function(e){typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick(e):typeof setImmediate=="function"?setImmediate(e):setTimeout(e,0)},"defer"),getRequestPayloadShape:s(function(e){var r=e.service.api.operations;if(!!r){var n=(r||{})[e.operation];if(!(!n||!n.input||!n.input.payload))return n.input.members[n.input.payload]}},"getRequestPayloadShape"),getProfilesFromSharedConfig:s(function(e,r){var n={},i={};if(process.env[U.configOptInEnv])var i=e.loadFrom({isConfig:!0,filename:process.env[U.sharedConfigFileEnv]});var a={};try{var a=e.loadFrom({filename:r||process.env[U.configOptInEnv]&&process.env[U.sharedCredentialsFileEnv]})}catch(p){if(!process.env[U.configOptInEnv])throw p}for(var o=0,u=Object.keys(i);o<u.length;o++)n[u[o]]=c(n[u[o]]||{},i[u[o]]);for(var o=0,u=Object.keys(a);o<u.length;o++)n[u[o]]=c(n[u[o]]||{},a[u[o]]);return n;function c(p,h){for(var m=0,T=Object.keys(h);m<T.length;m++)p[T[m]]=h[T[m]];return p}},"getProfilesFromSharedConfig"),ARN:{validate:s(function(e){return e&&e.indexOf("arn:")===0&&e.split(":").length>=6},"validateARN"),parse:s(function(e){var r=e.split(":");return{partition:r[1],service:r[2],region:r[3],accountId:r[4],resource:r.slice(5).join(":")}},"parseARN"),build:s(function(e){if(e.service===void 0||e.region===void 0||e.accountId===void 0||e.resource===void 0)throw U.error(new Error("Input ARN object is invalid"));return"arn:"+(e.partition||"aws")+":"+e.service+":"+e.region+":"+e.accountId+":"+e.resource},"buildARN")},defaultProfile:"default",configOptInEnv:"AWS_SDK_LOAD_CONFIG",sharedCredentialsFileEnv:"AWS_SHARED_CREDENTIALS_FILE",sharedConfigFileEnv:"AWS_CONFIG_FILE",imdsDisabledEnv:"AWS_EC2_METADATA_DISABLED"};ld.exports=U});var hd=v((yI,dd)=>{var tE=K().util,pd=require("stream").Transform,fd=tE.buffer.alloc;function Jr(t){pd.call(this,t),this.currentMessageTotalLength=0,this.currentMessagePendingLength=0,this.currentMessage=null,this.messageLengthBuffer=null}s(Jr,"EventMessageChunkerStream");Jr.prototype=Object.create(pd.prototype);Jr.prototype._transform=function(t,e,r){for(var n=t.length,i=0;i<n;){if(!this.currentMessage){var a=n-i;this.messageLengthBuffer||(this.messageLengthBuffer=fd(4));var o=Math.min(4-this.currentMessagePendingLength,a);if(t.copy(this.messageLengthBuffer,this.currentMessagePendingLength,i,i+o),this.currentMessagePendingLength+=o,i+=o,this.currentMessagePendingLength<4)break;this.allocateMessage(this.messageLengthBuffer.readUInt32BE(0)),this.messageLengthBuffer=null}var u=Math.min(this.currentMessageTotalLength-this.currentMessagePendingLength,n-i);t.copy(this.currentMessage,this.currentMessagePendingLength,i,i+u),this.currentMessagePendingLength+=u,i+=u,this.currentMessageTotalLength&&this.currentMessageTotalLength===this.currentMessagePendingLength&&(this.push(this.currentMessage),this.currentMessage=null,this.currentMessageTotalLength=0,this.currentMessagePendingLength=0)}r()};Jr.prototype._flush=function(t){this.currentMessageTotalLength?this.currentMessageTotalLength===this.currentMessagePendingLength?t(null,this.currentMessage):t(new Error("Truncated event message received.")):t()};Jr.prototype.allocateMessage=function(t){if(typeof t!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+t);this.currentMessageTotalLength=t,this.currentMessagePendingLength=4,this.currentMessage=fd(t),this.currentMessage.writeUInt32BE(t,0)};dd.exports={EventMessageChunkerStream:Jr}});var vd=v((gI,gd)=>{var md=K().util,rE=md.buffer.toBuffer;function Qr(t){if(t.length!==8)throw new Error("Int64 buffers must be exactly 8 bytes");md.Buffer.isBuffer(t)||(t=rE(t)),this.bytes=t}s(Qr,"Int64");Qr.fromNumber=function(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var e=new Uint8Array(8),r=7,n=Math.abs(Math.round(t));r>-1&&n>0;r--,n/=256)e[r]=n;return t<0&&yd(e),new Qr(e)};Qr.prototype.valueOf=function(){var t=this.bytes.slice(0),e=t[0]&128;return e&&yd(t),parseInt(t.toString("hex"),16)*(e?-1:1)};Qr.prototype.toString=function(){return String(this.valueOf())};function yd(t){for(var e=0;e<8;e++)t[e]^=255;for(var e=7;e>-1&&(t[e]++,t[e]===0);e--);}s(yd,"negate");gd.exports={Int64:Qr}});var Sd=v((vI,_d)=>{var xi=K().util,nE=xi.buffer.toBuffer,bd=4,wi=bd*2,Zr=4,iE=wi+Zr*2;function sE(t){if(xi.Buffer.isBuffer(t)||(t=nE(t)),t.length<iE)throw new Error("Provided message too short to accommodate event stream message overhead");if(t.length!==t.readUInt32BE(0))throw new Error("Reported message length does not match received message length");var e=t.readUInt32BE(wi);if(e!==xi.crypto.crc32(t.slice(0,wi)))throw new Error("The prelude checksum specified in the message ("+e+") does not match the calculated CRC32 checksum.");var r=t.readUInt32BE(t.length-Zr);if(r!==xi.crypto.crc32(t.slice(0,t.length-Zr)))throw new Error("The message checksum did not match the expected value of "+r);var n=wi+Zr,i=n+t.readUInt32BE(bd);return{headers:t.slice(n,i),body:t.slice(i,t.length-Zr)}}s(sE,"splitMessage");_d.exports={splitMessage:sE}});var Ad=v((bI,Cd)=>{var Ed=vd().Int64,aE=Sd().splitMessage,Td="boolean",oE="byte",uE="short",cE="integer",lE="long",pE="binary",fE="string",dE="timestamp",hE="uuid";function mE(t){for(var e={},r=0;r<t.length;){var n=t.readUInt8(r++),i=t.slice(r,r+n).toString();switch(r+=n,t.readUInt8(r++)){case 0:e[i]={type:Td,value:!0};break;case 1:e[i]={type:Td,value:!1};break;case 2:e[i]={type:oE,value:t.readInt8(r++)};break;case 3:e[i]={type:uE,value:t.readInt16BE(r)},r+=2;break;case 4:e[i]={type:cE,value:t.readInt32BE(r)},r+=4;break;case 5:e[i]={type:lE,value:new Ed(t.slice(r,r+8))},r+=8;break;case 6:var a=t.readUInt16BE(r);r+=2,e[i]={type:pE,value:t.slice(r,r+a)},r+=a;break;case 7:var o=t.readUInt16BE(r);r+=2,e[i]={type:fE,value:t.slice(r,r+o).toString()},r+=o;break;case 8:e[i]={type:dE,value:new Date(new Ed(t.slice(r,r+8)).valueOf())},r+=8;break;case 9:var u=t.slice(r,r+16).toString("hex");r+=16,e[i]={type:hE,value:u.substr(0,8)+"-"+u.substr(8,4)+"-"+u.substr(12,4)+"-"+u.substr(16,4)+"-"+u.substr(20)};break;default:throw new Error("Unrecognized header type tag")}}return e}s(mE,"parseHeaders");function yE(t){var e=aE(t);return{headers:mE(e.headers),body:e.body}}s(yE,"parseMessage");Cd.exports={parseMessage:yE}});var uo=v((_I,xd)=>{var gE=Ad().parseMessage;function vE(t,e,r){var n=gE(e),i=n.headers[":message-type"];if(i){if(i.value==="error")throw bE(n);if(i.value!=="event")return}var a=n.headers[":event-type"],o=r.members[a.value];if(!!o){var u={},c=o.eventPayloadMemberName;if(c){var p=o.members[c];p.type==="binary"?u[c]=n.body:u[c]=t.parse(n.body.toString(),p)}for(var h=o.eventHeaderMemberNames,m=0;m<h.length;m++){var T=h[m];n.headers[T]&&(u[T]=o.members[T].toType(n.headers[T].value))}var D={};return D[a.value]=u,D}}s(vE,"parseEvent");function bE(t){var e=t.headers[":error-code"],r=t.headers[":error-message"],n=new Error(r.value||r);return n.code=n.name=e.value||e,n}s(bE,"parseError");xd.exports={parseEvent:vE}});var Dd=v((SI,Id)=>{var wd=require("stream").Transform,_E=uo().parseEvent;function co(t){t=t||{},t.readableObjectMode=!0,wd.call(this,t),this._readableState.objectMode=!0,this.parser=t.parser,this.eventStreamModel=t.eventStreamModel}s(co,"EventUnmarshallerStream");co.prototype=Object.create(wd.prototype);co.prototype._transform=function(t,e,r){try{var n=_E(this.parser,t,this.eventStreamModel);return this.push(n),r()}catch(i){r(i)}};Id.exports={EventUnmarshallerStream:co}});var Nd=v((EI,Rd)=>{var SE=hd().EventMessageChunkerStream,EE=Dd().EventUnmarshallerStream;function TE(t,e,r){var n=new EE({parser:e,eventStreamModel:r}),i=new SE;return t.pipe(i).pipe(n),t.on("error",function(a){i.emit("error",a)}),i.on("error",function(a){n.emit("error",a)}),n}s(TE,"createEventStream");Rd.exports={createEventStream:TE}});var Pd=v((TI,qd)=>{function CE(t){for(var e=[],r=0;r<t.length;){var n=t.readInt32BE(r),i=t.slice(r,n+r);r+=n,e.push(i)}return e}s(CE,"eventMessageChunker");qd.exports={eventMessageChunker:CE}});var Md=v((CI,Od)=>{var AE=Pd().eventMessageChunker,xE=uo().parseEvent;function wE(t,e,r){for(var n=AE(t),i=[],a=0;a<n.length;a++)i.push(xE(e,n[a],r));return i}s(wE,"createEventStream");Od.exports={createEventStream:wE}});var kd=v((AI,Ld)=>{Ld.exports={now:s(function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6},"now")}});var Bd=v((xI,Fd)=>{var IE=K().util,DE=require("dgram"),RE=IE.buffer.toBuffer,NE=1024*8;function Qt(t){t=t||{},this.enabled=t.enabled||!1,this.port=t.port||31e3,this.clientId=t.clientId||"",this.address=t.host||"127.0.0.1",this.clientId.length>255&&(this.clientId=this.clientId.substr(0,255)),this.messagesInFlight=0}s(Qt,"Publisher");Qt.prototype.fieldsToTrim={UserAgent:256,SdkException:128,SdkExceptionMessage:512,AwsException:128,AwsExceptionMessage:512,FinalSdkException:128,FinalSdkExceptionMessage:512,FinalAwsException:128,FinalAwsExceptionMessage:512};Qt.prototype.trimFields=function(t){for(var e=Object.keys(this.fieldsToTrim),r=0,n=e.length;r<n;r++){var i=e[r];if(t.hasOwnProperty(i)){var a=this.fieldsToTrim[i],o=t[i];o&&o.length>a&&(t[i]=o.substr(0,a))}}return t};Qt.prototype.eventHandler=function(t){t.ClientId=this.clientId,this.trimFields(t);var e=RE(JSON.stringify(t));!this.enabled||e.length>NE||this.publishDatagram(e)};Qt.prototype.publishDatagram=function(t){var e=this,r=this.getClient();this.messagesInFlight++,this.client.send(t,0,t.length,this.port,this.address,function(n,i){--e.messagesInFlight<=0&&e.destroyClient()})};Qt.prototype.getClient=function(){return this.client||(this.client=DE.createSocket("udp4")),this.client};Qt.prototype.destroyClient=function(){this.client&&(this.client.close(),this.client=void 0)};Fd.exports={Publisher:Qt}});var Kd=v((wI,jd)=>{var lo=K();function qE(){var t={port:void 0,clientId:void 0,enabled:void 0,host:void 0};return PE(t)||OE(t),Ud(t)}s(qE,"resolveMonitoringConfig");function PE(t){return t.port=t.port||process.env.AWS_CSM_PORT,t.enabled=t.enabled||process.env.AWS_CSM_ENABLED,t.clientId=t.clientId||process.env.AWS_CSM_CLIENT_ID,t.host=t.host||process.env.AWS_CSM_HOST,t.port&&t.enabled&&t.clientId&&t.host||["false","0"].indexOf(t.enabled)>=0}s(PE,"fromEnvironment");function OE(t){var e;try{var r=lo.util.iniLoader.loadFrom({isConfig:!0,filename:process.env[lo.util.sharedConfigFileEnv]}),e=r[process.env.AWS_PROFILE||lo.util.defaultProfile]}catch(n){return!1}return e?(t.port=t.port||e.csm_port,t.enabled=t.enabled||e.csm_enabled,t.clientId=t.clientId||e.csm_client_id,t.host=t.host||e.csm_host,t.port&&t.enabled&&t.clientId&&t.host):t}s(OE,"fromConfigFile");function Ud(t){var e=["false","0",void 0];return!t.enabled||e.indexOf(t.enabled.toLowerCase())>=0?t.enabled=!1:t.enabled=!0,t.port=t.port?parseInt(t.port,10):void 0,t}s(Ud,"toJSType");jd.exports=qE});var po=v((II,Gd)=>{var vr=K(),Wd=require("os"),ME=require("path");function Vd(t,e){var r=vr.util.ini.parse(vr.util.readFileSync(t)),n={};return Object.keys(r).forEach(function(i){var a=r[i];i=e?i.replace(/^profile\s/,""):i,Object.defineProperty(n,i,{value:a,enumerable:!0})}),n}s(Vd,"parseFile");vr.IniLoader=vr.util.inherit({constructor:s(function(){this.resolvedProfiles={}},"IniLoader"),clearCachedFiles:s(function(){this.resolvedProfiles={}},"clearCachedFiles"),loadFrom:s(function(e){e=e||{};var r=e.isConfig===!0,n=e.filename||this.getDefaultFilePath(r);if(!this.resolvedProfiles[n]){var i=this.parseFile(n,r);Object.defineProperty(this.resolvedProfiles,n,{value:i})}return this.resolvedProfiles[n]},"loadFrom"),parseFile:Vd,getDefaultFilePath:s(function(e){return ME.join(this.getHomeDir(),".aws",e?"config":"credentials")},"getDefaultFilePath"),getHomeDir:s(function(){var e=process.env,r=e.HOME||e.USERPROFILE||(e.HOMEPATH?(e.HOMEDRIVE||"C:/")+e.HOMEPATH:null);if(r)return r;if(typeof Wd.homedir=="function")return Wd.homedir();throw vr.util.error(new Error("Cannot load credentials, HOME path not set"))},"getHomeDir")});var LE=vr.IniLoader;Gd.exports={IniLoader:LE,parseFile:Vd}});var Xd=v((DI,Hd)=>{var kE=po().IniLoader;Hd.exports.iniLoader=new kE});var $d=v((RI,zd)=>{var en=K();function fo(t,e){if(typeof t=="string"){if(["legacy","regional"].indexOf(t.toLowerCase())>=0)return t.toLowerCase();throw en.util.error(new Error,e)}}s(fo,"validateRegionalEndpointsFlagValue");function FE(t,e){t=t||{};var r;if(t[e.clientConfig]&&(r=fo(t[e.clientConfig],{code:"InvalidConfiguration",message:'invalid "'+e.clientConfig+'" configuration. Expect "legacy"  or "regional". Got "'+t[e.clientConfig]+'".'}),r)||!en.util.isNode())return r;if(Object.prototype.hasOwnProperty.call(process.env,e.env)){var n=process.env[e.env];if(r=fo(n,{code:"InvalidEnvironmentalVariable",message:"invalid "+e.env+' environmental variable. Expect "legacy"  or "regional". Got "'+process.env[e.env]+'".'}),r)return r}var i={};try{var a=en.util.getProfilesFromSharedConfig(en.util.iniLoader);i=a[process.env.AWS_PROFILE||en.util.defaultProfile]}catch(u){}if(i&&Object.prototype.hasOwnProperty.call(i,e.sharedConfig)){var o=i[e.sharedConfig];if(r=fo(o,{code:"InvalidConfiguration",message:"invalid "+e.sharedConfig+' profile config. Expect "legacy"  or "regional". Got "'+i[e.sharedConfig]+'".'}),r)return r}return r}s(FE,"resolveRegionalEndpointsFlag");zd.exports=FE});var Yd=v(()=>{var Ii=K(),BE=$d(),UE="AWS_STS_REGIONAL_ENDPOINTS",jE="sts_regional_endpoints";Ii.util.update(Ii.STS.prototype,{credentialsFrom:s(function(e,r){return e?(r||(r=new Ii.TemporaryCredentials),r.expired=!1,r.accessKeyId=e.Credentials.AccessKeyId,r.secretAccessKey=e.Credentials.SecretAccessKey,r.sessionToken=e.Credentials.SessionToken,r.expireTime=e.Credentials.Expiration,r):null},"credentialsFrom"),assumeRoleWithWebIdentity:s(function(e,r){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",e,r)},"assumeRoleWithWebIdentity"),assumeRoleWithSAML:s(function(e,r){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",e,r)},"assumeRoleWithSAML"),setupRequestListeners:s(function(e){e.addListener("validate",this.optInRegionalEndpoint,!0)},"setupRequestListeners"),optInRegionalEndpoint:s(function(e){var r=e.service,n=r.config;if(n.stsRegionalEndpoints=BE(r._originalConfig,{env:UE,sharedConfig:jE,clientConfig:"stsRegionalEndpoints"}),n.stsRegionalEndpoints==="regional"&&r.isGlobalEndpoint){if(!n.region)throw Ii.util.error(new Error,{code:"ConfigError",message:"Missing region in config"});var i=n.endpoint.indexOf(".amazonaws.com"),a=n.endpoint.substring(0,i)+"."+n.region+n.endpoint.substring(i);e.httpRequest.updateEndpoint(a),e.httpRequest.region=n.region}},"optInRegionalEndpoint")})});var Jd=v((PI,KE)=>{KE.exports={version:"2.0",metadata:{apiVersion:"2011-06-15",endpointPrefix:"sts",globalEndpoint:"sts.amazonaws.com",protocol:"query",serviceAbbreviation:"AWS STS",serviceFullName:"AWS Security Token Service",serviceId:"STS",signatureVersion:"v4",uid:"sts-2011-06-15",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/"},operations:{AssumeRole:{input:{type:"structure",required:["RoleArn","RoleSessionName"],members:{RoleArn:{},RoleSessionName:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"},Tags:{shape:"S8"},TransitiveTagKeys:{type:"list",member:{}},ExternalId:{},SerialNumber:{},TokenCode:{},SourceIdentity:{}}},output:{resultWrapper:"AssumeRoleResult",type:"structure",members:{Credentials:{shape:"Si"},AssumedRoleUser:{shape:"Sn"},PackedPolicySize:{type:"integer"},SourceIdentity:{}}}},AssumeRoleWithSAML:{input:{type:"structure",required:["RoleArn","PrincipalArn","SAMLAssertion"],members:{RoleArn:{},PrincipalArn:{},SAMLAssertion:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithSAMLResult",type:"structure",members:{Credentials:{shape:"Si"},AssumedRoleUser:{shape:"Sn"},PackedPolicySize:{type:"integer"},Subject:{},SubjectType:{},Issuer:{},Audience:{},NameQualifier:{},SourceIdentity:{}}}},AssumeRoleWithWebIdentity:{input:{type:"structure",required:["RoleArn","RoleSessionName","WebIdentityToken"],members:{RoleArn:{},RoleSessionName:{},WebIdentityToken:{},ProviderId:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithWebIdentityResult",type:"structure",members:{Credentials:{shape:"Si"},SubjectFromWebIdentityToken:{},AssumedRoleUser:{shape:"Sn"},PackedPolicySize:{type:"integer"},Provider:{},Audience:{},SourceIdentity:{}}}},DecodeAuthorizationMessage:{input:{type:"structure",required:["EncodedMessage"],members:{EncodedMessage:{}}},output:{resultWrapper:"DecodeAuthorizationMessageResult",type:"structure",members:{DecodedMessage:{}}}},GetAccessKeyInfo:{input:{type:"structure",required:["AccessKeyId"],members:{AccessKeyId:{}}},output:{resultWrapper:"GetAccessKeyInfoResult",type:"structure",members:{Account:{}}}},GetCallerIdentity:{input:{type:"structure",members:{}},output:{resultWrapper:"GetCallerIdentityResult",type:"structure",members:{UserId:{},Account:{},Arn:{}}}},GetFederationToken:{input:{type:"structure",required:["Name"],members:{Name:{},Policy:{},PolicyArns:{shape:"S4"},DurationSeconds:{type:"integer"},Tags:{shape:"S8"}}},output:{resultWrapper:"GetFederationTokenResult",type:"structure",members:{Credentials:{shape:"Si"},FederatedUser:{type:"structure",required:["FederatedUserId","Arn"],members:{FederatedUserId:{},Arn:{}}},PackedPolicySize:{type:"integer"}}}},GetSessionToken:{input:{type:"structure",members:{DurationSeconds:{type:"integer"},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"GetSessionTokenResult",type:"structure",members:{Credentials:{shape:"Si"}}}}},shapes:{S4:{type:"list",member:{type:"structure",members:{arn:{}}}},S8:{type:"list",member:{type:"structure",required:["Key","Value"],members:{Key:{},Value:{}}}},Si:{type:"structure",required:["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],members:{AccessKeyId:{},SecretAccessKey:{},SessionToken:{},Expiration:{type:"timestamp"}}},Sn:{type:"structure",required:["AssumedRoleId","Arn"],members:{AssumedRoleId:{},Arn:{}}}}}});var Qd=v((OI,WE)=>{WE.exports={pagination:{}}});var Ot=v((MI,eh)=>{Ri();var Di=K(),VE=Di.Service,Zd=Di.apiLoader;Zd.services.sts={};Di.STS=VE.defineService("sts",["2011-06-15"]);Yd();Object.defineProperty(Zd.services.sts,"2011-06-15",{get:s(function(){var e=Jd();return e.paginators=Qd().pagination,e},"get"),enumerable:!0,configurable:!0});eh.exports=Di.STS});var th=v(()=>{var Zt=K(),GE=Ot();Zt.TemporaryCredentials=Zt.util.inherit(Zt.Credentials,{constructor:s(function(e,r){Zt.Credentials.call(this),this.loadMasterCredentials(r),this.expired=!0,this.params=e||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},"TemporaryCredentials"),refresh:s(function(e){this.coalesceRefresh(e||Zt.util.fn.callback)},"refresh"),load:s(function(e){var r=this;r.createClients(),r.masterCredentials.get(function(){r.service.config.credentials=r.masterCredentials;var n=r.params.RoleArn?r.service.assumeRole:r.service.getSessionToken;n.call(r.service,function(i,a){i||r.service.credentialsFrom(a,r),e(i)})})},"load"),loadMasterCredentials:s(function(e){for(this.masterCredentials=e||Zt.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials;typeof this.masterCredentials.get!="function"&&(this.masterCredentials=new Zt.Credentials(this.masterCredentials))},"loadMasterCredentials"),createClients:function(){this.service=this.service||new GE({params:this.params})}})});var rh=v(()=>{var lt=K(),HE=Ot();lt.ChainableTemporaryCredentials=lt.util.inherit(lt.Credentials,{constructor:s(function(e){lt.Credentials.call(this),e=e||{},this.errorCode="ChainableTemporaryCredentialsProviderFailure",this.expired=!0,this.tokenCodeFn=null;var r=lt.util.copy(e.params)||{};if(r.RoleArn&&(r.RoleSessionName=r.RoleSessionName||"temporary-credentials"),r.SerialNumber){if(!e.tokenCodeFn||typeof e.tokenCodeFn!="function")throw new lt.util.error(new Error("tokenCodeFn must be a function when params.SerialNumber is given"),{code:this.errorCode});this.tokenCodeFn=e.tokenCodeFn}var n=lt.util.merge({params:r,credentials:e.masterCredentials||lt.config.credentials},e.stsConfig||{});this.service=new HE(n)},"ChainableTemporaryCredentials"),refresh:s(function(e){this.coalesceRefresh(e||lt.util.fn.callback)},"refresh"),load:s(function(e){var r=this,n=r.service.config.params.RoleArn?"assumeRole":"getSessionToken";this.getTokenCode(function(i,a){var o={};if(i){e(i);return}a&&(o.TokenCode=a),r.service[n](o,function(u,c){u||r.service.credentialsFrom(c,r),e(u)})})},"load"),getTokenCode:s(function(e){var r=this;this.tokenCodeFn?this.tokenCodeFn(this.service.config.params.SerialNumber,function(n,i){if(n){var a=n;n instanceof Error&&(a=n.message),e(lt.util.error(new Error("Error fetching MFA token: "+a),{code:r.errorCode}));return}e(null,i)}):e(null)},"getTokenCode")})});var nh=v(()=>{var er=K(),XE=Ot();er.WebIdentityCredentials=er.util.inherit(er.Credentials,{constructor:s(function(e,r){er.Credentials.call(this),this.expired=!0,this.params=e,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null,this._clientConfig=er.util.copy(r||{})},"WebIdentityCredentials"),refresh:s(function(e){this.coalesceRefresh(e||er.util.fn.callback)},"refresh"),load:s(function(e){var r=this;r.createClients(),r.service.assumeRoleWithWebIdentity(function(n,i){r.data=null,n||(r.data=i,r.service.credentialsFrom(i,r)),e(n)})},"load"),createClients:function(){if(!this.service){var t=er.util.merge({},this._clientConfig);t.params=this.params,this.service=new XE(t)}}})});var ih=v((KI,zE)=>{zE.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-identity",jsonVersion:"1.1",protocol:"json",serviceFullName:"Amazon Cognito Identity",serviceId:"Cognito Identity",signatureVersion:"v4",targetPrefix:"AWSCognitoIdentityService",uid:"cognito-identity-2014-06-30"},operations:{CreateIdentityPool:{input:{type:"structure",required:["IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},output:{shape:"Sk"}},DeleteIdentities:{input:{type:"structure",required:["IdentityIdsToDelete"],members:{IdentityIdsToDelete:{type:"list",member:{}}}},output:{type:"structure",members:{UnprocessedIdentityIds:{type:"list",member:{type:"structure",members:{IdentityId:{},ErrorCode:{}}}}}}},DeleteIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}}},DescribeIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{}}},output:{shape:"Sv"}},DescribeIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{shape:"Sk"}},GetCredentialsForIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"},CustomRoleArn:{}}},output:{type:"structure",members:{IdentityId:{},Credentials:{type:"structure",members:{AccessKeyId:{},SecretKey:{},SessionToken:{},Expiration:{type:"timestamp"}}}}},authtype:"none"},GetId:{input:{type:"structure",required:["IdentityPoolId"],members:{AccountId:{},IdentityPoolId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{}}},authtype:"none"},GetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{type:"structure",members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},GetOpenIdToken:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}},authtype:"none"},GetOpenIdTokenForDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId","Logins"],members:{IdentityPoolId:{},IdentityId:{},Logins:{shape:"S10"},PrincipalTags:{shape:"S1s"},TokenDuration:{type:"long"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},GetPrincipalTagAttributeMap:{input:{type:"structure",required:["IdentityPoolId","IdentityProviderName"],members:{IdentityPoolId:{},IdentityProviderName:{}}},output:{type:"structure",members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}}},ListIdentities:{input:{type:"structure",required:["IdentityPoolId","MaxResults"],members:{IdentityPoolId:{},MaxResults:{type:"integer"},NextToken:{},HideDisabled:{type:"boolean"}}},output:{type:"structure",members:{IdentityPoolId:{},Identities:{type:"list",member:{shape:"Sv"}},NextToken:{}}}},ListIdentityPools:{input:{type:"structure",required:["MaxResults"],members:{MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityPools:{type:"list",member:{type:"structure",members:{IdentityPoolId:{},IdentityPoolName:{}}}},NextToken:{}}}},ListTagsForResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{}}},output:{type:"structure",members:{Tags:{shape:"Sh"}}}},LookupDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{},IdentityId:{},DeveloperUserIdentifier:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityId:{},DeveloperUserIdentifierList:{type:"list",member:{}},NextToken:{}}}},MergeDeveloperIdentities:{input:{type:"structure",required:["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],members:{SourceUserIdentifier:{},DestinationUserIdentifier:{},DeveloperProviderName:{},IdentityPoolId:{}}},output:{type:"structure",members:{IdentityId:{}}}},SetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId","Roles"],members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},SetPrincipalTagAttributeMap:{input:{type:"structure",required:["IdentityPoolId","IdentityProviderName"],members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}},output:{type:"structure",members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}}},TagResource:{input:{type:"structure",required:["ResourceArn","Tags"],members:{ResourceArn:{},Tags:{shape:"Sh"}}},output:{type:"structure",members:{}}},UnlinkDeveloperIdentity:{input:{type:"structure",required:["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],members:{IdentityId:{},IdentityPoolId:{},DeveloperProviderName:{},DeveloperUserIdentifier:{}}}},UnlinkIdentity:{input:{type:"structure",required:["IdentityId","Logins","LoginsToRemove"],members:{IdentityId:{},Logins:{shape:"S10"},LoginsToRemove:{shape:"Sw"}}},authtype:"none"},UntagResource:{input:{type:"structure",required:["ResourceArn","TagKeys"],members:{ResourceArn:{},TagKeys:{type:"list",member:{}}}},output:{type:"structure",members:{}}},UpdateIdentityPool:{input:{shape:"Sk"},output:{shape:"Sk"}}},shapes:{S5:{type:"map",key:{},value:{}},S9:{type:"list",member:{}},Sb:{type:"list",member:{type:"structure",members:{ProviderName:{},ClientId:{},ServerSideTokenCheck:{type:"boolean"}}}},Sg:{type:"list",member:{}},Sh:{type:"map",key:{},value:{}},Sk:{type:"structure",required:["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolId:{},IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},Sv:{type:"structure",members:{IdentityId:{},Logins:{shape:"Sw"},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"}}},Sw:{type:"list",member:{}},S10:{type:"map",key:{},value:{}},S1c:{type:"map",key:{},value:{}},S1e:{type:"map",key:{},value:{type:"structure",required:["Type"],members:{Type:{},AmbiguousRoleResolution:{},RulesConfiguration:{type:"structure",required:["Rules"],members:{Rules:{type:"list",member:{type:"structure",required:["Claim","MatchType","Value","RoleARN"],members:{Claim:{},MatchType:{},Value:{},RoleARN:{}}}}}}}}},S1s:{type:"map",key:{},value:{}}}}});var sh=v((WI,$E)=>{$E.exports={pagination:{ListIdentityPools:{input_token:"NextToken",limit_key:"MaxResults",output_token:"NextToken",result_key:"IdentityPools"}}}});var uh=v((VI,oh)=>{Ri();var Ni=K(),YE=Ni.Service,ah=Ni.apiLoader;ah.services.cognitoidentity={};Ni.CognitoIdentity=YE.defineService("cognitoidentity",["2014-06-30"]);Object.defineProperty(ah.services.cognitoidentity,"2014-06-30",{get:s(function(){var e=ih();return e.paginators=sh().pagination,e},"get"),enumerable:!0,configurable:!0});oh.exports=Ni.CognitoIdentity});var ch=v(()=>{var et=K(),JE=uh(),QE=Ot();et.CognitoIdentityCredentials=et.util.inherit(et.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:s(function(e,r){et.Credentials.call(this),this.expired=!0,this.params=e,this.data=null,this._identityId=null,this._clientConfig=et.util.copy(r||{}),this.loadCachedId();var n=this;Object.defineProperty(this,"identityId",{get:function(){return n.loadCachedId(),n._identityId||n.params.IdentityId},set:function(i){n._identityId=i}})},"CognitoIdentityCredentials"),refresh:s(function(e){this.coalesceRefresh(e||et.util.fn.callback)},"refresh"),load:s(function(e){var r=this;r.createClients(),r.data=null,r._identityId=null,r.getId(function(n){n?(r.clearIdOnNotAuthorized(n),e(n)):r.params.RoleArn?r.getCredentialsFromSTS(e):r.getCredentialsForIdentity(e)})},"load"),clearCachedId:s(function(){this._identityId=null,delete this.params.IdentityId;var e=this.params.IdentityPoolId,r=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+e+r],delete this.storage[this.localStorageKey.providers+e+r]},"clearCache"),clearIdOnNotAuthorized:s(function(e){var r=this;e.code=="NotAuthorizedException"&&r.clearCachedId()},"clearIdOnNotAuthorized"),getId:s(function(e){var r=this;if(typeof r.params.IdentityId=="string")return e(null,r.params.IdentityId);r.cognito.getId(function(n,i){!n&&i.IdentityId?(r.params.IdentityId=i.IdentityId,e(null,i.IdentityId)):e(n)})},"getId"),loadCredentials:s(function(e,r){!e||!r||(r.expired=!1,r.accessKeyId=e.Credentials.AccessKeyId,r.secretAccessKey=e.Credentials.SecretKey,r.sessionToken=e.Credentials.SessionToken,r.expireTime=e.Credentials.Expiration)},"loadCredentials"),getCredentialsForIdentity:s(function(e){var r=this;r.cognito.getCredentialsForIdentity(function(n,i){n?r.clearIdOnNotAuthorized(n):(r.cacheId(i),r.data=i,r.loadCredentials(r.data,r)),e(n)})},"getCredentialsForIdentity"),getCredentialsFromSTS:s(function(e){var r=this;r.cognito.getOpenIdToken(function(n,i){n?(r.clearIdOnNotAuthorized(n),e(n)):(r.cacheId(i),r.params.WebIdentityToken=i.Token,r.webIdentityCredentials.refresh(function(a){a||(r.data=r.webIdentityCredentials.data,r.sts.credentialsFrom(r.data,r)),e(a)}))})},"getCredentialsFromSTS"),loadCachedId:s(function(){var e=this;if(et.util.isBrowser()&&!e.params.IdentityId){var r=e.getStorage("id");if(r&&e.params.Logins){var n=Object.keys(e.params.Logins),i=(e.getStorage("providers")||"").split(","),a=i.filter(function(o){return n.indexOf(o)!==-1});a.length!==0&&(e.params.IdentityId=r)}else r&&(e.params.IdentityId=r)}},"loadCachedId"),createClients:function(){var t=this._clientConfig;if(this.webIdentityCredentials=this.webIdentityCredentials||new et.WebIdentityCredentials(this.params,t),!this.cognito){var e=et.util.merge({},t);e.params=this.params,this.cognito=new JE(e)}this.sts=this.sts||new QE(t)},cacheId:s(function(e){this._identityId=e.IdentityId,this.params.IdentityId=this._identityId,et.util.isBrowser()&&(this.setStorage("id",e.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},"cacheId"),getStorage:s(function(e){return this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]},"getStorage"),setStorage:s(function(e,r){try{this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]=r}catch(n){}},"setStorage"),storage:function(){try{var t=et.util.isBrowser()&&window.localStorage!==null&&typeof window.localStorage=="object"?window.localStorage:{};return t["aws.test-storage"]="foobar",delete t["aws.test-storage"],t}catch(e){return{}}}()})});var lh=v(()=>{var tn=K(),ZE=Ot();tn.SAMLCredentials=tn.util.inherit(tn.Credentials,{constructor:s(function(e){tn.Credentials.call(this),this.expired=!0,this.params=e},"SAMLCredentials"),refresh:s(function(e){this.coalesceRefresh(e||tn.util.fn.callback)},"refresh"),load:s(function(e){var r=this;r.createClients(),r.service.assumeRoleWithSAML(function(n,i){n||r.service.credentialsFrom(i,r),e(n)})},"load"),createClients:function(){this.service=this.service||new ZE({params:this.params})}})});var ho=v(()=>{var Oe=K(),eT=require("child_process"),ph=Oe.util.iniLoader;Oe.ProcessCredentials=Oe.util.inherit(Oe.Credentials,{constructor:s(function(e){Oe.Credentials.call(this),e=e||{},this.filename=e.filename,this.profile=e.profile||process.env.AWS_PROFILE||Oe.util.defaultProfile,this.get(e.callback||Oe.util.fn.noop)},"ProcessCredentials"),load:s(function(e){var r=this;try{var n=Oe.util.getProfilesFromSharedConfig(ph,this.filename),i=n[this.profile]||{};if(Object.keys(i).length===0)throw Oe.util.error(new Error("Profile "+this.profile+" not found"),{code:"ProcessCredentialsProviderFailure"});if(i.credential_process)this.loadViaCredentialProcess(i,function(a,o){a?e(a,null):(r.expired=!1,r.accessKeyId=o.AccessKeyId,r.secretAccessKey=o.SecretAccessKey,r.sessionToken=o.SessionToken,o.Expiration&&(r.expireTime=new Date(o.Expiration)),e(null))});else throw Oe.util.error(new Error("Profile "+this.profile+" did not include credential process"),{code:"ProcessCredentialsProviderFailure"})}catch(a){e(a)}},"load"),loadViaCredentialProcess:s(function(e,r){eT.exec(e.credential_process,{env:process.env},function(n,i,a){if(n)r(Oe.util.error(new Error("credential_process returned error"),{code:"ProcessCredentialsProviderFailure"}),null);else try{var o=JSON.parse(i);if(o.Expiration){var u=Oe.util.date.getDate(),c=new Date(o.Expiration);if(c<u)throw Error("credential_process returned expired credentials")}if(o.Version!==1)throw Error("credential_process does not return Version == 1");r(null,o)}catch(p){r(Oe.util.error(new Error(p.message),{code:"ProcessCredentialsProviderFailure"}),null)}})},"loadViaCredentialProcess"),refresh:s(function(e){ph.clearCachedFiles(),this.coalesceRefresh(e||Oe.util.fn.callback)},"refresh")})});var qi=v(mo=>{(function(){mo.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(mo)});var _t=v((fh,tr)=>{(function(){var t,e,r,n,i,a,o=[].slice,u={}.hasOwnProperty;t=s(function(){var c,p,h,m,T,D;if(D=arguments[0],T=2<=arguments.length?o.call(arguments,1):[],n(Object.assign))Object.assign.apply(null,arguments);else for(c=0,h=T.length;c<h;c++)if(m=T[c],m!=null)for(p in m)!u.call(m,p)||(D[p]=m[p]);return D},"assign"),n=s(function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},"isFunction"),i=s(function(c){var p;return!!c&&((p=typeof c)==="function"||p==="object")},"isObject"),e=s(function(c){return n(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},"isArray"),r=s(function(c){var p;if(e(c))return!c.length;for(p in c)if(!!u.call(c,p))return!1;return!0},"isEmpty"),a=s(function(c){var p,h;return i(c)&&(h=Object.getPrototypeOf(c))&&(p=h.constructor)&&typeof p=="function"&&p instanceof p&&Function.prototype.toString.call(p)===Function.prototype.toString.call(Object)},"isPlainObject"),tr.exports.assign=t,tr.exports.isFunction=n,tr.exports.isObject=i,tr.exports.isArray=e,tr.exports.isEmpty=r,tr.exports.isPlainObject=a}).call(fh)});var yo=v((dh,hh)=>{(function(){var t;hh.exports=t=function(){function e(r,n,i){if(this.options=r.options,this.stringify=r.stringify,n==null)throw new Error("Missing attribute name of element "+r.name);if(i==null)throw new Error("Missing attribute value for attribute "+n+" of element "+r.name);this.name=this.stringify.attName(n),this.value=this.stringify.attValue(i)}return s(e,"XMLAttribute"),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(r){return this.options.writer.set(r).attribute(this)},e}()}).call(dh)});var rn=v((mh,yh)=>{(function(){var t,e,r,n,i,a,o=s(function(c,p){for(var h in p)u.call(p,h)&&(c[h]=p[h]);function m(){this.constructor=c}return s(m,"ctor"),m.prototype=p.prototype,c.prototype=new m,c.__super__=p.prototype,c},"extend"),u={}.hasOwnProperty;a=_t(),i=a.isObject,n=a.isFunction,r=Me(),t=yo(),yh.exports=e=function(c){o(p,c);function p(h,m,T){if(p.__super__.constructor.call(this,h),m==null)throw new Error("Missing element name");this.name=this.stringify.eleName(m),this.attributes={},T!=null&&this.attribute(T),h.isDocument&&(this.isRoot=!0,this.documentObject=h,h.rootObject=this)}return s(p,"XMLElement"),p.prototype.clone=function(){var h,m,T,D;T=Object.create(this),T.isRoot&&(T.documentObject=null),T.attributes={},D=this.attributes;for(m in D)!u.call(D,m)||(h=D[m],T.attributes[m]=h.clone());return T.children=[],this.children.forEach(function(_){var S;return S=_.clone(),S.parent=T,T.children.push(S)}),T},p.prototype.attribute=function(h,m){var T,D;if(h!=null&&(h=h.valueOf()),i(h))for(T in h)!u.call(h,T)||(D=h[T],this.attribute(T,D));else n(m)&&(m=m.apply()),(!this.options.skipNullAttributes||m!=null)&&(this.attributes[h]=new t(this,h,m));return this},p.prototype.removeAttribute=function(h){var m,T,D;if(h==null)throw new Error("Missing attribute name");if(h=h.valueOf(),Array.isArray(h))for(T=0,D=h.length;T<D;T++)m=h[T],delete this.attributes[m];else delete this.attributes[h];return this},p.prototype.toString=function(h){return this.options.writer.set(h).element(this)},p.prototype.att=function(h,m){return this.attribute(h,m)},p.prototype.a=function(h,m){return this.attribute(h,m)},p}(r)}).call(mh)});var nn=v((gh,vh)=>{(function(){var t,e,r=s(function(i,a){for(var o in a)n.call(a,o)&&(i[o]=a[o]);function u(){this.constructor=i}return s(u,"ctor"),u.prototype=a.prototype,i.prototype=new u,i.__super__=a.prototype,i},"extend"),n={}.hasOwnProperty;e=Me(),vh.exports=t=function(i){r(a,i);function a(o,u){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(u)}return s(a,"XMLCData"),a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(o){return this.options.writer.set(o).cdata(this)},a}(e)}).call(gh)});var sn=v((bh,_h)=>{(function(){var t,e,r=s(function(i,a){for(var o in a)n.call(a,o)&&(i[o]=a[o]);function u(){this.constructor=i}return s(u,"ctor"),u.prototype=a.prototype,i.prototype=new u,i.__super__=a.prototype,i},"extend"),n={}.hasOwnProperty;e=Me(),_h.exports=t=function(i){r(a,i);function a(o,u){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing comment text");this.text=this.stringify.comment(u)}return s(a,"XMLComment"),a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(o){return this.options.writer.set(o).comment(this)},a}(e)}).call(bh)});var an=v((Sh,Eh)=>{(function(){var t,e,r,n=s(function(a,o){for(var u in o)i.call(o,u)&&(a[u]=o[u]);function c(){this.constructor=a}return s(c,"ctor"),c.prototype=o.prototype,a.prototype=new c,a.__super__=o.prototype,a},"extend"),i={}.hasOwnProperty;r=_t().isObject,e=Me(),Eh.exports=t=function(a){n(o,a);function o(u,c,p,h){var m;o.__super__.constructor.call(this,u),r(c)&&(m=c,c=m.version,p=m.encoding,h=m.standalone),c||(c="1.0"),this.version=this.stringify.xmlVersion(c),p!=null&&(this.encoding=this.stringify.xmlEncoding(p)),h!=null&&(this.standalone=this.stringify.xmlStandalone(h))}return s(o,"XMLDeclaration"),o.prototype.toString=function(u){return this.options.writer.set(u).declaration(this)},o}(e)}).call(Sh)});var on=v((Th,Ch)=>{(function(){var t,e,r=s(function(i,a){for(var o in a)n.call(a,o)&&(i[o]=a[o]);function u(){this.constructor=i}return s(u,"ctor"),u.prototype=a.prototype,i.prototype=new u,i.__super__=a.prototype,i},"extend"),n={}.hasOwnProperty;e=Me(),Ch.exports=t=function(i){r(a,i);function a(o,u,c,p,h,m){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD element name");if(c==null)throw new Error("Missing DTD attribute name");if(!p)throw new Error("Missing DTD attribute type");if(!h)throw new Error("Missing DTD attribute default");if(h.indexOf("#")!==0&&(h="#"+h),!h.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(m&&!h.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(u),this.attributeName=this.stringify.attName(c),this.attributeType=this.stringify.dtdAttType(p),this.defaultValue=this.stringify.dtdAttDefault(m),this.defaultValueType=h}return s(a,"XMLDTDAttList"),a.prototype.toString=function(o){return this.options.writer.set(o).dtdAttList(this)},a}(e)}).call(Th)});var un=v((Ah,xh)=>{(function(){var t,e,r,n=s(function(a,o){for(var u in o)i.call(o,u)&&(a[u]=o[u]);function c(){this.constructor=a}return s(c,"ctor"),c.prototype=o.prototype,a.prototype=new c,a.__super__=o.prototype,a},"extend"),i={}.hasOwnProperty;r=_t().isObject,e=Me(),xh.exports=t=function(a){n(o,a);function o(u,c,p,h){if(o.__super__.constructor.call(this,u),p==null)throw new Error("Missing entity name");if(h==null)throw new Error("Missing entity value");if(this.pe=!!c,this.name=this.stringify.eleName(p),!r(h))this.value=this.stringify.dtdEntityValue(h);else{if(!h.pubID&&!h.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(h.pubID&&!h.sysID)throw new Error("System identifier is required for a public external entity");if(h.pubID!=null&&(this.pubID=this.stringify.dtdPubID(h.pubID)),h.sysID!=null&&(this.sysID=this.stringify.dtdSysID(h.sysID)),h.nData!=null&&(this.nData=this.stringify.dtdNData(h.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}}return s(o,"XMLDTDEntity"),o.prototype.toString=function(u){return this.options.writer.set(u).dtdEntity(this)},o}(e)}).call(Ah)});var cn=v((wh,Ih)=>{(function(){var t,e,r=s(function(i,a){for(var o in a)n.call(a,o)&&(i[o]=a[o]);function u(){this.constructor=i}return s(u,"ctor"),u.prototype=a.prototype,i.prototype=new u,i.__super__=a.prototype,i},"extend"),n={}.hasOwnProperty;e=Me(),Ih.exports=t=function(i){r(a,i);function a(o,u,c){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD element name");c||(c="(#PCDATA)"),Array.isArray(c)&&(c="("+c.join(",")+")"),this.name=this.stringify.eleName(u),this.value=this.stringify.dtdElementValue(c)}return s(a,"XMLDTDElement"),a.prototype.toString=function(o){return this.options.writer.set(o).dtdElement(this)},a}(e)}).call(wh)});var ln=v((Dh,Rh)=>{(function(){var t,e,r=s(function(i,a){for(var o in a)n.call(a,o)&&(i[o]=a[o]);function u(){this.constructor=i}return s(u,"ctor"),u.prototype=a.prototype,i.prototype=new u,i.__super__=a.prototype,i},"extend"),n={}.hasOwnProperty;e=Me(),Rh.exports=t=function(i){r(a,i);function a(o,u,c){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing notation name");if(!c.pubID&&!c.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(u),c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID))}return s(a,"XMLDTDNotation"),a.prototype.toString=function(o){return this.options.writer.set(o).dtdNotation(this)},a}(e)}).call(Dh)});var pn=v((Nh,qh)=>{(function(){var t,e,r,n,i,a,o,u=s(function(p,h){for(var m in h)c.call(h,m)&&(p[m]=h[m]);function T(){this.constructor=p}return s(T,"ctor"),T.prototype=h.prototype,p.prototype=new T,p.__super__=h.prototype,p},"extend"),c={}.hasOwnProperty;o=_t().isObject,a=Me(),t=on(),r=un(),e=cn(),n=ln(),qh.exports=i=function(p){u(h,p);function h(m,T,D){var _,S;h.__super__.constructor.call(this,m),this.documentObject=m,o(T)&&(_=T,T=_.pubID,D=_.sysID),D==null&&(S=[T,D],D=S[0],T=S[1]),T!=null&&(this.pubID=this.stringify.dtdPubID(T)),D!=null&&(this.sysID=this.stringify.dtdSysID(D))}return s(h,"XMLDocType"),h.prototype.element=function(m,T){var D;return D=new e(this,m,T),this.children.push(D),this},h.prototype.attList=function(m,T,D,_,S){var q;return q=new t(this,m,T,D,_,S),this.children.push(q),this},h.prototype.entity=function(m,T){var D;return D=new r(this,!1,m,T),this.children.push(D),this},h.prototype.pEntity=function(m,T){var D;return D=new r(this,!0,m,T),this.children.push(D),this},h.prototype.notation=function(m,T){var D;return D=new n(this,m,T),this.children.push(D),this},h.prototype.toString=function(m){return this.options.writer.set(m).docType(this)},h.prototype.ele=function(m,T){return this.element(m,T)},h.prototype.att=function(m,T,D,_,S){return this.attList(m,T,D,_,S)},h.prototype.ent=function(m,T){return this.entity(m,T)},h.prototype.pent=function(m,T){return this.pEntity(m,T)},h.prototype.not=function(m,T){return this.notation(m,T)},h.prototype.up=function(){return this.root()||this.documentObject},h}(a)}).call(Nh)});var fn=v((Ph,Oh)=>{(function(){var t,e,r=s(function(i,a){for(var o in a)n.call(a,o)&&(i[o]=a[o]);function u(){this.constructor=i}return s(u,"ctor"),u.prototype=a.prototype,i.prototype=new u,i.__super__=a.prototype,i},"extend"),n={}.hasOwnProperty;t=Me(),Oh.exports=e=function(i){r(a,i);function a(o,u){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing raw text");this.value=this.stringify.raw(u)}return s(a,"XMLRaw"),a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(o){return this.options.writer.set(o).raw(this)},a}(t)}).call(Ph)});var dn=v((Mh,Lh)=>{(function(){var t,e,r=s(function(i,a){for(var o in a)n.call(a,o)&&(i[o]=a[o]);function u(){this.constructor=i}return s(u,"ctor"),u.prototype=a.prototype,i.prototype=new u,i.__super__=a.prototype,i},"extend"),n={}.hasOwnProperty;t=Me(),Lh.exports=e=function(i){r(a,i);function a(o,u){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing element text");this.value=this.stringify.eleText(u)}return s(a,"XMLText"),a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(o){return this.options.writer.set(o).text(this)},a}(t)}).call(Mh)});var hn=v((kh,Fh)=>{(function(){var t,e,r=s(function(i,a){for(var o in a)n.call(a,o)&&(i[o]=a[o]);function u(){this.constructor=i}return s(u,"ctor"),u.prototype=a.prototype,i.prototype=new u,i.__super__=a.prototype,i},"extend"),n={}.hasOwnProperty;t=Me(),Fh.exports=e=function(i){r(a,i);function a(o,u,c){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(u),c&&(this.value=this.stringify.insValue(c))}return s(a,"XMLProcessingInstruction"),a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(o){return this.options.writer.set(o).processingInstruction(this)},a}(t)}).call(kh)});var Me=v((Bh,Uh)=>{(function(){var t,e,r,n,i,a,o,u,c,p,h,m,T,D={}.hasOwnProperty;T=_t(),m=T.isObject,h=T.isFunction,p=T.isEmpty,i=null,t=null,e=null,r=null,n=null,u=null,c=null,o=null,Uh.exports=a=function(){function _(S){this.parent=S,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],i||(i=rn(),t=nn(),e=sn(),r=an(),n=pn(),u=fn(),c=dn(),o=hn())}return s(_,"XMLNode"),_.prototype.element=function(S,q,A){var y,C,N,O,x,w,E,G,H,j;if(w=null,q==null&&(q={}),q=q.valueOf(),m(q)||(H=[q,A],A=H[0],q=H[1]),S!=null&&(S=S.valueOf()),Array.isArray(S))for(N=0,E=S.length;N<E;N++)C=S[N],w=this.element(C);else if(h(S))w=this.element(S.apply());else if(m(S)){for(x in S)if(!!D.call(S,x))if(j=S[x],h(j)&&(j=j.apply()),m(j)&&p(j)&&(j=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&x.indexOf(this.stringify.convertAttKey)===0)w=this.attribute(x.substr(this.stringify.convertAttKey.length),j);else if(!this.options.separateArrayItems&&Array.isArray(j))for(O=0,G=j.length;O<G;O++)C=j[O],y={},y[x]=C,w=this.element(y);else m(j)?(w=this.element(x),w.element(j)):w=this.element(x,j)}else!this.options.ignoreDecorators&&this.stringify.convertTextKey&&S.indexOf(this.stringify.convertTextKey)===0?w=this.text(A):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&S.indexOf(this.stringify.convertCDataKey)===0?w=this.cdata(A):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&S.indexOf(this.stringify.convertCommentKey)===0?w=this.comment(A):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&S.indexOf(this.stringify.convertRawKey)===0?w=this.raw(A):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&S.indexOf(this.stringify.convertPIKey)===0?w=this.instruction(S.substr(this.stringify.convertPIKey.length),A):w=this.node(S,q,A);if(w==null)throw new Error("Could not create any elements with: "+S);return w},_.prototype.insertBefore=function(S,q,A){var y,C,N;if(this.isRoot)throw new Error("Cannot insert elements at root level");return C=this.parent.children.indexOf(this),N=this.parent.children.splice(C),y=this.parent.element(S,q,A),Array.prototype.push.apply(this.parent.children,N),y},_.prototype.insertAfter=function(S,q,A){var y,C,N;if(this.isRoot)throw new Error("Cannot insert elements at root level");return C=this.parent.children.indexOf(this),N=this.parent.children.splice(C+1),y=this.parent.element(S,q,A),Array.prototype.push.apply(this.parent.children,N),y},_.prototype.remove=function(){var S,q;if(this.isRoot)throw new Error("Cannot remove the root element");return S=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[S,S-S+1].concat(q=[])),this.parent},_.prototype.node=function(S,q,A){var y,C;return S!=null&&(S=S.valueOf()),q||(q={}),q=q.valueOf(),m(q)||(C=[q,A],A=C[0],q=C[1]),y=new i(this,S,q),A!=null&&y.text(A),this.children.push(y),y},_.prototype.text=function(S){var q;return q=new c(this,S),this.children.push(q),this},_.prototype.cdata=function(S){var q;return q=new t(this,S),this.children.push(q),this},_.prototype.comment=function(S){var q;return q=new e(this,S),this.children.push(q),this},_.prototype.commentBefore=function(S){var q,A,y;return A=this.parent.children.indexOf(this),y=this.parent.children.splice(A),q=this.parent.comment(S),Array.prototype.push.apply(this.parent.children,y),this},_.prototype.commentAfter=function(S){var q,A,y;return A=this.parent.children.indexOf(this),y=this.parent.children.splice(A+1),q=this.parent.comment(S),Array.prototype.push.apply(this.parent.children,y),this},_.prototype.raw=function(S){var q;return q=new u(this,S),this.children.push(q),this},_.prototype.instruction=function(S,q){var A,y,C,N,O;if(S!=null&&(S=S.valueOf()),q!=null&&(q=q.valueOf()),Array.isArray(S))for(N=0,O=S.length;N<O;N++)A=S[N],this.instruction(A);else if(m(S))for(A in S)!D.call(S,A)||(y=S[A],this.instruction(A,y));else h(q)&&(q=q.apply()),C=new o(this,S,q),this.children.push(C);return this},_.prototype.instructionBefore=function(S,q){var A,y,C;return y=this.parent.children.indexOf(this),C=this.parent.children.splice(y),A=this.parent.instruction(S,q),Array.prototype.push.apply(this.parent.children,C),this},_.prototype.instructionAfter=function(S,q){var A,y,C;return y=this.parent.children.indexOf(this),C=this.parent.children.splice(y+1),A=this.parent.instruction(S,q),Array.prototype.push.apply(this.parent.children,C),this},_.prototype.declaration=function(S,q,A){var y,C;return y=this.document(),C=new r(y,S,q,A),y.children[0]instanceof r?y.children[0]=C:y.children.unshift(C),y.root()||y},_.prototype.doctype=function(S,q){var A,y,C,N,O,x,w,E,G,H;for(y=this.document(),C=new n(y,S,q),G=y.children,N=O=0,w=G.length;O<w;N=++O)if(A=G[N],A instanceof n)return y.children[N]=C,C;for(H=y.children,N=x=0,E=H.length;x<E;N=++x)if(A=H[N],A.isRoot)return y.children.splice(N,0,C),C;return y.children.push(C),C},_.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},_.prototype.root=function(){var S;for(S=this;S;){if(S.isDocument)return S.rootObject;if(S.isRoot)return S;S=S.parent}},_.prototype.document=function(){var S;for(S=this;S;){if(S.isDocument)return S;S=S.parent}},_.prototype.end=function(S){return this.document().end(S)},_.prototype.prev=function(){var S;if(S=this.parent.children.indexOf(this),S<1)throw new Error("Already at the first node");return this.parent.children[S-1]},_.prototype.next=function(){var S;if(S=this.parent.children.indexOf(this),S===-1||S===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[S+1]},_.prototype.importDocument=function(S){var q;return q=S.root().clone(),q.parent=this,q.isRoot=!1,this.children.push(q),this},_.prototype.ele=function(S,q,A){return this.element(S,q,A)},_.prototype.nod=function(S,q,A){return this.node(S,q,A)},_.prototype.txt=function(S){return this.text(S)},_.prototype.dat=function(S){return this.cdata(S)},_.prototype.com=function(S){return this.comment(S)},_.prototype.ins=function(S,q){return this.instruction(S,q)},_.prototype.doc=function(){return this.document()},_.prototype.dec=function(S,q,A){return this.declaration(S,q,A)},_.prototype.dtd=function(S,q){return this.doctype(S,q)},_.prototype.e=function(S,q,A){return this.element(S,q,A)},_.prototype.n=function(S,q,A){return this.node(S,q,A)},_.prototype.t=function(S){return this.text(S)},_.prototype.d=function(S){return this.cdata(S)},_.prototype.c=function(S){return this.comment(S)},_.prototype.r=function(S){return this.raw(S)},_.prototype.i=function(S,q){return this.instruction(S,q)},_.prototype.u=function(){return this.up()},_.prototype.importXMLBuilder=function(S){return this.importDocument(S)},_}()}).call(Bh)});var go=v((jh,Kh)=>{(function(){var t,e=s(function(n,i){return function(){return n.apply(i,arguments)}},"bind"),r={}.hasOwnProperty;Kh.exports=t=function(){function n(i){this.assertLegalChar=e(this.assertLegalChar,this);var a,o,u;i||(i={}),this.noDoubleEncoding=i.noDoubleEncoding,o=i.stringify||{};for(a in o)!r.call(o,a)||(u=o[a],this[a]=u)}return s(n,"XMLStringifier"),n.prototype.eleName=function(i){return i=""+i||"",this.assertLegalChar(i)},n.prototype.eleText=function(i){return i=""+i||"",this.assertLegalChar(this.elEscape(i))},n.prototype.cdata=function(i){return i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i)},n.prototype.comment=function(i){if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},n.prototype.raw=function(i){return""+i||""},n.prototype.attName=function(i){return i=""+i||""},n.prototype.attValue=function(i){return i=""+i||"",this.attEscape(i)},n.prototype.insTarget=function(i){return""+i||""},n.prototype.insValue=function(i){if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return i},n.prototype.xmlVersion=function(i){if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},n.prototype.xmlEncoding=function(i){if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return i},n.prototype.xmlStandalone=function(i){return i?"yes":"no"},n.prototype.dtdPubID=function(i){return""+i||""},n.prototype.dtdSysID=function(i){return""+i||""},n.prototype.dtdElementValue=function(i){return""+i||""},n.prototype.dtdAttType=function(i){return""+i||""},n.prototype.dtdAttDefault=function(i){return i!=null?""+i||"":i},n.prototype.dtdEntityValue=function(i){return""+i||""},n.prototype.dtdNData=function(i){return""+i||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(i){var a;if(a=i.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),a)throw new Error("Invalid character in string: "+i+" at index "+a.index);return i},n.prototype.elEscape=function(i){var a;return a=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(a,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(i){var a;return a=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(a,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n}()}).call(jh)});var vo=v((Wh,Vh)=>{(function(){var t,e={}.hasOwnProperty;Vh.exports=t=function(){function r(n){var i,a,o,u,c,p,h,m,T;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(a=n.allowEmpty)!=null?a:!1,this.pretty?(this.indent=(o=n.indent)!=null?o:"  ",this.newline=(u=n.newline)!=null?u:`
`,this.offset=(c=n.offset)!=null?c:0,this.dontprettytextnodes=(p=n.dontprettytextnodes)!=null?p:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(h=n.spacebeforeslash)!=null?h:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,m=n.writer||{};for(i in m)!e.call(m,i)||(T=m[i],this[i]=T)}return s(r,"XMLWriterBase"),r.prototype.set=function(n){var i,a,o;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,a=n.writer||{};for(i in a)!e.call(a,i)||(o=a[i],this[i]=o);return this},r.prototype.space=function(n){var i;return this.pretty?(i=(n||0)+this.offset+1,i>0?new Array(i).join(this.indent):""):""},r}()}).call(Wh)});var Pi=v((Gh,Hh)=>{(function(){var t,e,r,n,i,a,o,u,c,p,h,m,T,D,_=s(function(q,A){for(var y in A)S.call(A,y)&&(q[y]=A[y]);function C(){this.constructor=q}return s(C,"ctor"),C.prototype=A.prototype,q.prototype=new C,q.__super__=A.prototype,q},"extend"),S={}.hasOwnProperty;o=an(),u=pn(),t=nn(),e=sn(),c=rn(),h=fn(),T=dn(),p=hn(),r=on(),n=cn(),i=un(),a=ln(),D=vo(),Hh.exports=m=function(q){_(A,q);function A(y){A.__super__.constructor.call(this,y)}return s(A,"XMLStringWriter"),A.prototype.document=function(y){var C,N,O,x,w;for(this.textispresent=!1,x="",w=y.children,N=0,O=w.length;N<O;N++)C=w[N],x+=function(){switch(!1){case!(C instanceof o):return this.declaration(C);case!(C instanceof u):return this.docType(C);case!(C instanceof e):return this.comment(C);case!(C instanceof p):return this.processingInstruction(C);default:return this.element(C,0)}}.call(this);return this.pretty&&x.slice(-this.newline.length)===this.newline&&(x=x.slice(0,-this.newline.length)),x},A.prototype.attribute=function(y){return" "+y.name+'="'+y.value+'"'},A.prototype.cdata=function(y,C){return this.space(C)+"<![CDATA["+y.text+"]]>"+this.newline},A.prototype.comment=function(y,C){return this.space(C)+"<!-- "+y.text+" -->"+this.newline},A.prototype.declaration=function(y,C){var N;return N=this.space(C),N+='<?xml version="'+y.version+'"',y.encoding!=null&&(N+=' encoding="'+y.encoding+'"'),y.standalone!=null&&(N+=' standalone="'+y.standalone+'"'),N+=this.spacebeforeslash+"?>",N+=this.newline,N},A.prototype.docType=function(y,C){var N,O,x,w,E;if(C||(C=0),w=this.space(C),w+="<!DOCTYPE "+y.root().name,y.pubID&&y.sysID?w+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(w+=' SYSTEM "'+y.sysID+'"'),y.children.length>0){for(w+=" [",w+=this.newline,E=y.children,O=0,x=E.length;O<x;O++)N=E[O],w+=function(){switch(!1){case!(N instanceof r):return this.dtdAttList(N,C+1);case!(N instanceof n):return this.dtdElement(N,C+1);case!(N instanceof i):return this.dtdEntity(N,C+1);case!(N instanceof a):return this.dtdNotation(N,C+1);case!(N instanceof t):return this.cdata(N,C+1);case!(N instanceof e):return this.comment(N,C+1);case!(N instanceof p):return this.processingInstruction(N,C+1);default:throw new Error("Unknown DTD node type: "+N.constructor.name)}}.call(this);w+="]"}return w+=this.spacebeforeslash+">",w+=this.newline,w},A.prototype.element=function(y,C){var N,O,x,w,E,G,H,j,Z,me,ye,Pe,Y;C||(C=0),Y=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),Pe=this.space(C),j="",j+=Pe+"<"+y.name,Z=y.attributes;for(H in Z)!S.call(Z,H)||(N=Z[H],j+=this.attribute(N));if(y.children.length===0||y.children.every(function(Ge){return Ge.value===""}))this.allowEmpty?j+="></"+y.name+">"+this.newline:j+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&y.children.length===1&&y.children[0].value!=null)j+=">",j+=y.children[0].value,j+="</"+y.name+">"+this.newline;else{if(this.dontprettytextnodes){for(me=y.children,x=0,E=me.length;x<E;x++)if(O=me[x],O.value!=null){this.textispresent++,Y=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,Pe=this.space(C)),j+=">"+this.newline,ye=y.children,w=0,G=ye.length;w<G;w++)O=ye[w],j+=function(){switch(!1){case!(O instanceof t):return this.cdata(O,C+1);case!(O instanceof e):return this.comment(O,C+1);case!(O instanceof c):return this.element(O,C+1);case!(O instanceof h):return this.raw(O,C+1);case!(O instanceof T):return this.text(O,C+1);case!(O instanceof p):return this.processingInstruction(O,C+1);default:throw new Error("Unknown XML node type: "+O.constructor.name)}}.call(this);Y&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),j+=Pe+"</"+y.name+">"+this.newline}return j},A.prototype.processingInstruction=function(y,C){var N;return N=this.space(C)+"<?"+y.target,y.value&&(N+=" "+y.value),N+=this.spacebeforeslash+"?>"+this.newline,N},A.prototype.raw=function(y,C){return this.space(C)+y.value+this.newline},A.prototype.text=function(y,C){return this.space(C)+y.value+this.newline},A.prototype.dtdAttList=function(y,C){var N;return N=this.space(C)+"<!ATTLIST "+y.elementName+" "+y.attributeName+" "+y.attributeType,y.defaultValueType!=="#DEFAULT"&&(N+=" "+y.defaultValueType),y.defaultValue&&(N+=' "'+y.defaultValue+'"'),N+=this.spacebeforeslash+">"+this.newline,N},A.prototype.dtdElement=function(y,C){return this.space(C)+"<!ELEMENT "+y.name+" "+y.value+this.spacebeforeslash+">"+this.newline},A.prototype.dtdEntity=function(y,C){var N;return N=this.space(C)+"<!ENTITY",y.pe&&(N+=" %"),N+=" "+y.name,y.value?N+=' "'+y.value+'"':(y.pubID&&y.sysID?N+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(N+=' SYSTEM "'+y.sysID+'"'),y.nData&&(N+=" NDATA "+y.nData)),N+=this.spacebeforeslash+">"+this.newline,N},A.prototype.dtdNotation=function(y,C){var N;return N=this.space(C)+"<!NOTATION "+y.name,y.pubID&&y.sysID?N+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.pubID?N+=' PUBLIC "'+y.pubID+'"':y.sysID&&(N+=' SYSTEM "'+y.sysID+'"'),N+=this.spacebeforeslash+">"+this.newline,N},A.prototype.openNode=function(y,C){var N,O,x,w;if(C||(C=0),y instanceof c){x=this.space(C)+"<"+y.name,w=y.attributes;for(O in w)!S.call(w,O)||(N=w[O],x+=this.attribute(N));return x+=(y.children?">":"/>")+this.newline,x}else return x=this.space(C)+"<!DOCTYPE "+y.rootNodeName,y.pubID&&y.sysID?x+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(x+=' SYSTEM "'+y.sysID+'"'),x+=(y.children?" [":">")+this.newline,x},A.prototype.closeNode=function(y,C){switch(C||(C=0),!1){case!(y instanceof c):return this.space(C)+"</"+y.name+">"+this.newline;case!(y instanceof u):return this.space(C)+"]>"+this.newline}},A}(D)}).call(Gh)});var $h=v((Xh,zh)=>{(function(){var t,e,r,n,i,a=s(function(u,c){for(var p in c)o.call(c,p)&&(u[p]=c[p]);function h(){this.constructor=u}return s(h,"ctor"),h.prototype=c.prototype,u.prototype=new h,u.__super__=c.prototype,u},"extend"),o={}.hasOwnProperty;i=_t().isPlainObject,e=Me(),n=go(),r=Pi(),zh.exports=t=function(u){a(c,u);function c(p){c.__super__.constructor.call(this,null),p||(p={}),p.writer||(p.writer=new r),this.options=p,this.stringify=new n(p),this.isDocument=!0}return s(c,"XMLDocument"),c.prototype.end=function(p){var h;return p?i(p)&&(h=p,p=this.options.writer.set(h)):p=this.options.writer,p.document(this)},c.prototype.toString=function(p){return this.options.writer.set(p).document(this)},c}(e)}).call(Xh)});var Qh=v((Yh,Jh)=>{(function(){var t,e,r,n,i,a,o,u,c,p,h,m,T,D,_,S,q,A,y,C,N={}.hasOwnProperty;C=_t(),A=C.isObject,q=C.isFunction,y=C.isPlainObject,h=rn(),e=nn(),r=sn(),T=fn(),S=dn(),m=hn(),u=an(),c=pn(),n=on(),a=un(),i=cn(),o=ln(),t=yo(),_=go(),D=Pi(),Jh.exports=p=function(){function O(x,w,E){var G;x||(x={}),x.writer?y(x.writer)&&(G=x.writer,x.writer=new D(G)):x.writer=new D(x),this.options=x,this.writer=x.writer,this.stringify=new _(x),this.onDataCallback=w||function(){},this.onEndCallback=E||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return s(O,"XMLDocumentCB"),O.prototype.node=function(x,w,E){var G;if(x==null)throw new Error("Missing node name");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node");return this.openCurrent(),x=x.valueOf(),w==null&&(w={}),w=w.valueOf(),A(w)||(G=[w,E],E=G[0],w=G[1]),this.currentNode=new h(this,x,w),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,E!=null&&this.text(E),this},O.prototype.element=function(x,w,E){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(x,w,E)},O.prototype.attribute=function(x,w){var E,G;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(x!=null&&(x=x.valueOf()),A(x))for(E in x)!N.call(x,E)||(G=x[E],this.attribute(E,G));else q(w)&&(w=w.apply()),(!this.options.skipNullAttributes||w!=null)&&(this.currentNode.attributes[x]=new t(this,x,w));return this},O.prototype.text=function(x){var w;return this.openCurrent(),w=new S(this,x),this.onData(this.writer.text(w,this.currentLevel+1)),this},O.prototype.cdata=function(x){var w;return this.openCurrent(),w=new e(this,x),this.onData(this.writer.cdata(w,this.currentLevel+1)),this},O.prototype.comment=function(x){var w;return this.openCurrent(),w=new r(this,x),this.onData(this.writer.comment(w,this.currentLevel+1)),this},O.prototype.raw=function(x){var w;return this.openCurrent(),w=new T(this,x),this.onData(this.writer.raw(w,this.currentLevel+1)),this},O.prototype.instruction=function(x,w){var E,G,H,j,Z;if(this.openCurrent(),x!=null&&(x=x.valueOf()),w!=null&&(w=w.valueOf()),Array.isArray(x))for(E=0,j=x.length;E<j;E++)G=x[E],this.instruction(G);else if(A(x))for(G in x)!N.call(x,G)||(H=x[G],this.instruction(G,H));else q(w)&&(w=w.apply()),Z=new m(this,x,w),this.onData(this.writer.processingInstruction(Z,this.currentLevel+1));return this},O.prototype.declaration=function(x,w,E){var G;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return G=new u(this,x,w,E),this.onData(this.writer.declaration(G,this.currentLevel+1)),this},O.prototype.doctype=function(x,w,E){if(this.openCurrent(),x==null)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new c(this,w,E),this.currentNode.rootNodeName=x,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},O.prototype.dtdElement=function(x,w){var E;return this.openCurrent(),E=new i(this,x,w),this.onData(this.writer.dtdElement(E,this.currentLevel+1)),this},O.prototype.attList=function(x,w,E,G,H){var j;return this.openCurrent(),j=new n(this,x,w,E,G,H),this.onData(this.writer.dtdAttList(j,this.currentLevel+1)),this},O.prototype.entity=function(x,w){var E;return this.openCurrent(),E=new a(this,!1,x,w),this.onData(this.writer.dtdEntity(E,this.currentLevel+1)),this},O.prototype.pEntity=function(x,w){var E;return this.openCurrent(),E=new a(this,!0,x,w),this.onData(this.writer.dtdEntity(E,this.currentLevel+1)),this},O.prototype.notation=function(x,w){var E;return this.openCurrent(),E=new o(this,x,w),this.onData(this.writer.dtdNotation(E,this.currentLevel+1)),this},O.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},O.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},O.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},O.prototype.openNode=function(x){if(!x.isOpen)return!this.root&&this.currentLevel===0&&x instanceof h&&(this.root=x),this.onData(this.writer.openNode(x,this.currentLevel)),x.isOpen=!0},O.prototype.closeNode=function(x){if(!x.isClosed)return this.onData(this.writer.closeNode(x,this.currentLevel)),x.isClosed=!0},O.prototype.onData=function(x){return this.documentStarted=!0,this.onDataCallback(x)},O.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},O.prototype.ele=function(){return this.element.apply(this,arguments)},O.prototype.nod=function(x,w,E){return this.node(x,w,E)},O.prototype.txt=function(x){return this.text(x)},O.prototype.dat=function(x){return this.cdata(x)},O.prototype.com=function(x){return this.comment(x)},O.prototype.ins=function(x,w){return this.instruction(x,w)},O.prototype.dec=function(x,w,E){return this.declaration(x,w,E)},O.prototype.dtd=function(x,w,E){return this.doctype(x,w,E)},O.prototype.e=function(x,w,E){return this.element(x,w,E)},O.prototype.n=function(x,w,E){return this.node(x,w,E)},O.prototype.t=function(x){return this.text(x)},O.prototype.d=function(x){return this.cdata(x)},O.prototype.c=function(x){return this.comment(x)},O.prototype.r=function(x){return this.raw(x)},O.prototype.i=function(x,w){return this.instruction(x,w)},O.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},O.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},O.prototype.ent=function(x,w){return this.entity(x,w)},O.prototype.pent=function(x,w){return this.pEntity(x,w)},O.prototype.not=function(x,w){return this.notation(x,w)},O}()}).call(Yh)});var tm=v((Zh,em)=>{(function(){var t,e,r,n,i,a,o,u,c,p,h,m,T,D,_=s(function(q,A){for(var y in A)S.call(A,y)&&(q[y]=A[y]);function C(){this.constructor=q}return s(C,"ctor"),C.prototype=A.prototype,q.prototype=new C,q.__super__=A.prototype,q},"extend"),S={}.hasOwnProperty;o=an(),u=pn(),t=nn(),e=sn(),c=rn(),h=fn(),T=dn(),p=hn(),r=on(),n=cn(),i=un(),a=ln(),D=vo(),em.exports=m=function(q){_(A,q);function A(y,C){A.__super__.constructor.call(this,C),this.stream=y}return s(A,"XMLStreamWriter"),A.prototype.document=function(y){var C,N,O,x,w,E,G,H;for(E=y.children,N=0,x=E.length;N<x;N++)C=E[N],C.isLastRootNode=!1;for(y.children[y.children.length-1].isLastRootNode=!0,G=y.children,H=[],O=0,w=G.length;O<w;O++)switch(C=G[O],!1){case!(C instanceof o):H.push(this.declaration(C));break;case!(C instanceof u):H.push(this.docType(C));break;case!(C instanceof e):H.push(this.comment(C));break;case!(C instanceof p):H.push(this.processingInstruction(C));break;default:H.push(this.element(C))}return H},A.prototype.attribute=function(y){return this.stream.write(" "+y.name+'="'+y.value+'"')},A.prototype.cdata=function(y,C){return this.stream.write(this.space(C)+"<![CDATA["+y.text+"]]>"+this.endline(y))},A.prototype.comment=function(y,C){return this.stream.write(this.space(C)+"<!-- "+y.text+" -->"+this.endline(y))},A.prototype.declaration=function(y,C){return this.stream.write(this.space(C)),this.stream.write('<?xml version="'+y.version+'"'),y.encoding!=null&&this.stream.write(' encoding="'+y.encoding+'"'),y.standalone!=null&&this.stream.write(' standalone="'+y.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(y))},A.prototype.docType=function(y,C){var N,O,x,w;if(C||(C=0),this.stream.write(this.space(C)),this.stream.write("<!DOCTYPE "+y.root().name),y.pubID&&y.sysID?this.stream.write(' PUBLIC "'+y.pubID+'" "'+y.sysID+'"'):y.sysID&&this.stream.write(' SYSTEM "'+y.sysID+'"'),y.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(y)),w=y.children,O=0,x=w.length;O<x;O++)switch(N=w[O],!1){case!(N instanceof r):this.dtdAttList(N,C+1);break;case!(N instanceof n):this.dtdElement(N,C+1);break;case!(N instanceof i):this.dtdEntity(N,C+1);break;case!(N instanceof a):this.dtdNotation(N,C+1);break;case!(N instanceof t):this.cdata(N,C+1);break;case!(N instanceof e):this.comment(N,C+1);break;case!(N instanceof p):this.processingInstruction(N,C+1);break;default:throw new Error("Unknown DTD node type: "+N.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(y))},A.prototype.element=function(y,C){var N,O,x,w,E,G,H,j;C||(C=0),j=this.space(C),this.stream.write(j+"<"+y.name),G=y.attributes;for(E in G)!S.call(G,E)||(N=G[E],this.attribute(N));if(y.children.length===0||y.children.every(function(Z){return Z.value===""}))this.allowEmpty?this.stream.write("></"+y.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&y.children.length===1&&y.children[0].value!=null)this.stream.write(">"),this.stream.write(y.children[0].value),this.stream.write("</"+y.name+">");else{for(this.stream.write(">"+this.newline),H=y.children,x=0,w=H.length;x<w;x++)switch(O=H[x],!1){case!(O instanceof t):this.cdata(O,C+1);break;case!(O instanceof e):this.comment(O,C+1);break;case!(O instanceof c):this.element(O,C+1);break;case!(O instanceof h):this.raw(O,C+1);break;case!(O instanceof T):this.text(O,C+1);break;case!(O instanceof p):this.processingInstruction(O,C+1);break;default:throw new Error("Unknown XML node type: "+O.constructor.name)}this.stream.write(j+"</"+y.name+">")}return this.stream.write(this.endline(y))},A.prototype.processingInstruction=function(y,C){return this.stream.write(this.space(C)+"<?"+y.target),y.value&&this.stream.write(" "+y.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(y))},A.prototype.raw=function(y,C){return this.stream.write(this.space(C)+y.value+this.endline(y))},A.prototype.text=function(y,C){return this.stream.write(this.space(C)+y.value+this.endline(y))},A.prototype.dtdAttList=function(y,C){return this.stream.write(this.space(C)+"<!ATTLIST "+y.elementName+" "+y.attributeName+" "+y.attributeType),y.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+y.defaultValueType),y.defaultValue&&this.stream.write(' "'+y.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},A.prototype.dtdElement=function(y,C){return this.stream.write(this.space(C)+"<!ELEMENT "+y.name+" "+y.value),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},A.prototype.dtdEntity=function(y,C){return this.stream.write(this.space(C)+"<!ENTITY"),y.pe&&this.stream.write(" %"),this.stream.write(" "+y.name),y.value?this.stream.write(' "'+y.value+'"'):(y.pubID&&y.sysID?this.stream.write(' PUBLIC "'+y.pubID+'" "'+y.sysID+'"'):y.sysID&&this.stream.write(' SYSTEM "'+y.sysID+'"'),y.nData&&this.stream.write(" NDATA "+y.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},A.prototype.dtdNotation=function(y,C){return this.stream.write(this.space(C)+"<!NOTATION "+y.name),y.pubID&&y.sysID?this.stream.write(' PUBLIC "'+y.pubID+'" "'+y.sysID+'"'):y.pubID?this.stream.write(' PUBLIC "'+y.pubID+'"'):y.sysID&&this.stream.write(' SYSTEM "'+y.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},A.prototype.endline=function(y){return y.isLastRootNode?"":this.newline},A}(D)}).call(Zh)});var nm=v((rm,mn)=>{(function(){var t,e,r,n,i,a,o;o=_t(),i=o.assign,a=o.isFunction,t=$h(),e=Qh(),n=Pi(),r=tm(),mn.exports.create=function(u,c,p,h){var m,T;if(u==null)throw new Error("Root element needs a name");return h=i({},c,p,h),m=new t(h),T=m.element(u),h.headless||(m.declaration(h),(h.pubID!=null||h.sysID!=null)&&m.doctype(h)),T},mn.exports.begin=function(u,c,p){var h;return a(u)&&(h=[u,c],c=h[0],p=h[1],u={}),c?new e(u,c,p):new t(u)},mn.exports.stringWriter=function(u){return new n(u)},mn.exports.streamWriter=function(u,c){return new r(u,c)}}).call(rm)});var im=v(bo=>{(function(){"use strict";var t,e,r,n,i,a={}.hasOwnProperty;t=nm(),e=qi().defaults,n=s(function(o){return typeof o=="string"&&(o.indexOf("&")>=0||o.indexOf(">")>=0||o.indexOf("<")>=0)},"requiresCDATA"),i=s(function(o){return"<![CDATA["+r(o)+"]]>"},"wrapCDATA"),r=s(function(o){return o.replace("]]>","]]]]><![CDATA[>")},"escapeCDATA"),bo.Builder=function(){function o(u){var c,p,h;this.options={},p=e["0.2"];for(c in p)!a.call(p,c)||(h=p[c],this.options[c]=h);for(c in u)!a.call(u,c)||(h=u[c],this.options[c]=h)}return s(o,"Builder"),o.prototype.buildObject=function(u){var c,p,h,m,T;return c=this.options.attrkey,p=this.options.charkey,Object.keys(u).length===1&&this.options.rootName===e["0.2"].rootName?(T=Object.keys(u)[0],u=u[T]):T=this.options.rootName,h=function(D){return function(_,S){var q,A,y,C,N,O;if(typeof S!="object")D.options.cdata&&n(S)?_.raw(i(S)):_.txt(S);else if(Array.isArray(S)){for(C in S)if(!!a.call(S,C)){A=S[C];for(N in A)y=A[N],_=h(_.ele(N),y).up()}}else for(N in S)if(!!a.call(S,N))if(A=S[N],N===c){if(typeof A=="object")for(q in A)O=A[q],_=_.att(q,O)}else if(N===p)D.options.cdata&&n(A)?_=_.raw(i(A)):_=_.txt(A);else if(Array.isArray(A))for(C in A)!a.call(A,C)||(y=A[C],typeof y=="string"?D.options.cdata&&n(y)?_=_.ele(N).raw(i(y)).up():_=_.ele(N,y).up():_=h(_.ele(N),y).up());else typeof A=="object"?_=h(_.ele(N),A).up():typeof A=="string"&&D.options.cdata&&n(A)?_=_.ele(N).raw(i(A)).up():(A==null&&(A=""),_=_.ele(N,A.toString()).up());return _}}(this),m=t.create(T,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),h(m,u).end(this.options.renderOpts)},o}()}).call(bo)});var sm=v(Oi=>{(function(t){t.parser=function(g,f){return new r(g,f)},t.SAXParser=r,t.SAXStream=p,t.createStream=c,t.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(g,f){if(!(this instanceof r))return new r(g,f);var L=this;i(L),L.q=L.c="",L.bufferCheckPosition=t.MAX_BUFFER_LENGTH,L.opt=f||{},L.opt.lowercase=L.opt.lowercase||L.opt.lowercasetags,L.looseCase=L.opt.lowercase?"toLowerCase":"toUpperCase",L.tags=[],L.closed=L.closedRoot=L.sawRoot=!1,L.tag=L.error=null,L.strict=!!g,L.noscript=!!(g||L.opt.noscript),L.state=E.BEGIN,L.strictEntities=L.opt.strictEntities,L.ENTITIES=L.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),L.attribList=[],L.opt.xmlns&&(L.ns=Object.create(_)),L.trackPosition=L.opt.position!==!1,L.trackPosition&&(L.position=L.line=L.column=0),H(L,"onready")}s(r,"SAXParser"),Object.create||(Object.create=function(g){function f(){}s(f,"F"),f.prototype=g;var L=new f;return L}),Object.keys||(Object.keys=function(g){var f=[];for(var L in g)g.hasOwnProperty(L)&&f.push(L);return f});function n(g){for(var f=Math.max(t.MAX_BUFFER_LENGTH,10),L=0,R=0,Q=e.length;R<Q;R++){var te=g[e[R]].length;if(te>f)switch(e[R]){case"textNode":Z(g);break;case"cdata":j(g,"oncdata",g.cdata),g.cdata="";break;case"script":j(g,"onscript",g.script),g.script="";break;default:ye(g,"Max buffer length exceeded: "+e[R])}L=Math.max(L,te)}var ue=t.MAX_BUFFER_LENGTH-L;g.bufferCheckPosition=ue+g.position}s(n,"checkBufferLength");function i(g){for(var f=0,L=e.length;f<L;f++)g[e[f]]=""}s(i,"clearBuffers");function a(g){Z(g),g.cdata!==""&&(j(g,"oncdata",g.cdata),g.cdata=""),g.script!==""&&(j(g,"onscript",g.script),g.script="")}s(a,"flushBuffers"),r.prototype={end:function(){Pe(this)},write:ft,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=require("stream").Stream}catch(g){o=s(function(){},"Stream")}var u=t.EVENTS.filter(function(g){return g!=="error"&&g!=="end"});function c(g,f){return new p(g,f)}s(c,"createStream");function p(g,f){if(!(this instanceof p))return new p(g,f);o.apply(this),this._parser=new r(g,f),this.writable=!0,this.readable=!0;var L=this;this._parser.onend=function(){L.emit("end")},this._parser.onerror=function(R){L.emit("error",R),L._parser.error=null},this._decoder=null,u.forEach(function(R){Object.defineProperty(L,"on"+R,{get:function(){return L._parser["on"+R]},set:function(Q){if(!Q)return L.removeAllListeners(R),L._parser["on"+R]=Q,Q;L.on(R,Q)},enumerable:!0,configurable:!1})})}s(p,"SAXStream"),p.prototype=Object.create(o.prototype,{constructor:{value:p}}),p.prototype.write=function(g){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(g)){if(!this._decoder){var f=require("string_decoder").StringDecoder;this._decoder=new f("utf8")}g=this._decoder.write(g)}return this._parser.write(g.toString()),this.emit("data",g),!0},p.prototype.end=function(g){return g&&g.length&&this.write(g),this._parser.end(),!0},p.prototype.on=function(g,f){var L=this;return!L._parser["on"+g]&&u.indexOf(g)!==-1&&(L._parser["on"+g]=function(){var R=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,g),L.emit.apply(L,R)}),o.prototype.on.call(L,g,f)};var h="[CDATA[",m="DOCTYPE",T="http://www.w3.org/XML/1998/namespace",D="http://www.w3.org/2000/xmlns/",_={xml:T,xmlns:D},S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function C(g){return g===" "||g===`
`||g==="\r"||g==="	"}s(C,"isWhitespace");function N(g){return g==='"'||g==="'"}s(N,"isQuote");function O(g){return g===">"||C(g)}s(O,"isAttribEnd");function x(g,f){return g.test(f)}s(x,"isMatch");function w(g,f){return!x(g,f)}s(w,"notMatch");var E=0;t.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(g){var f=t.ENTITIES[g],L=typeof f=="number"?String.fromCharCode(f):f;t.ENTITIES[g]=L});for(var G in t.STATE)t.STATE[t.STATE[G]]=G;E=t.STATE;function H(g,f,L){g[f]&&g[f](L)}s(H,"emit");function j(g,f,L){g.textNode&&Z(g),H(g,f,L)}s(j,"emitNode");function Z(g){g.textNode=me(g.opt,g.textNode),g.textNode&&H(g,"ontext",g.textNode),g.textNode=""}s(Z,"closeText");function me(g,f){return g.trim&&(f=f.trim()),g.normalize&&(f=f.replace(/\s+/g," ")),f}s(me,"textopts");function ye(g,f){return Z(g),g.trackPosition&&(f+=`
Line: `+g.line+`
Column: `+g.column+`
Char: `+g.c),f=new Error(f),g.error=f,H(g,"onerror",f),g}s(ye,"error");function Pe(g){return g.sawRoot&&!g.closedRoot&&Y(g,"Unclosed root tag"),g.state!==E.BEGIN&&g.state!==E.BEGIN_WHITESPACE&&g.state!==E.TEXT&&ye(g,"Unexpected end"),Z(g),g.c="",g.closed=!0,H(g,"onend"),r.call(g,g.strict,g.opt),g}s(Pe,"end");function Y(g,f){if(typeof g!="object"||!(g instanceof r))throw new Error("bad call to strictFail");g.strict&&ye(g,f)}s(Y,"strictFail");function Ge(g){g.strict||(g.tagName=g.tagName[g.looseCase]());var f=g.tags[g.tags.length-1]||g,L=g.tag={name:g.tagName,attributes:{}};g.opt.xmlns&&(L.ns=f.ns),g.attribList.length=0,j(g,"onopentagstart",L)}s(Ge,"newTag");function He(g,f){var L=g.indexOf(":"),R=L<0?["",g]:g.split(":"),Q=R[0],te=R[1];return f&&g==="xmlns"&&(Q="xmlns",te=""),{prefix:Q,local:te}}s(He,"qname");function Xe(g){if(g.strict||(g.attribName=g.attribName[g.looseCase]()),g.attribList.indexOf(g.attribName)!==-1||g.tag.attributes.hasOwnProperty(g.attribName)){g.attribName=g.attribValue="";return}if(g.opt.xmlns){var f=He(g.attribName,!0),L=f.prefix,R=f.local;if(L==="xmlns")if(R==="xml"&&g.attribValue!==T)Y(g,"xml: prefix must be bound to "+T+`
Actual: `+g.attribValue);else if(R==="xmlns"&&g.attribValue!==D)Y(g,"xmlns: prefix must be bound to "+D+`
Actual: `+g.attribValue);else{var Q=g.tag,te=g.tags[g.tags.length-1]||g;Q.ns===te.ns&&(Q.ns=Object.create(te.ns)),Q.ns[R]=g.attribValue}g.attribList.push([g.attribName,g.attribValue])}else g.tag.attributes[g.attribName]=g.attribValue,j(g,"onattribute",{name:g.attribName,value:g.attribValue});g.attribName=g.attribValue=""}s(Xe,"attrib");function De(g,f){if(g.opt.xmlns){var L=g.tag,R=He(g.tagName);L.prefix=R.prefix,L.local=R.local,L.uri=L.ns[R.prefix]||"",L.prefix&&!L.uri&&(Y(g,"Unbound namespace prefix: "+JSON.stringify(g.tagName)),L.uri=R.prefix);var Q=g.tags[g.tags.length-1]||g;L.ns&&Q.ns!==L.ns&&Object.keys(L.ns).forEach(function(Gt){j(g,"onopennamespace",{prefix:Gt,uri:L.ns[Gt]})});for(var te=0,ue=g.attribList.length;te<ue;te++){var be=g.attribList[te],Re=be[0],ze=be[1],de=He(Re,!0),Ne=de.prefix,$=de.local,st=Ne===""?"":L.ns[Ne]||"",wt={name:Re,value:ze,prefix:Ne,local:$,uri:st};Ne&&Ne!=="xmlns"&&!st&&(Y(g,"Unbound namespace prefix: "+JSON.stringify(Ne)),wt.uri=Ne),g.tag.attributes[Re]=wt,j(g,"onattribute",wt)}g.attribList.length=0}g.tag.isSelfClosing=!!f,g.sawRoot=!0,g.tags.push(g.tag),j(g,"onopentag",g.tag),f||(!g.noscript&&g.tagName.toLowerCase()==="script"?g.state=E.SCRIPT:g.state=E.TEXT,g.tag=null,g.tagName=""),g.attribName=g.attribValue="",g.attribList.length=0}s(De,"openTag");function ne(g){if(!g.tagName){Y(g,"Weird empty close tag."),g.textNode+="</>",g.state=E.TEXT;return}if(g.script){if(g.tagName!=="script"){g.script+="</"+g.tagName+">",g.tagName="",g.state=E.SCRIPT;return}j(g,"onscript",g.script),g.script=""}var f=g.tags.length,L=g.tagName;g.strict||(L=L[g.looseCase]());for(var R=L;f--;){var Q=g.tags[f];if(Q.name!==R)Y(g,"Unexpected close tag");else break}if(f<0){Y(g,"Unmatched closing tag: "+g.tagName),g.textNode+="</"+g.tagName+">",g.state=E.TEXT;return}g.tagName=L;for(var te=g.tags.length;te-- >f;){var ue=g.tag=g.tags.pop();g.tagName=g.tag.name,j(g,"onclosetag",g.tagName);var be={};for(var Re in ue.ns)be[Re]=ue.ns[Re];var ze=g.tags[g.tags.length-1]||g;g.opt.xmlns&&ue.ns!==ze.ns&&Object.keys(ue.ns).forEach(function(de){var Ne=ue.ns[de];j(g,"onclosenamespace",{prefix:de,uri:Ne})})}f===0&&(g.closedRoot=!0),g.tagName=g.attribValue=g.attribName="",g.attribList.length=0,g.state=E.TEXT}s(ne,"closeTag");function _e(g){var f=g.entity,L=f.toLowerCase(),R,Q="";return g.ENTITIES[f]?g.ENTITIES[f]:g.ENTITIES[L]?g.ENTITIES[L]:(f=L,f.charAt(0)==="#"&&(f.charAt(1)==="x"?(f=f.slice(2),R=parseInt(f,16),Q=R.toString(16)):(f=f.slice(1),R=parseInt(f,10),Q=R.toString(10))),f=f.replace(/^0+/,""),isNaN(R)||Q.toLowerCase()!==f?(Y(g,"Invalid character entity"),"&"+g.entity+";"):String.fromCodePoint(R))}s(_e,"parseEntity");function Ue(g,f){f==="<"?(g.state=E.OPEN_WAKA,g.startTagPosition=g.position):C(f)||(Y(g,"Non-whitespace before first tag."),g.textNode=f,g.state=E.TEXT)}s(Ue,"beginWhiteSpace");function ie(g,f){var L="";return f<g.length&&(L=g.charAt(f)),L}s(ie,"charAt");function ft(g){var f=this;if(this.error)throw this.error;if(f.closed)return ye(f,"Cannot write after close. Assign an onready handler.");if(g===null)return Pe(f);typeof g=="object"&&(g=g.toString());for(var L=0,R="";R=ie(g,L++),f.c=R,!!R;)switch(f.trackPosition&&(f.position++,R===`
`?(f.line++,f.column=0):f.column++),f.state){case E.BEGIN:if(f.state=E.BEGIN_WHITESPACE,R==="\uFEFF")continue;Ue(f,R);continue;case E.BEGIN_WHITESPACE:Ue(f,R);continue;case E.TEXT:if(f.sawRoot&&!f.closedRoot){for(var Q=L-1;R&&R!=="<"&&R!=="&";)R=ie(g,L++),R&&f.trackPosition&&(f.position++,R===`
`?(f.line++,f.column=0):f.column++);f.textNode+=g.substring(Q,L-1)}R==="<"&&!(f.sawRoot&&f.closedRoot&&!f.strict)?(f.state=E.OPEN_WAKA,f.startTagPosition=f.position):(!C(R)&&(!f.sawRoot||f.closedRoot)&&Y(f,"Text data outside of root node."),R==="&"?f.state=E.TEXT_ENTITY:f.textNode+=R);continue;case E.SCRIPT:R==="<"?f.state=E.SCRIPT_ENDING:f.script+=R;continue;case E.SCRIPT_ENDING:R==="/"?f.state=E.CLOSE_TAG:(f.script+="<"+R,f.state=E.SCRIPT);continue;case E.OPEN_WAKA:if(R==="!")f.state=E.SGML_DECL,f.sgmlDecl="";else if(!C(R))if(x(S,R))f.state=E.OPEN_TAG,f.tagName=R;else if(R==="/")f.state=E.CLOSE_TAG,f.tagName="";else if(R==="?")f.state=E.PROC_INST,f.procInstName=f.procInstBody="";else{if(Y(f,"Unencoded <"),f.startTagPosition+1<f.position){var te=f.position-f.startTagPosition;R=new Array(te).join(" ")+R}f.textNode+="<"+R,f.state=E.TEXT}continue;case E.SGML_DECL:(f.sgmlDecl+R).toUpperCase()===h?(j(f,"onopencdata"),f.state=E.CDATA,f.sgmlDecl="",f.cdata=""):f.sgmlDecl+R==="--"?(f.state=E.COMMENT,f.comment="",f.sgmlDecl=""):(f.sgmlDecl+R).toUpperCase()===m?(f.state=E.DOCTYPE,(f.doctype||f.sawRoot)&&Y(f,"Inappropriately located doctype declaration"),f.doctype="",f.sgmlDecl=""):R===">"?(j(f,"onsgmldeclaration",f.sgmlDecl),f.sgmlDecl="",f.state=E.TEXT):(N(R)&&(f.state=E.SGML_DECL_QUOTED),f.sgmlDecl+=R);continue;case E.SGML_DECL_QUOTED:R===f.q&&(f.state=E.SGML_DECL,f.q=""),f.sgmlDecl+=R;continue;case E.DOCTYPE:R===">"?(f.state=E.TEXT,j(f,"ondoctype",f.doctype),f.doctype=!0):(f.doctype+=R,R==="["?f.state=E.DOCTYPE_DTD:N(R)&&(f.state=E.DOCTYPE_QUOTED,f.q=R));continue;case E.DOCTYPE_QUOTED:f.doctype+=R,R===f.q&&(f.q="",f.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:f.doctype+=R,R==="]"?f.state=E.DOCTYPE:N(R)&&(f.state=E.DOCTYPE_DTD_QUOTED,f.q=R);continue;case E.DOCTYPE_DTD_QUOTED:f.doctype+=R,R===f.q&&(f.state=E.DOCTYPE_DTD,f.q="");continue;case E.COMMENT:R==="-"?f.state=E.COMMENT_ENDING:f.comment+=R;continue;case E.COMMENT_ENDING:R==="-"?(f.state=E.COMMENT_ENDED,f.comment=me(f.opt,f.comment),f.comment&&j(f,"oncomment",f.comment),f.comment=""):(f.comment+="-"+R,f.state=E.COMMENT);continue;case E.COMMENT_ENDED:R!==">"?(Y(f,"Malformed comment"),f.comment+="--"+R,f.state=E.COMMENT):f.state=E.TEXT;continue;case E.CDATA:R==="]"?f.state=E.CDATA_ENDING:f.cdata+=R;continue;case E.CDATA_ENDING:R==="]"?f.state=E.CDATA_ENDING_2:(f.cdata+="]"+R,f.state=E.CDATA);continue;case E.CDATA_ENDING_2:R===">"?(f.cdata&&j(f,"oncdata",f.cdata),j(f,"onclosecdata"),f.cdata="",f.state=E.TEXT):R==="]"?f.cdata+="]":(f.cdata+="]]"+R,f.state=E.CDATA);continue;case E.PROC_INST:R==="?"?f.state=E.PROC_INST_ENDING:C(R)?f.state=E.PROC_INST_BODY:f.procInstName+=R;continue;case E.PROC_INST_BODY:if(!f.procInstBody&&C(R))continue;R==="?"?f.state=E.PROC_INST_ENDING:f.procInstBody+=R;continue;case E.PROC_INST_ENDING:R===">"?(j(f,"onprocessinginstruction",{name:f.procInstName,body:f.procInstBody}),f.procInstName=f.procInstBody="",f.state=E.TEXT):(f.procInstBody+="?"+R,f.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:x(q,R)?f.tagName+=R:(Ge(f),R===">"?De(f):R==="/"?f.state=E.OPEN_TAG_SLASH:(C(R)||Y(f,"Invalid character in tag name"),f.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:R===">"?(De(f,!0),ne(f)):(Y(f,"Forward-slash in opening tag not followed by >"),f.state=E.ATTRIB);continue;case E.ATTRIB:if(C(R))continue;R===">"?De(f):R==="/"?f.state=E.OPEN_TAG_SLASH:x(S,R)?(f.attribName=R,f.attribValue="",f.state=E.ATTRIB_NAME):Y(f,"Invalid attribute name");continue;case E.ATTRIB_NAME:R==="="?f.state=E.ATTRIB_VALUE:R===">"?(Y(f,"Attribute without value"),f.attribValue=f.attribName,Xe(f),De(f)):C(R)?f.state=E.ATTRIB_NAME_SAW_WHITE:x(q,R)?f.attribName+=R:Y(f,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if(R==="=")f.state=E.ATTRIB_VALUE;else{if(C(R))continue;Y(f,"Attribute without value"),f.tag.attributes[f.attribName]="",f.attribValue="",j(f,"onattribute",{name:f.attribName,value:""}),f.attribName="",R===">"?De(f):x(S,R)?(f.attribName=R,f.state=E.ATTRIB_NAME):(Y(f,"Invalid attribute name"),f.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(C(R))continue;N(R)?(f.q=R,f.state=E.ATTRIB_VALUE_QUOTED):(Y(f,"Unquoted attribute value"),f.state=E.ATTRIB_VALUE_UNQUOTED,f.attribValue=R);continue;case E.ATTRIB_VALUE_QUOTED:if(R!==f.q){R==="&"?f.state=E.ATTRIB_VALUE_ENTITY_Q:f.attribValue+=R;continue}Xe(f),f.q="",f.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:C(R)?f.state=E.ATTRIB:R===">"?De(f):R==="/"?f.state=E.OPEN_TAG_SLASH:x(S,R)?(Y(f,"No whitespace between attributes"),f.attribName=R,f.attribValue="",f.state=E.ATTRIB_NAME):Y(f,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!O(R)){R==="&"?f.state=E.ATTRIB_VALUE_ENTITY_U:f.attribValue+=R;continue}Xe(f),R===">"?De(f):f.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(f.tagName)R===">"?ne(f):x(q,R)?f.tagName+=R:f.script?(f.script+="</"+f.tagName,f.tagName="",f.state=E.SCRIPT):(C(R)||Y(f,"Invalid tagname in closing tag"),f.state=E.CLOSE_TAG_SAW_WHITE);else{if(C(R))continue;w(S,R)?f.script?(f.script+="</"+R,f.state=E.SCRIPT):Y(f,"Invalid tagname in closing tag."):f.tagName=R}continue;case E.CLOSE_TAG_SAW_WHITE:if(C(R))continue;R===">"?ne(f):Y(f,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var ue,be;switch(f.state){case E.TEXT_ENTITY:ue=E.TEXT,be="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:ue=E.ATTRIB_VALUE_QUOTED,be="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:ue=E.ATTRIB_VALUE_UNQUOTED,be="attribValue";break}R===";"?(f[be]+=_e(f),f.entity="",f.state=ue):x(f.entity.length?y:A,R)?f.entity+=R:(Y(f,"Invalid character in entity name"),f[be]+="&"+f.entity+R,f.entity="",f.state=ue);continue;default:throw new Error(f,"Unknown state: "+f.state)}return f.position>=f.bufferCheckPosition&&n(f),f}s(ft,"write");String.fromCodePoint||function(){var g=String.fromCharCode,f=Math.floor,L=s(function(){var R=16384,Q=[],te,ue,be=-1,Re=arguments.length;if(!Re)return"";for(var ze="";++be<Re;){var de=Number(arguments[be]);if(!isFinite(de)||de<0||de>1114111||f(de)!==de)throw RangeError("Invalid code point: "+de);de<=65535?Q.push(de):(de-=65536,te=(de>>10)+55296,ue=de%1024+56320,Q.push(te,ue)),(be+1===Re||Q.length>R)&&(ze+=g.apply(null,Q),Q.length=0)}return ze},"fromCodePoint");Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:L,configurable:!0,writable:!0}):String.fromCodePoint=L}()})(typeof Oi=="undefined"?Oi.sax={}:Oi)});var am=v(_o=>{(function(){"use strict";_o.stripBOM=function(t){return t[0]==="\uFEFF"?t.substring(1):t}}).call(_o)});var So=v(rr=>{(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),rr.normalize=function(e){return e.toLowerCase()},rr.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},rr.stripPrefix=function(e){return e.replace(t,"")},rr.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},rr.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e=e.toLowerCase()==="true"),e}}).call(rr)});var om=v(nr=>{(function(){"use strict";var t,e,r,n,i,a,o,u,c=s(function(m,T){return function(){return m.apply(T,arguments)}},"bind"),p=s(function(m,T){for(var D in T)h.call(T,D)&&(m[D]=T[D]);function _(){this.constructor=m}return s(_,"ctor"),_.prototype=T.prototype,m.prototype=new _,m.__super__=T.prototype,m},"extend"),h={}.hasOwnProperty;o=sm(),r=require("events"),t=am(),a=So(),u=require("timers").setImmediate,e=qi().defaults,n=s(function(m){return typeof m=="object"&&m!=null&&Object.keys(m).length===0},"isEmpty"),i=s(function(m,T,D){var _,S,q;for(_=0,S=m.length;_<S;_++)q=m[_],T=q(T,D);return T},"processItem"),nr.Parser=function(m){p(T,m);function T(D){this.parseString=c(this.parseString,this),this.reset=c(this.reset,this),this.assignOrPush=c(this.assignOrPush,this),this.processAsync=c(this.processAsync,this);var _,S,q;if(!(this instanceof nr.Parser))return new nr.Parser(D);this.options={},S=e["0.2"];for(_ in S)!h.call(S,_)||(q=S[_],this.options[_]=q);for(_ in D)!h.call(D,_)||(q=D[_],this.options[_]=q);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return s(T,"Parser"),T.prototype.processAsync=function(){var D,_;try{return this.remaining.length<=this.options.chunkSize?(D=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(D),this.saxParser.close()):(D=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(D),u(this.processAsync))}catch(S){if(_=S,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(_)}},T.prototype.assignOrPush=function(D,_,S){return _ in D?(D[_]instanceof Array||(D[_]=[D[_]]),D[_].push(S)):this.options.explicitArray?D[_]=[S]:D[_]=S},T.prototype.reset=function(){var D,_,S,q;return this.removeAllListeners(),this.saxParser=o.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(A){return function(y){if(A.saxParser.resume(),!A.saxParser.errThrown)return A.saxParser.errThrown=!0,A.emit("error",y)}}(this),this.saxParser.onend=function(A){return function(){if(!A.saxParser.ended)return A.saxParser.ended=!0,A.emit("end",A.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,q=[],D=this.options.attrkey,_=this.options.charkey,this.saxParser.onopentag=function(A){return function(y){var C,N,O,x,w;if(O={},O[_]="",!A.options.ignoreAttrs){w=y.attributes;for(C in w)!h.call(w,C)||(!(D in O)&&!A.options.mergeAttrs&&(O[D]={}),N=A.options.attrValueProcessors?i(A.options.attrValueProcessors,y.attributes[C],C):y.attributes[C],x=A.options.attrNameProcessors?i(A.options.attrNameProcessors,C):C,A.options.mergeAttrs?A.assignOrPush(O,x,N):O[D][x]=N)}return O["#name"]=A.options.tagNameProcessors?i(A.options.tagNameProcessors,y.name):y.name,A.options.xmlns&&(O[A.options.xmlnskey]={uri:y.uri,local:y.local}),q.push(O)}}(this),this.saxParser.onclosetag=function(A){return function(){var y,C,N,O,x,w,E,G,H,j;if(w=q.pop(),x=w["#name"],(!A.options.explicitChildren||!A.options.preserveChildrenOrder)&&delete w["#name"],w.cdata===!0&&(y=w.cdata,delete w.cdata),H=q[q.length-1],w[_].match(/^\s*$/)&&!y?(C=w[_],delete w[_]):(A.options.trim&&(w[_]=w[_].trim()),A.options.normalize&&(w[_]=w[_].replace(/\s{2,}/g," ").trim()),w[_]=A.options.valueProcessors?i(A.options.valueProcessors,w[_],x):w[_],Object.keys(w).length===1&&_ in w&&!A.EXPLICIT_CHARKEY&&(w=w[_])),n(w)&&(w=A.options.emptyTag!==""?A.options.emptyTag:C),A.options.validator!=null&&(j="/"+function(){var Z,me,ye;for(ye=[],Z=0,me=q.length;Z<me;Z++)O=q[Z],ye.push(O["#name"]);return ye}().concat(x).join("/"),function(){var Z;try{return w=A.options.validator(j,H&&H[x],w)}catch(me){return Z=me,A.emit("error",Z)}}()),A.options.explicitChildren&&!A.options.mergeAttrs&&typeof w=="object"){if(!A.options.preserveChildrenOrder)O={},A.options.attrkey in w&&(O[A.options.attrkey]=w[A.options.attrkey],delete w[A.options.attrkey]),!A.options.charsAsChildren&&A.options.charkey in w&&(O[A.options.charkey]=w[A.options.charkey],delete w[A.options.charkey]),Object.getOwnPropertyNames(w).length>0&&(O[A.options.childkey]=w),w=O;else if(H){H[A.options.childkey]=H[A.options.childkey]||[],E={};for(N in w)!h.call(w,N)||(E[N]=w[N]);H[A.options.childkey].push(E),delete w["#name"],Object.keys(w).length===1&&_ in w&&!A.EXPLICIT_CHARKEY&&(w=w[_])}}return q.length>0?A.assignOrPush(H,x,w):(A.options.explicitRoot&&(G=w,w={},w[x]=G),A.resultObject=w,A.saxParser.ended=!0,A.emit("end",A.resultObject))}}(this),S=function(A){return function(y){var C,N;if(N=q[q.length-1],N)return N[_]+=y,A.options.explicitChildren&&A.options.preserveChildrenOrder&&A.options.charsAsChildren&&(A.options.includeWhiteChars||y.replace(/\\n/g,"").trim()!=="")&&(N[A.options.childkey]=N[A.options.childkey]||[],C={"#name":"__text__"},C[_]=y,A.options.normalize&&(C[_]=C[_].replace(/\s{2,}/g," ").trim()),N[A.options.childkey].push(C)),N}}(this),this.saxParser.ontext=S,this.saxParser.oncdata=function(A){return function(y){var C;if(C=S(y),C)return C.cdata=!0}}(this)},T.prototype.parseString=function(D,_){var S;_!=null&&typeof _=="function"&&(this.on("end",function(q){return this.reset(),_(null,q)}),this.on("error",function(q){return this.reset(),_(q)}));try{return D=D.toString(),D.trim()===""?(this.emit("end",null),!0):(D=t.stripBOM(D),this.options.async?(this.remaining=D,u(this.processAsync),this.saxParser):this.saxParser.write(D).close())}catch(q){if(S=q,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw S}else return this.emit("error",S),this.saxParser.errThrown=!0}},T}(r.EventEmitter),nr.parseString=function(m,T,D){var _,S,q;return D!=null?(typeof D=="function"&&(_=D),typeof T=="object"&&(S=T)):(typeof T=="function"&&(_=T),S={}),q=new nr.Parser(S),q.parseString(m,_)}}).call(nr)});var um=v(Mt=>{(function(){"use strict";var t,e,r,n,i=s(function(o,u){for(var c in u)a.call(u,c)&&(o[c]=u[c]);function p(){this.constructor=o}return s(p,"ctor"),p.prototype=u.prototype,o.prototype=new p,o.__super__=u.prototype,o},"extend"),a={}.hasOwnProperty;e=qi(),t=im(),r=om(),n=So(),Mt.defaults=e.defaults,Mt.processors=n,Mt.ValidationError=function(o){i(u,o);function u(c){this.message=c}return s(u,"ValidationError"),u}(Error),Mt.Builder=t.Builder,Mt.Parser=r.Parser,Mt.parseString=r.parseString}).call(Mt)});var hm=v((iD,dm)=>{var cm=K(),yn=cm.util,tT=cm.Model.Shape,rT=um(),nT={explicitCharkey:!1,trim:!1,normalize:!1,explicitRoot:!1,emptyTag:null,explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,validator:null};function lm(){}s(lm,"NodeXmlParser");lm.prototype.parse=function(t,e){e=e||{};var r=null,n=null,i=new rT.Parser(nT);if(i.parseString(t,function(o,u){n=o,r=u}),r){var a=St(r,e);return r.ResponseMetadata&&(a.ResponseMetadata=St(r.ResponseMetadata[0],{})),a}else{if(n)throw yn.error(n,{code:"XMLParserError",retryable:!0});return St({},e)}};function St(t,e){switch(e.type){case"structure":return iT(t,e);case"map":return sT(t,e);case"list":return pm(t,e);case void 0:case null:return aT(t);default:return fm(t,e)}}s(St,"parseXml");function iT(t,e){var r={};return t===null||yn.each(e.members,function(n,i){var a=i.name;if(Object.prototype.hasOwnProperty.call(t,a)&&Array.isArray(t[a])){var o=t[a];i.flattened||(o=o[0]),r[n]=St(o,i)}else i.isXmlAttribute&&t.$&&Object.prototype.hasOwnProperty.call(t.$,a)?r[n]=fm(t.$[a],i):i.type==="list"&&!e.api.xmlNoDefaultLists&&(r[n]=i.defaultValue)}),r}s(iT,"parseStructure");function sT(t,e){var r={};if(t===null)return r;var n=e.key.name||"key",i=e.value.name||"value",a=e.flattened?t:t.entry;return Array.isArray(a)&&yn.arrayEach(a,function(o){r[o[n][0]]=St(o[i][0],e.value)}),r}s(sT,"parseMap");function pm(t,e){var r=[],n=e.member.name||"member";return e.flattened?yn.arrayEach(t,function(i){r.push(St(i,e.member))}):t&&Array.isArray(t[n])&&yn.arrayEach(t[n],function(i){r.push(St(i,e.member))}),r}s(pm,"parseList");function fm(t,e){return t&&t.$&&t.$.encoding==="base64"&&(e=new tT.create({type:t.$.encoding})),t&&t._&&(t=t._),typeof e.toType=="function"?e.toType(t):t}s(fm,"parseScalar");function aT(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t)){var e=[];for(n=0;n<t.length;n++)e.push(St(t[n],{}));return e}var r=Object.keys(t),n;if(r.length===0||r.length===1&&r[0]==="$")return{};var i={};for(n=0;n<r.length;n++){var a=r[n],o=t[a];a!=="$"&&(o.length>1?i[a]=pm(o,{member:{}}):i[a]=St(o[0],{}))}return i}s(aT,"parseUnknown");dm.exports=lm});var ym=v(()=>{var fe=K(),oT=fe.util.stream.Stream,mm=fe.util.stream.Transform,uT=fe.util.stream.Readable;gi();var cT="AWS_NODEJS_CONNECTION_REUSE_ENABLED";fe.NodeHttpClient=fe.util.inherit({handleRequest:s(function(e,r,n,i){var a=this,o=e.endpoint,u="";r||(r={}),r.proxy&&(u=o.protocol+"//"+o.hostname,o.port!==80&&o.port!==443&&(u+=":"+o.port),o=new fe.Endpoint(r.proxy));var c=o.protocol==="https:",p=c?require("https"):require("http"),h={host:o.hostname,port:o.port,method:e.method,headers:e.headers,path:u+e.path};r.agent||(h.agent=this.getAgent(c,{keepAlive:process.env[cT]==="1"})),fe.util.update(h,r),delete h.proxy,delete h.timeout;var m=p.request(h,function(_){m.didCallback||(n(_),_.emit("headers",_.statusCode,_.headers,_.statusMessage))});if(e.stream=m,m.didCallback=!1,r.connectTimeout){var T;m.on("socket",function(_){_.connecting&&(T=setTimeout(s(function(){m.didCallback||(m.didCallback=!0,m.abort(),i(fe.util.error(new Error("Socket timed out without establishing a connection"),{code:"TimeoutError"})))},"connectTimeout"),r.connectTimeout),_.on("connect",function(){clearTimeout(T),T=null}))})}m.setTimeout(r.timeout||0,function(){if(!m.didCallback){m.didCallback=!0;var _="Connection timed out after "+r.timeout+"ms";i(fe.util.error(new Error(_),{code:"TimeoutError"})),m.abort()}}),m.on("error",function(_){T&&(clearTimeout(T),T=null),!m.didCallback&&(m.didCallback=!0,_.code==="ECONNRESET"||_.code==="EPIPE"||_.code==="ETIMEDOUT"?i(fe.util.error(_,{code:"TimeoutError"})):i(_))});var D=e.headers.Expect||e.headers.expect;return D==="100-continue"?m.once("continue",function(){a.writeBody(m,e)}):this.writeBody(m,e),m},"handleRequest"),writeBody:s(function(e,r){var n=r.body,i=parseInt(r.headers["Content-Length"],10);if(n instanceof oT){var a=this.progressStream(e,i);a?n.pipe(a).pipe(e):n.pipe(e)}else n?(e.once("finish",function(){e.emit("sendProgress",{loaded:i,total:i})}),e.end(n)):e.end()},"writeBody"),getAgent:s(function(e,r){var n=e?require("https"):require("http");return e?(fe.NodeHttpClient.sslAgent||(fe.NodeHttpClient.sslAgent=new n.Agent(fe.util.merge({rejectUnauthorized:process.env.NODE_TLS_REJECT_UNAUTHORIZED!=="0"},r||{})),fe.NodeHttpClient.sslAgent.setMaxListeners(0),Object.defineProperty(fe.NodeHttpClient.sslAgent,"maxSockets",{enumerable:!0,get:function(){var i=50,a=n.globalAgent;return a&&a.maxSockets!==1/0&&typeof a.maxSockets=="number"?a.maxSockets:i}})),fe.NodeHttpClient.sslAgent):(fe.NodeHttpClient.agent||(fe.NodeHttpClient.agent=new n.Agent(r)),fe.NodeHttpClient.agent)},"getAgent"),progressStream:s(function(e,r){if(typeof mm!="undefined"){var n=0,i=new mm;return i._transform=function(a,o,u){a&&(n+=a.length,e.emit("sendProgress",{loaded:n,total:r})),u(null,a)},i}},"progressStream"),emitter:null});fe.HttpClient.prototype=fe.NodeHttpClient.prototype;fe.HttpClient.streamsApiVersion=uT?2:1});var gm=v(()=>{var Ve=K(),lT=require("fs"),pT=Ot(),fT=Ve.util.iniLoader;Ve.TokenFileWebIdentityCredentials=Ve.util.inherit(Ve.Credentials,{constructor:s(function(e){Ve.Credentials.call(this),this.data=null,this.clientConfig=Ve.util.copy(e||{})},"TokenFileWebIdentityCredentials"),getParamsFromEnv:s(function(){var e="AWS_WEB_IDENTITY_TOKEN_FILE",r="AWS_ROLE_ARN";if(process.env[e]&&process.env[r])return[{envTokenFile:process.env[e],roleArn:process.env[r],roleSessionName:process.env.AWS_ROLE_SESSION_NAME}]},"getParamsFromEnv"),getParamsFromSharedConfig:s(function(){var e=Ve.util.getProfilesFromSharedConfig(fT),r=process.env.AWS_PROFILE||Ve.util.defaultProfile,n=e[r]||{};if(Object.keys(n).length===0)throw Ve.util.error(new Error("Profile "+r+" not found"),{code:"TokenFileWebIdentityCredentialsProviderFailure"});for(var i=[];!n.web_identity_token_file&&n.source_profile;){i.unshift({roleArn:n.role_arn,roleSessionName:n.role_session_name});var a=n.source_profile;n=e[a]}return i.unshift({envTokenFile:n.web_identity_token_file,roleArn:n.role_arn,roleSessionName:n.role_session_name}),i},"getParamsFromSharedConfig"),refresh:s(function(e){this.coalesceRefresh(e||Ve.util.fn.callback)},"refresh"),assumeRoleChaining:s(function(e,r){var n=this;if(e.length===0)n.service.credentialsFrom(n.data,n),r();else{var i=e.shift();n.service.config.credentials=n.service.credentialsFrom(n.data,n),n.service.assumeRole({RoleArn:i.roleArn,RoleSessionName:i.roleSessionName||"token-file-web-identity"},function(a,o){n.data=null,a?r(a):(n.data=o,n.assumeRoleChaining(e,r))})}},"assumeRoleChaining"),load:s(function(e){var r=this;try{var n=r.getParamsFromEnv();if(n||(n=r.getParamsFromSharedConfig()),n){var i=n.shift(),a=lT.readFileSync(i.envTokenFile,{encoding:"ascii"});r.service||r.createClients(),r.service.assumeRoleWithWebIdentity({WebIdentityToken:a,RoleArn:i.roleArn,RoleSessionName:i.roleSessionName||"token-file-web-identity"},function(o,u){r.data=null,o?e(o):(r.data=u,r.assumeRoleChaining(n,e))})}}catch(o){e(o)}},"load"),createClients:function(){if(!this.service){var t=Ve.util.merge({},this.clientConfig);this.service=new pT(t),this.service.retryableError=function(e){return e.code==="IDPCommunicationErrorException"||e.code==="InvalidIdentityToken"?!0:Ve.Service.prototype.retryableError.call(this,e)}}}})});var bm=v((cD,vm)=>{var dT={IPv4:"http://169.254.169.254",IPv6:"http://[fd00:ec2::254]"};vm.exports=dT});var Eo=v((lD,_m)=>{var hT={IPv4:"IPv4",IPv6:"IPv6"};_m.exports=hT});var Cm=v((pD,Tm)=>{var Sm="AWS_EC2_METADATA_SERVICE_ENDPOINT",Em="ec2_metadata_service_endpoint",mT={environmentVariableSelector:function(t){return t[Sm]},configFileSelector:function(t){return t[Em]},default:void 0};Tm.exports={ENV_ENDPOINT_NAME:Sm,CONFIG_ENDPOINT_NAME:Em,ENDPOINT_CONFIG_OPTIONS:mT}});var Im=v((fD,wm)=>{var yT=Eo(),Am="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",xm="ec2_metadata_service_endpoint_mode",gT={environmentVariableSelector:function(t){return t[Am]},configFileSelector:function(t){return t[xm]},default:yT.IPv4};wm.exports={ENV_ENDPOINT_MODE_NAME:Am,CONFIG_ENDPOINT_MODE_NAME:xm,ENDPOINT_MODE_CONFIG_OPTIONS:gT}});var Pm=v((dD,qm)=>{var Dm=K(),Rm=bm(),Nm=Eo(),vT=Cm().ENDPOINT_CONFIG_OPTIONS,bT=Im().ENDPOINT_MODE_CONFIG_OPTIONS,_T=s(function(){var t=Dm.util.loadConfig(vT);if(t!==void 0)return t;var e=Dm.util.loadConfig(bT);switch(e){case Nm.IPv4:return Rm.IPv4;case Nm.IPv6:return Rm.IPv6;default:throw new Error("Unsupported endpoint mode: "+e)}},"getMetadataServiceEndpoint");qm.exports=_T});var Lm=v((hD,Mm)=>{var tt=K();gi();var ST=tt.util.inherit,ET=Pm(),Om=require("url").URL;tt.MetadataService=ST({endpoint:ET(),httpOptions:{timeout:0},disableFetchToken:!1,constructor:s(function(e){e&&e.host&&(e.endpoint="http://"+e.host,delete e.host),tt.util.update(this,e)},"MetadataService"),request:s(function(e,r,n){if(arguments.length===2&&(n=r,r={}),process.env[tt.util.imdsDisabledEnv]){n(new Error("EC2 Instance Metadata Service access disabled"));return}e=e||"/",Om&&new Om(this.endpoint);var i=new tt.HttpRequest(this.endpoint+e);i.method=r.method||"GET",r.headers&&(i.headers=r.headers),tt.util.handleRequestWithRetries(i,this,n)},"request"),loadCredentialsCallbacks:[],fetchMetadataToken:s(function(e){var r=this,n="/latest/api/token";r.request(n,{method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}},e)},"fetchMetadataToken"),fetchCredentials:s(function(e,r){var n=this,i="/latest/meta-data/iam/security-credentials/";n.request(i,e,function(a,o){if(a){n.disableFetchToken=a.statusCode!==401,r(tt.util.error(a,{message:"EC2 Metadata roleName request returned error"}));return}o=o.split(`
`)[0],n.request(i+o,e,function(u,c){if(u){n.disableFetchToken=u.statusCode!==401,r(tt.util.error(u,{message:"EC2 Metadata creds request returned error"}));return}try{var p=JSON.parse(c);r(null,p)}catch(h){r(h)}})})},"fetchCredentials"),loadCredentials:s(function(e){var r=this;if(r.loadCredentialsCallbacks.push(e),r.loadCredentialsCallbacks.length>1)return;function n(i,a){for(var o;(o=r.loadCredentialsCallbacks.shift())!==void 0;)o(i,a)}s(n,"callbacks"),r.disableFetchToken?r.fetchCredentials({},n):r.fetchMetadataToken(function(i,a){if(i){if(i.code==="TimeoutError")r.disableFetchToken=!0;else if(i.retryable===!0){n(tt.util.error(i,{message:"EC2 Metadata token request returned error"}));return}else if(i.statusCode===400){n(tt.util.error(i,{message:"EC2 Metadata token request returned 400"}));return}}var o={};a&&(o.headers={"x-aws-ec2-metadata-token":a}),r.fetchCredentials(o,n)})},"loadCredentials")});Mm.exports=tt.MetadataService});var km=v(()=>{var rt=K();Lm();rt.EC2MetadataCredentials=rt.util.inherit(rt.Credentials,{constructor:s(function(e){rt.Credentials.call(this),e=e?rt.util.copy(e):{},e=rt.util.merge({maxRetries:this.defaultMaxRetries},e),e.httpOptions||(e.httpOptions={}),e.httpOptions=rt.util.merge({timeout:this.defaultTimeout,connectTimeout:this.defaultConnectTimeout},e.httpOptions),this.metadataService=new rt.MetadataService(e),this.metadata={}},"EC2MetadataCredentials"),defaultTimeout:1e3,defaultConnectTimeout:1e3,defaultMaxRetries:3,refresh:s(function(e){this.coalesceRefresh(e||rt.util.fn.callback)},"refresh"),load:s(function(e){var r=this;r.metadataService.loadCredentials(function(n,i){if(!n){var a=rt.util.date.getDate(),o=new Date(i.Expiration);o<a?n=rt.util.error(new Error("EC2 Instance Metadata Serivce provided expired credentials"),{code:"EC2MetadataCredentialsProviderFailure"}):(r.expired=!1,r.metadata=i,r.accessKeyId=i.AccessKeyId,r.secretAccessKey=i.SecretAccessKey,r.sessionToken=i.Token,r.expireTime=o)}e(n)})},"load")})});var Um=v(()=>{var xe=K(),To="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Mi="AWS_CONTAINER_CREDENTIALS_FULL_URI",TT="AWS_CONTAINER_AUTHORIZATION_TOKEN",CT=["https:"],Fm=["http:","https:"],Bm=["localhost","127.0.0.1"],AT="169.254.170.2";xe.RemoteCredentials=xe.util.inherit(xe.Credentials,{constructor:s(function(e){xe.Credentials.call(this),e=e?xe.util.copy(e):{},e.httpOptions||(e.httpOptions={}),e.httpOptions=xe.util.merge(this.httpOptions,e.httpOptions),xe.util.update(this,e)},"RemoteCredentials"),httpOptions:{timeout:1e3},maxRetries:3,isConfiguredForEcsCredentials:s(function(){return Boolean(process&&process.env&&(process.env[To]||process.env[Mi]))},"isConfiguredForEcsCredentials"),getECSFullUri:s(function(){if(process&&process.env){var e=process.env[To],r=process.env[Mi];if(e)return"http://"+AT+e;if(r){var n=xe.util.urlParse(r);if(Fm.indexOf(n.protocol)<0)throw xe.util.error(new Error("Unsupported protocol:  AWS.RemoteCredentials supports "+Fm.join(",")+" only; "+n.protocol+" requested."),{code:"ECSCredentialsProviderFailure"});if(CT.indexOf(n.protocol)<0&&Bm.indexOf(n.hostname)<0)throw xe.util.error(new Error("Unsupported hostname: AWS.RemoteCredentials only supports "+Bm.join(",")+" for "+n.protocol+"; "+n.protocol+"//"+n.hostname+" requested."),{code:"ECSCredentialsProviderFailure"});return r}else throw xe.util.error(new Error("Variable "+To+" or "+Mi+" must be set to use AWS.RemoteCredentials."),{code:"ECSCredentialsProviderFailure"})}else throw xe.util.error(new Error("No process info available"),{code:"ECSCredentialsProviderFailure"})},"getECSFullUri"),getECSAuthToken:s(function(){if(process&&process.env&&process.env[Mi])return process.env[TT]},"getECSAuthToken"),credsFormatIsValid:s(function(e){return!!e.accessKeyId&&!!e.secretAccessKey&&!!e.sessionToken&&!!e.expireTime},"credsFormatIsValid"),formatCreds:s(function(e){return e.credentials&&(e=e.credentials),{expired:!1,accessKeyId:e.accessKeyId||e.AccessKeyId,secretAccessKey:e.secretAccessKey||e.SecretAccessKey,sessionToken:e.sessionToken||e.Token,expireTime:new Date(e.expiration||e.Expiration)}},"formatCreds"),request:s(function(e,r){var n=new xe.HttpRequest(e);n.method="GET",n.headers.Accept="application/json";var i=this.getECSAuthToken();i&&(n.headers.Authorization=i),xe.util.handleRequestWithRetries(n,this,r)},"request"),refresh:s(function(e){this.coalesceRefresh(e||xe.util.fn.callback)},"refresh"),load:s(function(e){var r=this,n;try{n=this.getECSFullUri()}catch(i){e(i);return}this.request(n,function(i,a){if(!i)try{a=JSON.parse(a);var o=r.formatCreds(a);if(!r.credsFormatIsValid(o))throw xe.util.error(new Error("Response data is not in valid format"),{code:"ECSCredentialsProviderFailure"});xe.util.update(r,o)}catch(u){i=u}e(i,o)})},"load")})});var Km=v(()=>{var jm=K();jm.ECSCredentials=jm.RemoteCredentials});var Wm=v(()=>{var Lt=K();Lt.EnvironmentCredentials=Lt.util.inherit(Lt.Credentials,{constructor:s(function(e){Lt.Credentials.call(this),this.envPrefix=e,this.get(function(){})},"EnvironmentCredentials"),refresh:s(function(e){if(e||(e=Lt.util.fn.callback),!process||!process.env){e(Lt.util.error(new Error("No process info or environment variables available"),{code:"EnvironmentCredentialsProviderFailure"}));return}for(var r=["ACCESS_KEY_ID","SECRET_ACCESS_KEY","SESSION_TOKEN"],n=[],i=0;i<r.length;i++){var a="";if(this.envPrefix&&(a=this.envPrefix+"_"),n[i]=process.env[a+r[i]],!n[i]&&r[i]!=="SESSION_TOKEN"){e(Lt.util.error(new Error("Variable "+a+r[i]+" not set."),{code:"EnvironmentCredentialsProviderFailure"}));return}}this.expired=!1,Lt.Credentials.apply(this,n),e()},"refresh")})});var Vm=v(()=>{var kt=K();kt.FileSystemCredentials=kt.util.inherit(kt.Credentials,{constructor:s(function(e){kt.Credentials.call(this),this.filename=e,this.get(function(){})},"FileSystemCredentials"),refresh:s(function(e){e||(e=kt.util.fn.callback);try{var r=JSON.parse(kt.util.readFileSync(this.filename));if(kt.Credentials.call(this,r),!this.accessKeyId||!this.secretAccessKey)throw kt.util.error(new Error("Credentials not set in "+this.filename),{code:"FileSystemCredentialsProviderFailure"});this.expired=!1,e()}catch(n){e(n)}},"refresh")})});var Hm=v(()=>{var we=K(),xT=Ot(),Gm=we.util.iniLoader,wT="us-east-1";we.SharedIniFileCredentials=we.util.inherit(we.Credentials,{constructor:s(function(e){we.Credentials.call(this),e=e||{},this.filename=e.filename,this.profile=e.profile||process.env.AWS_PROFILE||we.util.defaultProfile,this.disableAssumeRole=Boolean(e.disableAssumeRole),this.preferStaticCredentials=Boolean(e.preferStaticCredentials),this.tokenCodeFn=e.tokenCodeFn||null,this.httpOptions=e.httpOptions||null,this.get(e.callback||we.util.fn.noop)},"SharedIniFileCredentials"),load:s(function(e){var r=this;try{var n=we.util.getProfilesFromSharedConfig(Gm,this.filename),i=n[this.profile]||{};if(Object.keys(i).length===0)throw we.util.error(new Error("Profile "+this.profile+" not found"),{code:"SharedIniFileCredentialsProviderFailure"});var a=Boolean(this.preferStaticCredentials&&i.aws_access_key_id&&i.aws_secret_access_key);if(i.role_arn&&!a){this.loadRoleProfile(n,i,function(o,u){o?e(o):(r.expired=!1,r.accessKeyId=u.Credentials.AccessKeyId,r.secretAccessKey=u.Credentials.SecretAccessKey,r.sessionToken=u.Credentials.SessionToken,r.expireTime=u.Credentials.Expiration,e(null))});return}if(this.accessKeyId=i.aws_access_key_id,this.secretAccessKey=i.aws_secret_access_key,this.sessionToken=i.aws_session_token,!this.accessKeyId||!this.secretAccessKey)throw we.util.error(new Error("Credentials not set for profile "+this.profile),{code:"SharedIniFileCredentialsProviderFailure"});this.expired=!1,e(null)}catch(o){e(o)}},"load"),refresh:s(function(e){Gm.clearCachedFiles(),this.coalesceRefresh(e||we.util.fn.callback,this.disableAssumeRole)},"refresh"),loadRoleProfile:s(function(e,r,n){if(this.disableAssumeRole)throw we.util.error(new Error("Role assumption profiles are disabled. Failed to load profile "+this.profile+" from "+e.filename),{code:"SharedIniFileCredentialsProviderFailure"});var i=this,a=r.role_arn,o=r.role_session_name,u=r.external_id,c=r.mfa_serial,p=r.source_profile,h=r.region||wT;if(!p)throw we.util.error(new Error("source_profile is not set using profile "+this.profile),{code:"SharedIniFileCredentialsProviderFailure"});var m=e[p];if(typeof m!="object")throw we.util.error(new Error("source_profile "+p+" using profile "+this.profile+" does not exist"),{code:"SharedIniFileCredentialsProviderFailure"});var T=new we.SharedIniFileCredentials(we.util.merge(this.options||{},{profile:p,preferStaticCredentials:!0}));this.roleArn=a;var D=new xT({credentials:T,region:h,httpOptions:this.httpOptions}),_={RoleArn:a,RoleSessionName:o||"aws-sdk-js-"+Date.now()};if(u&&(_.ExternalId=u),c&&i.tokenCodeFn){_.SerialNumber=c,i.tokenCodeFn(c,function(S,q){if(S){var A;S instanceof Error?A=S.message:A=S,n(we.util.error(new Error("Error fetching MFA token: "+A),{code:"SharedIniFileCredentialsProviderFailure"}));return}_.TokenCode=q,D.assumeRole(_,n)});return}D.assumeRole(_,n)},"loadRoleProfile")})});var Ri=v((wD,Xm)=>{var ge=he();ge.isBrowser=function(){return!1};ge.isNode=function(){return!0};ge.crypto.lib=require("crypto");ge.Buffer=require("buffer").Buffer;ge.domain=require("domain");ge.stream=require("stream");ge.url=require("url");ge.querystring=require("querystring");ge.environment="nodejs";ge.createEventStream=ge.stream.Readable?Nd().createEventStream:Md().createEventStream;ge.realClock=kd();ge.clientSideMonitoring={Publisher:Bd().Publisher,configProvider:Kd()};ge.iniLoader=Xd().iniLoader;ge.getSystemErrorName=require("util").getSystemErrorName;ge.loadConfig=function(t){var e=t.environmentVariableSelector(process.env);if(e!==void 0)return e;var r={};try{r=ge.iniLoader?ge.iniLoader.loadFrom({isConfig:!0,filename:process.env[ge.sharedConfigFileEnv]}):{}}catch(a){}var n=r[process.env.AWS_PROFILE||ge.defaultProfile]||{},i=t.configFileSelector(n);return i!==void 0?i:typeof t.default=="function"?t.default():t.default};var oe;Xm.exports=oe=K();Ya();Ja();th();rh();nh();ch();lh();ho();oe.XML.Parser=hm();ym();po();gm();km();Um();Km();Wm();Vm();Hm();ho();oe.CredentialProviderChain.defaultProviders=[function(){return new oe.EnvironmentCredentials("AWS")},function(){return new oe.EnvironmentCredentials("AMAZON")},function(){return new oe.SharedIniFileCredentials},function(){return new oe.ECSCredentials},function(){return new oe.ProcessCredentials},function(){return new oe.TokenFileWebIdentityCredentials},function(){return new oe.EC2MetadataCredentials}];oe.util.update(oe.Config.prototype.keys,{credentials:function(){var t=null;return new oe.CredentialProviderChain([function(){return new oe.EnvironmentCredentials("AWS")},function(){return new oe.EnvironmentCredentials("AMAZON")},function(){return new oe.SharedIniFileCredentials({disableAssumeRole:!0})}]).resolve(function(e,r){e||(t=r)}),t},credentialProvider:function(){return new oe.CredentialProviderChain},logger:function(){return process.env.AWSJS_DEBUG?console:null},region:function(){var t=process.env,e=t.AWS_REGION||t.AMAZON_REGION;if(t[oe.util.configOptInEnv])for(var r=[{filename:t[oe.util.sharedCredentialsFileEnv]},{isConfig:!0,filename:t[oe.util.sharedConfigFileEnv]}],n=oe.util.iniLoader;!e&&r.length;){var i={},a=r.shift();try{i=n.loadFrom(a)}catch(u){if(a.isConfig)throw u}var o=i[t.AWS_PROFILE||oe.util.defaultProfile];e=o&&o.region}return e}});oe.config=new oe.Config});var Co=v((ID,$m)=>{var br=K().util;function IT(t){return t===null&&typeof t=="object"?"null":t!==void 0&&zm(t)?"Binary":t!==void 0&&t.constructor?t.wrapperName||br.typeName(t.constructor):t!==void 0&&typeof t=="object"?"Object":"undefined"}s(IT,"typeOf");function zm(t){var e=["Buffer","File","Blob","ArrayBuffer","DataView","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"];if(br.isNode()){var r=br.stream.Stream;if(br.Buffer.isBuffer(t)||t instanceof r)return!0}for(var n=0;n<e.length;n++)if(t!==void 0&&t.constructor&&(br.isType(t,e[n])||br.typeName(t.constructor)===e[n]))return!0;return!1}s(zm,"isBinary");$m.exports={typeOf:IT,isBinary:zm}});var wo=v((DD,Jm)=>{var Ao=K().util,xo=Co().typeOf,Ym={String:"String",Number:"Number",NumberValue:"Number",Binary:"Binary"},DT=Ao.inherit({constructor:s(function(e,r){r=r||{},this.wrapperName="Set",this.initialize(e,r.validate)},"Set"),initialize:function(t,e){var r=this;r.values=[].concat(t),r.detectType(),e&&r.validate()},detectType:function(){if(this.type=Ym[xo(this.values[0])],!this.type)throw Ao.error(new Error,{code:"InvalidSetType",message:"Sets can contain string, number, or binary values"})},validate:function(){for(var t=this,e=t.values.length,r=t.values,n=0;n<e;n++)if(Ym[xo(r[n])]!==t.type)throw Ao.error(new Error,{code:"InvalidType",message:t.type+" Set contains "+xo(r[n])+" value"})},toJSON:function(){var t=this;return t.values}});Jm.exports=DT});var Zm=v((RD,Qm)=>{var RT=K().util,NT=RT.inherit({constructor:s(function(e){this.wrapperName="NumberValue",this.value=e.toString()},"NumberValue"),toJSON:function(){return this.toNumber()},toNumber:function(){return Number(this.value)},toString:function(){return this.value}});Qm.exports=NT});var ny=v((ND,ry)=>{var Et=K(),qT=Et.util,PT=Co().typeOf,Io=wo(),OT=Zm();Et.DynamoDB.Converter={input:s(function t(e,r){r=r||{};var n=PT(e);if(n==="Object")return ty(e,r);if(n==="Array")return MT(e,r);if(n==="Set")return LT(e,r);if(n==="String")return e.length===0&&r.convertEmptyValues?t(null):{S:e};if(n==="Number"||n==="NumberValue")return{N:e.toString()};if(n==="Binary")return e.length===0&&r.convertEmptyValues?t(null):{B:e};if(n==="Boolean")return{BOOL:e};if(n==="null")return{NULL:!0};if(n!=="undefined"&&n!=="Function")return ty(e,r)},"convertInput"),marshall:s(function(e,r){return Et.DynamoDB.Converter.input(e,r).M},"marshallItem"),output:s(function t(e,r){r=r||{};var n,i,a;for(var o in e){var u=e[o];if(o==="M"){i={};for(var c in u)i[c]=t(u[c],r);return i}else if(o==="L"){for(n=[],a=0;a<u.length;a++)n.push(t(u[a],r));return n}else if(o==="SS"){for(n=[],a=0;a<u.length;a++)n.push(u[a]+"");return new Io(n)}else if(o==="NS"){for(n=[],a=0;a<u.length;a++)n.push(ey(u[a],r.wrapNumbers));return new Io(n)}else if(o==="BS"){for(n=[],a=0;a<u.length;a++)n.push(Et.util.buffer.toBuffer(u[a]));return new Io(n)}else{if(o==="S")return u+"";if(o==="N")return ey(u,r.wrapNumbers);if(o==="B")return qT.buffer.toBuffer(u);if(o==="BOOL")return u==="true"||u==="TRUE"||u===!0;if(o==="NULL")return null}}},"convertOutput"),unmarshall:s(function(e,r){return Et.DynamoDB.Converter.output({M:e},r)},"unmarshall")};function MT(t,e){for(var r={L:[]},n=0;n<t.length;n++)r.L.push(Et.DynamoDB.Converter.input(t[n],e));return r}s(MT,"formatList");function ey(t,e){return e?new OT(t):Number(t)}s(ey,"convertNumber");function ty(t,e){var r={M:{}};for(var n in t){var i=Et.DynamoDB.Converter.input(t[n],e);i!==void 0&&(r.M[n]=i)}return r}s(ty,"formatMap");function LT(t,e){e=e||{};var r=t.values;if(e.convertEmptyValues&&(r=kT(t),r.length===0))return Et.DynamoDB.Converter.input(null);var n={};switch(t.type){case"String":n.SS=r;break;case"Binary":n.BS=r;break;case"Number":n.NS=r.map(function(i){return i.toString()})}return n}s(LT,"formatSet");function kT(t){var e=[],r={String:!0,Binary:!0,Number:!1};if(r[t.type]){for(var n=0;n<t.values.length;n++)t.values[n].length!==0&&e.push(t.values[n]);return e}return t.values}s(kT,"filterEmptySetValues");ry.exports=Et.DynamoDB.Converter});var sy=v((qD,iy)=>{var Do=K().util,FT=ny(),Ft=s(function(t){t=t||{},this.attrValue=t.attrValue,this.convertEmptyValues=Boolean(t.convertEmptyValues),this.wrapNumbers=Boolean(t.wrapNumbers)},"Translator");Ft.prototype.translateInput=function(t,e){return this.mode="input",this.translate(t,e)};Ft.prototype.translateOutput=function(t,e){return this.mode="output",this.translate(t,e)};Ft.prototype.translate=function(t,e){var r=this;if(!(!e||t===void 0)){if(e.shape===r.attrValue)return FT[r.mode](t,{convertEmptyValues:r.convertEmptyValues,wrapNumbers:r.wrapNumbers});switch(e.type){case"structure":return r.translateStructure(t,e);case"map":return r.translateMap(t,e);case"list":return r.translateList(t,e);default:return r.translateScalar(t,e)}}};Ft.prototype.translateStructure=function(t,e){var r=this;if(t!=null){var n={};return Do.each(t,function(i,a){var o=e.members[i];if(o){var u=r.translate(a,o);u!==void 0&&(n[i]=u)}}),n}};Ft.prototype.translateList=function(t,e){var r=this;if(t!=null){var n=[];return Do.arrayEach(t,function(i){var a=r.translate(i,e.member);a===void 0?n.push(null):n.push(a)}),n}};Ft.prototype.translateMap=function(t,e){var r=this;if(t!=null){var n={};return Do.each(t,function(i,a){var o=r.translate(a,e.value);o===void 0?n[i]=null:n[i]=o}),n}};Ft.prototype.translateScalar=function(t,e){return e.toType(t)};iy.exports=Ft});var oy=v((PD,ay)=>{var Bt=K(),BT=sy(),UT=wo();Bt.DynamoDB.DocumentClient=Bt.util.inherit({constructor:s(function(e){var r=this;r.options=e||{},r.configure(r.options)},"DocumentClient"),configure:s(function(e){var r=this;r.service=e.service,r.bindServiceObject(e),r.attrValue=e.attrValue=r.service.api.operations.putItem.input.members.Item.value.shape},"configure"),bindServiceObject:s(function(e){var r=this;if(e=e||{},!r.service)r.service=new Bt.DynamoDB(e);else{var n=Bt.util.copy(r.service.config);r.service=new r.service.constructor.__super__(n),r.service.config.params=Bt.util.merge(r.service.config.params||{},e.params)}},"bindServiceObject"),makeServiceRequest:function(t,e,r){var n=this,i=n.service[t](e);return n.setupRequest(i),n.setupResponse(i),typeof r=="function"&&i.send(r),i},serviceClientOperationsMap:{batchGet:"batchGetItem",batchWrite:"batchWriteItem",delete:"deleteItem",get:"getItem",put:"putItem",query:"query",scan:"scan",update:"updateItem",transactGet:"transactGetItems",transactWrite:"transactWriteItems"},batchGet:function(t,e){var r=this.serviceClientOperationsMap.batchGet;return this.makeServiceRequest(r,t,e)},batchWrite:function(t,e){var r=this.serviceClientOperationsMap.batchWrite;return this.makeServiceRequest(r,t,e)},delete:function(t,e){var r=this.serviceClientOperationsMap.delete;return this.makeServiceRequest(r,t,e)},get:function(t,e){var r=this.serviceClientOperationsMap.get;return this.makeServiceRequest(r,t,e)},put:function(t,e){var r=this.serviceClientOperationsMap.put;return this.makeServiceRequest(r,t,e)},update:function(t,e){var r=this.serviceClientOperationsMap.update;return this.makeServiceRequest(r,t,e)},scan:function(t,e){var r=this.serviceClientOperationsMap.scan;return this.makeServiceRequest(r,t,e)},query:function(t,e){var r=this.serviceClientOperationsMap.query;return this.makeServiceRequest(r,t,e)},transactWrite:function(t,e){var r=this.serviceClientOperationsMap.transactWrite;return this.makeServiceRequest(r,t,e)},transactGet:function(t,e){var r=this.serviceClientOperationsMap.transactGet;return this.makeServiceRequest(r,t,e)},createSet:function(t,e){return e=e||{},new UT(t,e)},getTranslator:function(){return new BT(this.options)},setupRequest:s(function(e){var r=this,n=r.getTranslator(),i=e.operation,a=e.service.api.operations[i].input;e._events.validate.unshift(function(o){o.rawParams=Bt.util.copy(o.params),o.params=n.translateInput(o.rawParams,a)})},"setupRequest"),setupResponse:s(function(e){var r=this,n=r.getTranslator(),i=r.service.api.operations[e.operation].output;e.on("extractData",function(o){o.data=n.translateOutput(o.data,i)});var a=e.response;a.nextPage=function(o){var u=this,c=u.request,p,h=c.service,m=c.operation;try{p=h.paginationConfig(m,!0)}catch(S){u.error=S}if(!u.hasNextPage()){if(o)o(u.error,null);else if(u.error)throw u.error;return null}var T=Bt.util.copy(c.rawParams);if(u.nextPageTokens){var D=p.inputToken;typeof D=="string"&&(D=[D]);for(var _=0;_<D.length;_++)T[D[_]]=u.nextPageTokens[_];return r[m](T,o)}else return o?o(null,null):null}},"setupResponse")});ay.exports=Bt.DynamoDB.DocumentClient});var uy=v(()=>{var Ut=K();oy();Ut.util.update(Ut.DynamoDB.prototype,{setupRequestListeners:s(function(e){e.service.config.dynamoDbCrc32&&(e.removeListener("extractData",Ut.EventListeners.Json.EXTRACT_DATA),e.addListener("extractData",this.checkCrc32),e.addListener("extractData",Ut.EventListeners.Json.EXTRACT_DATA))},"setupRequestListeners"),checkCrc32:s(function(e){if(!e.httpResponse.streaming&&!e.request.service.crc32IsValid(e))throw e.data=null,e.error=Ut.util.error(new Error,{code:"CRC32CheckFailed",message:"CRC32 integrity check failed",retryable:!0}),e.request.haltHandlersOnError(),e.error},"checkCrc32"),crc32IsValid:s(function(e){var r=e.httpResponse.headers["x-amz-crc32"];return r?parseInt(r,10)===Ut.util.crypto.crc32(e.httpResponse.body):!0},"crc32IsValid"),defaultRetryCount:10,retryDelays:s(function(e,r){var n=Ut.util.copy(this.config.retryDelayOptions);typeof n.base!="number"&&(n.base=50);var i=Ut.util.calculateRetryDelay(e,n,r);return i},"retryDelays")})});var cy=v((LD,jT)=>{jT.exports={version:"2.0",metadata:{apiVersion:"2011-12-05",endpointPrefix:"dynamodb",jsonVersion:"1.0",protocol:"json",serviceAbbreviation:"DynamoDB",serviceFullName:"Amazon DynamoDB",serviceId:"DynamoDB",signatureVersion:"v4",targetPrefix:"DynamoDB_20111205",uid:"dynamodb-2011-12-05"},operations:{BatchGetItem:{input:{type:"structure",required:["RequestItems"],members:{RequestItems:{shape:"S2"}}},output:{type:"structure",members:{Responses:{type:"map",key:{},value:{type:"structure",members:{Items:{shape:"Sk"},ConsumedCapacityUnits:{type:"double"}}}},UnprocessedKeys:{shape:"S2"}}}},BatchWriteItem:{input:{type:"structure",required:["RequestItems"],members:{RequestItems:{shape:"So"}}},output:{type:"structure",members:{Responses:{type:"map",key:{},value:{type:"structure",members:{ConsumedCapacityUnits:{type:"double"}}}},UnprocessedItems:{shape:"So"}}}},CreateTable:{input:{type:"structure",required:["TableName","KeySchema","ProvisionedThroughput"],members:{TableName:{},KeySchema:{shape:"Sy"},ProvisionedThroughput:{shape:"S12"}}},output:{type:"structure",members:{TableDescription:{shape:"S15"}}}},DeleteItem:{input:{type:"structure",required:["TableName","Key"],members:{TableName:{},Key:{shape:"S6"},Expected:{shape:"S1b"},ReturnValues:{}}},output:{type:"structure",members:{Attributes:{shape:"Sl"},ConsumedCapacityUnits:{type:"double"}}}},DeleteTable:{input:{type:"structure",required:["TableName"],members:{TableName:{}}},output:{type:"structure",members:{TableDescription:{shape:"S15"}}}},DescribeTable:{input:{type:"structure",required:["TableName"],members:{TableName:{}}},output:{type:"structure",members:{Table:{shape:"S15"}}}},GetItem:{input:{type:"structure",required:["TableName","Key"],members:{TableName:{},Key:{shape:"S6"},AttributesToGet:{shape:"Se"},ConsistentRead:{type:"boolean"}}},output:{type:"structure",members:{Item:{shape:"Sl"},ConsumedCapacityUnits:{type:"double"}}}},ListTables:{input:{type:"structure",members:{ExclusiveStartTableName:{},Limit:{type:"integer"}}},output:{type:"structure",members:{TableNames:{type:"list",member:{}},LastEvaluatedTableName:{}}}},PutItem:{input:{type:"structure",required:["TableName","Item"],members:{TableName:{},Item:{shape:"Ss"},Expected:{shape:"S1b"},ReturnValues:{}}},output:{type:"structure",members:{Attributes:{shape:"Sl"},ConsumedCapacityUnits:{type:"double"}}}},Query:{input:{type:"structure",required:["TableName","HashKeyValue"],members:{TableName:{},AttributesToGet:{shape:"Se"},Limit:{type:"integer"},ConsistentRead:{type:"boolean"},Count:{type:"boolean"},HashKeyValue:{shape:"S7"},RangeKeyCondition:{shape:"S1u"},ScanIndexForward:{type:"boolean"},ExclusiveStartKey:{shape:"S6"}}},output:{type:"structure",members:{Items:{shape:"Sk"},Count:{type:"integer"},LastEvaluatedKey:{shape:"S6"},ConsumedCapacityUnits:{type:"double"}}}},Scan:{input:{type:"structure",required:["TableName"],members:{TableName:{},AttributesToGet:{shape:"Se"},Limit:{type:"integer"},Count:{type:"boolean"},ScanFilter:{type:"map",key:{},value:{shape:"S1u"}},ExclusiveStartKey:{shape:"S6"}}},output:{type:"structure",members:{Items:{shape:"Sk"},Count:{type:"integer"},ScannedCount:{type:"integer"},LastEvaluatedKey:{shape:"S6"},ConsumedCapacityUnits:{type:"double"}}}},UpdateItem:{input:{type:"structure",required:["TableName","Key","AttributeUpdates"],members:{TableName:{},Key:{shape:"S6"},AttributeUpdates:{type:"map",key:{},value:{type:"structure",members:{Value:{shape:"S7"},Action:{}}}},Expected:{shape:"S1b"},ReturnValues:{}}},output:{type:"structure",members:{Attributes:{shape:"Sl"},ConsumedCapacityUnits:{type:"double"}}}},UpdateTable:{input:{type:"structure",required:["TableName","ProvisionedThroughput"],members:{TableName:{},ProvisionedThroughput:{shape:"S12"}}},output:{type:"structure",members:{TableDescription:{shape:"S15"}}}}},shapes:{S2:{type:"map",key:{},value:{type:"structure",required:["Keys"],members:{Keys:{type:"list",member:{shape:"S6"}},AttributesToGet:{shape:"Se"},ConsistentRead:{type:"boolean"}}}},S6:{type:"structure",required:["HashKeyElement"],members:{HashKeyElement:{shape:"S7"},RangeKeyElement:{shape:"S7"}}},S7:{type:"structure",members:{S:{},N:{},B:{type:"blob"},SS:{type:"list",member:{}},NS:{type:"list",member:{}},BS:{type:"list",member:{type:"blob"}}}},Se:{type:"list",member:{}},Sk:{type:"list",member:{shape:"Sl"}},Sl:{type:"map",key:{},value:{shape:"S7"}},So:{type:"map",key:{},value:{type:"list",member:{type:"structure",members:{PutRequest:{type:"structure",required:["Item"],members:{Item:{shape:"Ss"}}},DeleteRequest:{type:"structure",required:["Key"],members:{Key:{shape:"S6"}}}}}}},Ss:{type:"map",key:{},value:{shape:"S7"}},Sy:{type:"structure",required:["HashKeyElement"],members:{HashKeyElement:{shape:"Sz"},RangeKeyElement:{shape:"Sz"}}},Sz:{type:"structure",required:["AttributeName","AttributeType"],members:{AttributeName:{},AttributeType:{}}},S12:{type:"structure",required:["ReadCapacityUnits","WriteCapacityUnits"],members:{ReadCapacityUnits:{type:"long"},WriteCapacityUnits:{type:"long"}}},S15:{type:"structure",members:{TableName:{},KeySchema:{shape:"Sy"},TableStatus:{},CreationDateTime:{type:"timestamp"},ProvisionedThroughput:{type:"structure",members:{LastIncreaseDateTime:{type:"timestamp"},LastDecreaseDateTime:{type:"timestamp"},NumberOfDecreasesToday:{type:"long"},ReadCapacityUnits:{type:"long"},WriteCapacityUnits:{type:"long"}}},TableSizeBytes:{type:"long"},ItemCount:{type:"long"}}},S1b:{type:"map",key:{},value:{type:"structure",members:{Value:{shape:"S7"},Exists:{type:"boolean"}}}},S1u:{type:"structure",required:["ComparisonOperator"],members:{AttributeValueList:{type:"list",member:{shape:"S7"}},ComparisonOperator:{}}}}}});var ly=v((kD,KT)=>{KT.exports={pagination:{BatchGetItem:{input_token:"RequestItems",output_token:"UnprocessedKeys"},ListTables:{input_token:"ExclusiveStartTableName",limit_key:"Limit",output_token:"LastEvaluatedTableName",result_key:"TableNames"},Query:{input_token:"ExclusiveStartKey",limit_key:"Limit",output_token:"LastEvaluatedKey",result_key:"Items"},Scan:{input_token:"ExclusiveStartKey",limit_key:"Limit",output_token:"LastEvaluatedKey",result_key:"Items"}}}});var py=v((FD,WT)=>{WT.exports={version:2,waiters:{TableExists:{delay:20,operation:"DescribeTable",maxAttempts:25,acceptors:[{expected:"ACTIVE",matcher:"path",state:"success",argument:"Table.TableStatus"},{expected:"ResourceNotFoundException",matcher:"error",state:"retry"}]},TableNotExists:{delay:20,operation:"DescribeTable",maxAttempts:25,acceptors:[{expected:"ResourceNotFoundException",matcher:"error",state:"success"}]}}}});var fy=v((BD,VT)=>{VT.exports={version:"2.0",metadata:{apiVersion:"2012-08-10",endpointPrefix:"dynamodb",jsonVersion:"1.0",protocol:"json",serviceAbbreviation:"DynamoDB",serviceFullName:"Amazon DynamoDB",serviceId:"DynamoDB",signatureVersion:"v4",targetPrefix:"DynamoDB_20120810",uid:"dynamodb-2012-08-10"},operations:{BatchExecuteStatement:{input:{type:"structure",required:["Statements"],members:{Statements:{type:"list",member:{type:"structure",required:["Statement"],members:{Statement:{},Parameters:{shape:"S5"},ConsistentRead:{type:"boolean"}}}}}},output:{type:"structure",members:{Responses:{type:"list",member:{type:"structure",members:{Error:{type:"structure",members:{Code:{},Message:{}}},TableName:{},Item:{shape:"Sq"}}}}}}},BatchGetItem:{input:{type:"structure",required:["RequestItems"],members:{RequestItems:{shape:"Ss"},ReturnConsumedCapacity:{}}},output:{type:"structure",members:{Responses:{type:"map",key:{},value:{shape:"S13"}},UnprocessedKeys:{shape:"Ss"},ConsumedCapacity:{shape:"S14"}}},endpointdiscovery:{}},BatchWriteItem:{input:{type:"structure",required:["RequestItems"],members:{RequestItems:{shape:"S1b"},ReturnConsumedCapacity:{},ReturnItemCollectionMetrics:{}}},output:{type:"structure",members:{UnprocessedItems:{shape:"S1b"},ItemCollectionMetrics:{shape:"S1j"},ConsumedCapacity:{shape:"S14"}}},endpointdiscovery:{}},CreateBackup:{input:{type:"structure",required:["TableName","BackupName"],members:{TableName:{},BackupName:{}}},output:{type:"structure",members:{BackupDetails:{shape:"S1s"}}},endpointdiscovery:{}},CreateGlobalTable:{input:{type:"structure",required:["GlobalTableName","ReplicationGroup"],members:{GlobalTableName:{},ReplicationGroup:{shape:"S20"}}},output:{type:"structure",members:{GlobalTableDescription:{shape:"S24"}}},endpointdiscovery:{}},CreateTable:{input:{type:"structure",required:["AttributeDefinitions","TableName","KeySchema"],members:{AttributeDefinitions:{shape:"S2i"},TableName:{},KeySchema:{shape:"S2m"},LocalSecondaryIndexes:{shape:"S2p"},GlobalSecondaryIndexes:{shape:"S2v"},BillingMode:{},ProvisionedThroughput:{shape:"S2x"},StreamSpecification:{shape:"S2z"},SSESpecification:{shape:"S32"},Tags:{shape:"S35"}}},output:{type:"structure",members:{TableDescription:{shape:"S3a"}}},endpointdiscovery:{}},DeleteBackup:{input:{type:"structure",required:["BackupArn"],members:{BackupArn:{}}},output:{type:"structure",members:{BackupDescription:{shape:"S3y"}}},endpointdiscovery:{}},DeleteItem:{input:{type:"structure",required:["TableName","Key"],members:{TableName:{},Key:{shape:"Sv"},Expected:{shape:"S4b"},ConditionalOperator:{},ReturnValues:{},ReturnConsumedCapacity:{},ReturnItemCollectionMetrics:{},ConditionExpression:{},ExpressionAttributeNames:{shape:"Sy"},ExpressionAttributeValues:{shape:"S4j"}}},output:{type:"structure",members:{Attributes:{shape:"Sq"},ConsumedCapacity:{shape:"S15"},ItemCollectionMetrics:{shape:"S1l"}}},endpointdiscovery:{}},DeleteTable:{input:{type:"structure",required:["TableName"],members:{TableName:{}}},output:{type:"structure",members:{TableDescription:{shape:"S3a"}}},endpointdiscovery:{}},DescribeBackup:{input:{type:"structure",required:["BackupArn"],members:{BackupArn:{}}},output:{type:"structure",members:{BackupDescription:{shape:"S3y"}}},endpointdiscovery:{}},DescribeContinuousBackups:{input:{type:"structure",required:["TableName"],members:{TableName:{}}},output:{type:"structure",members:{ContinuousBackupsDescription:{shape:"S4s"}}},endpointdiscovery:{}},DescribeContributorInsights:{input:{type:"structure",required:["TableName"],members:{TableName:{},IndexName:{}}},output:{type:"structure",members:{TableName:{},IndexName:{},ContributorInsightsRuleList:{type:"list",member:{}},ContributorInsightsStatus:{},LastUpdateDateTime:{type:"timestamp"},FailureException:{type:"structure",members:{ExceptionName:{},ExceptionDescription:{}}}}}},DescribeEndpoints:{input:{type:"structure",members:{}},output:{type:"structure",required:["Endpoints"],members:{Endpoints:{type:"list",member:{type:"structure",required:["Address","CachePeriodInMinutes"],members:{Address:{},CachePeriodInMinutes:{type:"long"}}}}}},endpointoperation:!0},DescribeExport:{input:{type:"structure",required:["ExportArn"],members:{ExportArn:{}}},output:{type:"structure",members:{ExportDescription:{shape:"S5c"}}}},DescribeGlobalTable:{input:{type:"structure",required:["GlobalTableName"],members:{GlobalTableName:{}}},output:{type:"structure",members:{GlobalTableDescription:{shape:"S24"}}},endpointdiscovery:{}},DescribeGlobalTableSettings:{input:{type:"structure",required:["GlobalTableName"],members:{GlobalTableName:{}}},output:{type:"structure",members:{GlobalTableName:{},ReplicaSettings:{shape:"S5w"}}},endpointdiscovery:{}},DescribeKinesisStreamingDestination:{input:{type:"structure",required:["TableName"],members:{TableName:{}}},output:{type:"structure",members:{TableName:{},KinesisDataStreamDestinations:{type:"list",member:{type:"structure",members:{StreamArn:{},DestinationStatus:{},DestinationStatusDescription:{}}}}}},endpointdiscovery:{}},DescribeLimits:{input:{type:"structure",members:{}},output:{type:"structure",members:{AccountMaxReadCapacityUnits:{type:"long"},AccountMaxWriteCapacityUnits:{type:"long"},TableMaxReadCapacityUnits:{type:"long"},TableMaxWriteCapacityUnits:{type:"long"}}},endpointdiscovery:{}},DescribeTable:{input:{type:"structure",required:["TableName"],members:{TableName:{}}},output:{type:"structure",members:{Table:{shape:"S3a"}}},endpointdiscovery:{}},DescribeTableReplicaAutoScaling:{input:{type:"structure",required:["TableName"],members:{TableName:{}}},output:{type:"structure",members:{TableAutoScalingDescription:{shape:"S6i"}}}},DescribeTimeToLive:{input:{type:"structure",required:["TableName"],members:{TableName:{}}},output:{type:"structure",members:{TimeToLiveDescription:{shape:"S47"}}},endpointdiscovery:{}},DisableKinesisStreamingDestination:{input:{shape:"S6p"},output:{shape:"S6q"},endpointdiscovery:{}},EnableKinesisStreamingDestination:{input:{shape:"S6p"},output:{shape:"S6q"},endpointdiscovery:{}},ExecuteStatement:{input:{type:"structure",required:["Statement"],members:{Statement:{},Parameters:{shape:"S5"},ConsistentRead:{type:"boolean"},NextToken:{}}},output:{type:"structure",members:{Items:{shape:"S13"},NextToken:{}}}},ExecuteTransaction:{input:{type:"structure",required:["TransactStatements"],members:{TransactStatements:{type:"list",member:{type:"structure",required:["Statement"],members:{Statement:{},Parameters:{shape:"S5"}}}},ClientRequestToken:{idempotencyToken:!0}}},output:{type:"structure",members:{Responses:{shape:"S6z"}}}},ExportTableToPointInTime:{input:{type:"structure",required:["TableArn","S3Bucket"],members:{TableArn:{},ExportTime:{type:"timestamp"},ClientToken:{idempotencyToken:!0},S3Bucket:{},S3BucketOwner:{},S3Prefix:{},S3SseAlgorithm:{},S3SseKmsKeyId:{},ExportFormat:{}}},output:{type:"structure",members:{ExportDescription:{shape:"S5c"}}}},GetItem:{input:{type:"structure",required:["TableName","Key"],members:{TableName:{},Key:{shape:"Sv"},AttributesToGet:{shape:"Sw"},ConsistentRead:{type:"boolean"},ReturnConsumedCapacity:{},ProjectionExpression:{},ExpressionAttributeNames:{shape:"Sy"}}},output:{type:"structure",members:{Item:{shape:"Sq"},ConsumedCapacity:{shape:"S15"}}},endpointdiscovery:{}},ListBackups:{input:{type:"structure",members:{TableName:{},Limit:{type:"integer"},TimeRangeLowerBound:{type:"timestamp"},TimeRangeUpperBound:{type:"timestamp"},ExclusiveStartBackupArn:{},BackupType:{}}},output:{type:"structure",members:{BackupSummaries:{type:"list",member:{type:"structure",members:{TableName:{},TableId:{},TableArn:{},BackupArn:{},BackupName:{},BackupCreationDateTime:{type:"timestamp"},BackupExpiryDateTime:{type:"timestamp"},BackupStatus:{},BackupType:{},BackupSizeBytes:{type:"long"}}}},LastEvaluatedBackupArn:{}}},endpointdiscovery:{}},ListContributorInsights:{input:{type:"structure",members:{TableName:{},NextToken:{},MaxResults:{type:"integer"}}},output:{type:"structure",members:{ContributorInsightsSummaries:{type:"list",member:{type:"structure",members:{TableName:{},IndexName:{},ContributorInsightsStatus:{}}}},NextToken:{}}}},ListExports:{input:{type:"structure",members:{TableArn:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{ExportSummaries:{type:"list",member:{type:"structure",members:{ExportArn:{},ExportStatus:{}}}},NextToken:{}}}},ListGlobalTables:{input:{type:"structure",members:{ExclusiveStartGlobalTableName:{},Limit:{type:"integer"},RegionName:{}}},output:{type:"structure",members:{GlobalTables:{type:"list",member:{type:"structure",members:{GlobalTableName:{},ReplicationGroup:{shape:"S20"}}}},LastEvaluatedGlobalTableName:{}}},endpointdiscovery:{}},ListTables:{input:{type:"structure",members:{ExclusiveStartTableName:{},Limit:{type:"integer"}}},output:{type:"structure",members:{TableNames:{type:"list",member:{}},LastEvaluatedTableName:{}}},endpointdiscovery:{}},ListTagsOfResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{},NextToken:{}}},output:{type:"structure",members:{Tags:{shape:"S35"},NextToken:{}}},endpointdiscovery:{}},PutItem:{input:{type:"structure",required:["TableName","Item"],members:{TableName:{},Item:{shape:"S1f"},Expected:{shape:"S4b"},ReturnValues:{},ReturnConsumedCapacity:{},ReturnItemCollectionMetrics:{},ConditionalOperator:{},ConditionExpression:{},ExpressionAttributeNames:{shape:"Sy"},ExpressionAttributeValues:{shape:"S4j"}}},output:{type:"structure",members:{Attributes:{shape:"Sq"},ConsumedCapacity:{shape:"S15"},ItemCollectionMetrics:{shape:"S1l"}}},endpointdiscovery:{}},Query:{input:{type:"structure",required:["TableName"],members:{TableName:{},IndexName:{},Select:{},AttributesToGet:{shape:"Sw"},Limit:{type:"integer"},ConsistentRead:{type:"boolean"},KeyConditions:{type:"map",key:{},value:{shape:"S86"}},QueryFilter:{shape:"S87"},ConditionalOperator:{},ScanIndexForward:{type:"boolean"},ExclusiveStartKey:{shape:"Sv"},ReturnConsumedCapacity:{},ProjectionExpression:{},FilterExpression:{},KeyConditionExpression:{},ExpressionAttributeNames:{shape:"Sy"},ExpressionAttributeValues:{shape:"S4j"}}},output:{type:"structure",members:{Items:{shape:"S13"},Count:{type:"integer"},ScannedCount:{type:"integer"},LastEvaluatedKey:{shape:"Sv"},ConsumedCapacity:{shape:"S15"}}},endpointdiscovery:{}},RestoreTableFromBackup:{input:{type:"structure",required:["TargetTableName","BackupArn"],members:{TargetTableName:{},BackupArn:{},BillingModeOverride:{},GlobalSecondaryIndexOverride:{shape:"S2v"},LocalSecondaryIndexOverride:{shape:"S2p"},ProvisionedThroughputOverride:{shape:"S2x"},SSESpecificationOverride:{shape:"S32"}}},output:{type:"structure",members:{TableDescription:{shape:"S3a"}}},endpointdiscovery:{}},RestoreTableToPointInTime:{input:{type:"structure",required:["TargetTableName"],members:{SourceTableArn:{},SourceTableName:{},TargetTableName:{},UseLatestRestorableTime:{type:"boolean"},RestoreDateTime:{type:"timestamp"},BillingModeOverride:{},GlobalSecondaryIndexOverride:{shape:"S2v"},LocalSecondaryIndexOverride:{shape:"S2p"},ProvisionedThroughputOverride:{shape:"S2x"},SSESpecificationOverride:{shape:"S32"}}},output:{type:"structure",members:{TableDescription:{shape:"S3a"}}},endpointdiscovery:{}},Scan:{input:{type:"structure",required:["TableName"],members:{TableName:{},IndexName:{},AttributesToGet:{shape:"Sw"},Limit:{type:"integer"},Select:{},ScanFilter:{shape:"S87"},ConditionalOperator:{},ExclusiveStartKey:{shape:"Sv"},ReturnConsumedCapacity:{},TotalSegments:{type:"integer"},Segment:{type:"integer"},ProjectionExpression:{},FilterExpression:{},ExpressionAttributeNames:{shape:"Sy"},ExpressionAttributeValues:{shape:"S4j"},ConsistentRead:{type:"boolean"}}},output:{type:"structure",members:{Items:{shape:"S13"},Count:{type:"integer"},ScannedCount:{type:"integer"},LastEvaluatedKey:{shape:"Sv"},ConsumedCapacity:{shape:"S15"}}},endpointdiscovery:{}},TagResource:{input:{type:"structure",required:["ResourceArn","Tags"],members:{ResourceArn:{},Tags:{shape:"S35"}}},endpointdiscovery:{}},TransactGetItems:{input:{type:"structure",required:["TransactItems"],members:{TransactItems:{type:"list",member:{type:"structure",required:["Get"],members:{Get:{type:"structure",required:["Key","TableName"],members:{Key:{shape:"Sv"},TableName:{},ProjectionExpression:{},ExpressionAttributeNames:{shape:"Sy"}}}}}},ReturnConsumedCapacity:{}}},output:{type:"structure",members:{ConsumedCapacity:{shape:"S14"},Responses:{shape:"S6z"}}},endpointdiscovery:{}},TransactWriteItems:{input:{type:"structure",required:["TransactItems"],members:{TransactItems:{type:"list",member:{type:"structure",members:{ConditionCheck:{type:"structure",required:["Key","TableName","ConditionExpression"],members:{Key:{shape:"Sv"},TableName:{},ConditionExpression:{},ExpressionAttributeNames:{shape:"Sy"},ExpressionAttributeValues:{shape:"S4j"},ReturnValuesOnConditionCheckFailure:{}}},Put:{type:"structure",required:["Item","TableName"],members:{Item:{shape:"S1f"},TableName:{},ConditionExpression:{},ExpressionAttributeNames:{shape:"Sy"},ExpressionAttributeValues:{shape:"S4j"},ReturnValuesOnConditionCheckFailure:{}}},Delete:{type:"structure",required:["Key","TableName"],members:{Key:{shape:"Sv"},TableName:{},ConditionExpression:{},ExpressionAttributeNames:{shape:"Sy"},ExpressionAttributeValues:{shape:"S4j"},ReturnValuesOnConditionCheckFailure:{}}},Update:{type:"structure",required:["Key","UpdateExpression","TableName"],members:{Key:{shape:"Sv"},UpdateExpression:{},TableName:{},ConditionExpression:{},ExpressionAttributeNames:{shape:"Sy"},ExpressionAttributeValues:{shape:"S4j"},ReturnValuesOnConditionCheckFailure:{}}}}}},ReturnConsumedCapacity:{},ReturnItemCollectionMetrics:{},ClientRequestToken:{idempotencyToken:!0}}},output:{type:"structure",members:{ConsumedCapacity:{shape:"S14"},ItemCollectionMetrics:{shape:"S1j"}}},endpointdiscovery:{}},UntagResource:{input:{type:"structure",required:["ResourceArn","TagKeys"],members:{ResourceArn:{},TagKeys:{type:"list",member:{}}}},endpointdiscovery:{}},UpdateContinuousBackups:{input:{type:"structure",required:["TableName","PointInTimeRecoverySpecification"],members:{TableName:{},PointInTimeRecoverySpecification:{type:"structure",required:["PointInTimeRecoveryEnabled"],members:{PointInTimeRecoveryEnabled:{type:"boolean"}}}}},output:{type:"structure",members:{ContinuousBackupsDescription:{shape:"S4s"}}},endpointdiscovery:{}},UpdateContributorInsights:{input:{type:"structure",required:["TableName","ContributorInsightsAction"],members:{TableName:{},IndexName:{},ContributorInsightsAction:{}}},output:{type:"structure",members:{TableName:{},IndexName:{},ContributorInsightsStatus:{}}}},UpdateGlobalTable:{input:{type:"structure",required:["GlobalTableName","ReplicaUpdates"],members:{GlobalTableName:{},ReplicaUpdates:{type:"list",member:{type:"structure",members:{Create:{type:"structure",required:["RegionName"],members:{RegionName:{}}},Delete:{type:"structure",required:["RegionName"],members:{RegionName:{}}}}}}}},output:{type:"structure",members:{GlobalTableDescription:{shape:"S24"}}},endpointdiscovery:{}},UpdateGlobalTableSettings:{input:{type:"structure",required:["GlobalTableName"],members:{GlobalTableName:{},GlobalTableBillingMode:{},GlobalTableProvisionedWriteCapacityUnits:{type:"long"},GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:{shape:"S9e"},GlobalTableGlobalSecondaryIndexSettingsUpdate:{type:"list",member:{type:"structure",required:["IndexName"],members:{IndexName:{},ProvisionedWriteCapacityUnits:{type:"long"},ProvisionedWriteCapacityAutoScalingSettingsUpdate:{shape:"S9e"}}}},ReplicaSettingsUpdate:{type:"list",member:{type:"structure",required:["RegionName"],members:{RegionName:{},ReplicaProvisionedReadCapacityUnits:{type:"long"},ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:{shape:"S9e"},ReplicaGlobalSecondaryIndexSettingsUpdate:{type:"list",member:{type:"structure",required:["IndexName"],members:{IndexName:{},ProvisionedReadCapacityUnits:{type:"long"},ProvisionedReadCapacityAutoScalingSettingsUpdate:{shape:"S9e"}}}}}}}}},output:{type:"structure",members:{GlobalTableName:{},ReplicaSettings:{shape:"S5w"}}},endpointdiscovery:{}},UpdateItem:{input:{type:"structure",required:["TableName","Key"],members:{TableName:{},Key:{shape:"Sv"},AttributeUpdates:{type:"map",key:{},value:{type:"structure",members:{Value:{shape:"S6"},Action:{}}}},Expected:{shape:"S4b"},ConditionalOperator:{},ReturnValues:{},ReturnConsumedCapacity:{},ReturnItemCollectionMetrics:{},UpdateExpression:{},ConditionExpression:{},ExpressionAttributeNames:{shape:"Sy"},ExpressionAttributeValues:{shape:"S4j"}}},output:{type:"structure",members:{Attributes:{shape:"Sq"},ConsumedCapacity:{shape:"S15"},ItemCollectionMetrics:{shape:"S1l"}}},endpointdiscovery:{}},UpdateTable:{input:{type:"structure",required:["TableName"],members:{AttributeDefinitions:{shape:"S2i"},TableName:{},BillingMode:{},ProvisionedThroughput:{shape:"S2x"},GlobalSecondaryIndexUpdates:{type:"list",member:{type:"structure",members:{Update:{type:"structure",required:["IndexName","ProvisionedThroughput"],members:{IndexName:{},ProvisionedThroughput:{shape:"S2x"}}},Create:{type:"structure",required:["IndexName","KeySchema","Projection"],members:{IndexName:{},KeySchema:{shape:"S2m"},Projection:{shape:"S2r"},ProvisionedThroughput:{shape:"S2x"}}},Delete:{type:"structure",required:["IndexName"],members:{IndexName:{}}}}}},StreamSpecification:{shape:"S2z"},SSESpecification:{shape:"S32"},ReplicaUpdates:{type:"list",member:{type:"structure",members:{Create:{type:"structure",required:["RegionName"],members:{RegionName:{},KMSMasterKeyId:{},ProvisionedThroughputOverride:{shape:"S2b"},GlobalSecondaryIndexes:{shape:"Sa3"}}},Update:{type:"structure",required:["RegionName"],members:{RegionName:{},KMSMasterKeyId:{},ProvisionedThroughputOverride:{shape:"S2b"},GlobalSecondaryIndexes:{shape:"Sa3"}}},Delete:{type:"structure",required:["RegionName"],members:{RegionName:{}}}}}}}},output:{type:"structure",members:{TableDescription:{shape:"S3a"}}},endpointdiscovery:{}},UpdateTableReplicaAutoScaling:{input:{type:"structure",required:["TableName"],members:{GlobalSecondaryIndexUpdates:{type:"list",member:{type:"structure",members:{IndexName:{},ProvisionedWriteCapacityAutoScalingUpdate:{shape:"S9e"}}}},TableName:{},ProvisionedWriteCapacityAutoScalingUpdate:{shape:"S9e"},ReplicaUpdates:{type:"list",member:{type:"structure",required:["RegionName"],members:{RegionName:{},ReplicaGlobalSecondaryIndexUpdates:{type:"list",member:{type:"structure",members:{IndexName:{},ProvisionedReadCapacityAutoScalingUpdate:{shape:"S9e"}}}},ReplicaProvisionedReadCapacityAutoScalingUpdate:{shape:"S9e"}}}}}},output:{type:"structure",members:{TableAutoScalingDescription:{shape:"S6i"}}}},UpdateTimeToLive:{input:{type:"structure",required:["TableName","TimeToLiveSpecification"],members:{TableName:{},TimeToLiveSpecification:{shape:"Sah"}}},output:{type:"structure",members:{TimeToLiveSpecification:{shape:"Sah"}}},endpointdiscovery:{}}},shapes:{S5:{type:"list",member:{shape:"S6"}},S6:{type:"structure",members:{S:{},N:{},B:{type:"blob"},SS:{type:"list",member:{}},NS:{type:"list",member:{}},BS:{type:"list",member:{type:"blob"}},M:{type:"map",key:{},value:{shape:"S6"}},L:{type:"list",member:{shape:"S6"}},NULL:{type:"boolean"},BOOL:{type:"boolean"}}},Sq:{type:"map",key:{},value:{shape:"S6"}},Ss:{type:"map",key:{},value:{type:"structure",required:["Keys"],members:{Keys:{type:"list",member:{shape:"Sv"}},AttributesToGet:{shape:"Sw"},ConsistentRead:{type:"boolean"},ProjectionExpression:{},ExpressionAttributeNames:{shape:"Sy"}}}},Sv:{type:"map",key:{},value:{shape:"S6"}},Sw:{type:"list",member:{}},Sy:{type:"map",key:{},value:{}},S13:{type:"list",member:{shape:"Sq"}},S14:{type:"list",member:{shape:"S15"}},S15:{type:"structure",members:{TableName:{},CapacityUnits:{type:"double"},ReadCapacityUnits:{type:"double"},WriteCapacityUnits:{type:"double"},Table:{shape:"S17"},LocalSecondaryIndexes:{shape:"S18"},GlobalSecondaryIndexes:{shape:"S18"}}},S17:{type:"structure",members:{ReadCapacityUnits:{type:"double"},WriteCapacityUnits:{type:"double"},CapacityUnits:{type:"double"}}},S18:{type:"map",key:{},value:{shape:"S17"}},S1b:{type:"map",key:{},value:{type:"list",member:{type:"structure",members:{PutRequest:{type:"structure",required:["Item"],members:{Item:{shape:"S1f"}}},DeleteRequest:{type:"structure",required:["Key"],members:{Key:{shape:"Sv"}}}}}}},S1f:{type:"map",key:{},value:{shape:"S6"}},S1j:{type:"map",key:{},value:{type:"list",member:{shape:"S1l"}}},S1l:{type:"structure",members:{ItemCollectionKey:{type:"map",key:{},value:{shape:"S6"}},SizeEstimateRangeGB:{type:"list",member:{type:"double"}}}},S1s:{type:"structure",required:["BackupArn","BackupName","BackupStatus","BackupType","BackupCreationDateTime"],members:{BackupArn:{},BackupName:{},BackupSizeBytes:{type:"long"},BackupStatus:{},BackupType:{},BackupCreationDateTime:{type:"timestamp"},BackupExpiryDateTime:{type:"timestamp"}}},S20:{type:"list",member:{type:"structure",members:{RegionName:{}}}},S24:{type:"structure",members:{ReplicationGroup:{shape:"S25"},GlobalTableArn:{},CreationDateTime:{type:"timestamp"},GlobalTableStatus:{},GlobalTableName:{}}},S25:{type:"list",member:{type:"structure",members:{RegionName:{},ReplicaStatus:{},ReplicaStatusDescription:{},ReplicaStatusPercentProgress:{},KMSMasterKeyId:{},ProvisionedThroughputOverride:{shape:"S2b"},GlobalSecondaryIndexes:{type:"list",member:{type:"structure",members:{IndexName:{},ProvisionedThroughputOverride:{shape:"S2b"}}}},ReplicaInaccessibleDateTime:{type:"timestamp"}}}},S2b:{type:"structure",members:{ReadCapacityUnits:{type:"long"}}},S2i:{type:"list",member:{type:"structure",required:["AttributeName","AttributeType"],members:{AttributeName:{},AttributeType:{}}}},S2m:{type:"list",member:{type:"structure",required:["AttributeName","KeyType"],members:{AttributeName:{},KeyType:{}}}},S2p:{type:"list",member:{type:"structure",required:["IndexName","KeySchema","Projection"],members:{IndexName:{},KeySchema:{shape:"S2m"},Projection:{shape:"S2r"}}}},S2r:{type:"structure",members:{ProjectionType:{},NonKeyAttributes:{type:"list",member:{}}}},S2v:{type:"list",member:{type:"structure",required:["IndexName","KeySchema","Projection"],members:{IndexName:{},KeySchema:{shape:"S2m"},Projection:{shape:"S2r"},ProvisionedThroughput:{shape:"S2x"}}}},S2x:{type:"structure",required:["ReadCapacityUnits","WriteCapacityUnits"],members:{ReadCapacityUnits:{type:"long"},WriteCapacityUnits:{type:"long"}}},S2z:{type:"structure",required:["StreamEnabled"],members:{StreamEnabled:{type:"boolean"},StreamViewType:{}}},S32:{type:"structure",members:{Enabled:{type:"boolean"},SSEType:{},KMSMasterKeyId:{}}},S35:{type:"list",member:{type:"structure",required:["Key","Value"],members:{Key:{},Value:{}}}},S3a:{type:"structure",members:{AttributeDefinitions:{shape:"S2i"},TableName:{},KeySchema:{shape:"S2m"},TableStatus:{},CreationDateTime:{type:"timestamp"},ProvisionedThroughput:{shape:"S3c"},TableSizeBytes:{type:"long"},ItemCount:{type:"long"},TableArn:{},TableId:{},BillingModeSummary:{shape:"S3g"},LocalSecondaryIndexes:{type:"list",member:{type:"structure",members:{IndexName:{},KeySchema:{shape:"S2m"},Projection:{shape:"S2r"},IndexSizeBytes:{type:"long"},ItemCount:{type:"long"},IndexArn:{}}}},GlobalSecondaryIndexes:{type:"list",member:{type:"structure",members:{IndexName:{},KeySchema:{shape:"S2m"},Projection:{shape:"S2r"},IndexStatus:{},Backfilling:{type:"boolean"},ProvisionedThroughput:{shape:"S3c"},IndexSizeBytes:{type:"long"},ItemCount:{type:"long"},IndexArn:{}}}},StreamSpecification:{shape:"S2z"},LatestStreamLabel:{},LatestStreamArn:{},GlobalTableVersion:{},Replicas:{shape:"S25"},RestoreSummary:{type:"structure",required:["RestoreDateTime","RestoreInProgress"],members:{SourceBackupArn:{},SourceTableArn:{},RestoreDateTime:{type:"timestamp"},RestoreInProgress:{type:"boolean"}}},SSEDescription:{shape:"S3r"},ArchivalSummary:{type:"structure",members:{ArchivalDateTime:{type:"timestamp"},ArchivalReason:{},ArchivalBackupArn:{}}}}},S3c:{type:"structure",members:{LastIncreaseDateTime:{type:"timestamp"},LastDecreaseDateTime:{type:"timestamp"},NumberOfDecreasesToday:{type:"long"},ReadCapacityUnits:{type:"long"},WriteCapacityUnits:{type:"long"}}},S3g:{type:"structure",members:{BillingMode:{},LastUpdateToPayPerRequestDateTime:{type:"timestamp"}}},S3r:{type:"structure",members:{Status:{},SSEType:{},KMSMasterKeyArn:{},InaccessibleEncryptionDateTime:{type:"timestamp"}}},S3y:{type:"structure",members:{BackupDetails:{shape:"S1s"},SourceTableDetails:{type:"structure",required:["TableName","TableId","KeySchema","TableCreationDateTime","ProvisionedThroughput"],members:{TableName:{},TableId:{},TableArn:{},TableSizeBytes:{type:"long"},KeySchema:{shape:"S2m"},TableCreationDateTime:{type:"timestamp"},ProvisionedThroughput:{shape:"S2x"},ItemCount:{type:"long"},BillingMode:{}}},SourceTableFeatureDetails:{type:"structure",members:{LocalSecondaryIndexes:{type:"list",member:{type:"structure",members:{IndexName:{},KeySchema:{shape:"S2m"},Projection:{shape:"S2r"}}}},GlobalSecondaryIndexes:{type:"list",member:{type:"structure",members:{IndexName:{},KeySchema:{shape:"S2m"},Projection:{shape:"S2r"},ProvisionedThroughput:{shape:"S2x"}}}},StreamDescription:{shape:"S2z"},TimeToLiveDescription:{shape:"S47"},SSEDescription:{shape:"S3r"}}}}},S47:{type:"structure",members:{TimeToLiveStatus:{},AttributeName:{}}},S4b:{type:"map",key:{},value:{type:"structure",members:{Value:{shape:"S6"},Exists:{type:"boolean"},ComparisonOperator:{},AttributeValueList:{shape:"S4f"}}}},S4f:{type:"list",member:{shape:"S6"}},S4j:{type:"map",key:{},value:{shape:"S6"}},S4s:{type:"structure",required:["ContinuousBackupsStatus"],members:{ContinuousBackupsStatus:{},PointInTimeRecoveryDescription:{type:"structure",members:{PointInTimeRecoveryStatus:{},EarliestRestorableDateTime:{type:"timestamp"},LatestRestorableDateTime:{type:"timestamp"}}}}},S5c:{type:"structure",members:{ExportArn:{},ExportStatus:{},StartTime:{type:"timestamp"},EndTime:{type:"timestamp"},ExportManifest:{},TableArn:{},TableId:{},ExportTime:{type:"timestamp"},ClientToken:{},S3Bucket:{},S3BucketOwner:{},S3Prefix:{},S3SseAlgorithm:{},S3SseKmsKeyId:{},FailureCode:{},FailureMessage:{},ExportFormat:{},BilledSizeBytes:{type:"long"},ItemCount:{type:"long"}}},S5w:{type:"list",member:{type:"structure",required:["RegionName"],members:{RegionName:{},ReplicaStatus:{},ReplicaBillingModeSummary:{shape:"S3g"},ReplicaProvisionedReadCapacityUnits:{type:"long"},ReplicaProvisionedReadCapacityAutoScalingSettings:{shape:"S5y"},ReplicaProvisionedWriteCapacityUnits:{type:"long"},ReplicaProvisionedWriteCapacityAutoScalingSettings:{shape:"S5y"},ReplicaGlobalSecondaryIndexSettings:{type:"list",member:{type:"structure",required:["IndexName"],members:{IndexName:{},IndexStatus:{},ProvisionedReadCapacityUnits:{type:"long"},ProvisionedReadCapacityAutoScalingSettings:{shape:"S5y"},ProvisionedWriteCapacityUnits:{type:"long"},ProvisionedWriteCapacityAutoScalingSettings:{shape:"S5y"}}}}}}},S5y:{type:"structure",members:{MinimumUnits:{type:"long"},MaximumUnits:{type:"long"},AutoScalingDisabled:{type:"boolean"},AutoScalingRoleArn:{},ScalingPolicies:{type:"list",member:{type:"structure",members:{PolicyName:{},TargetTrackingScalingPolicyConfiguration:{type:"structure",required:["TargetValue"],members:{DisableScaleIn:{type:"boolean"},ScaleInCooldown:{type:"integer"},ScaleOutCooldown:{type:"integer"},TargetValue:{type:"double"}}}}}}}},S6i:{type:"structure",members:{TableName:{},TableStatus:{},Replicas:{type:"list",member:{type:"structure",members:{RegionName:{},GlobalSecondaryIndexes:{type:"list",member:{type:"structure",members:{IndexName:{},IndexStatus:{},ProvisionedReadCapacityAutoScalingSettings:{shape:"S5y"},ProvisionedWriteCapacityAutoScalingSettings:{shape:"S5y"}}}},ReplicaProvisionedReadCapacityAutoScalingSettings:{shape:"S5y"},ReplicaProvisionedWriteCapacityAutoScalingSettings:{shape:"S5y"},ReplicaStatus:{}}}}}},S6p:{type:"structure",required:["TableName","StreamArn"],members:{TableName:{},StreamArn:{}}},S6q:{type:"structure",members:{TableName:{},StreamArn:{},DestinationStatus:{}}},S6z:{type:"list",member:{type:"structure",members:{Item:{shape:"Sq"}}}},S86:{type:"structure",required:["ComparisonOperator"],members:{AttributeValueList:{shape:"S4f"},ComparisonOperator:{}}},S87:{type:"map",key:{},value:{shape:"S86"}},S9e:{type:"structure",members:{MinimumUnits:{type:"long"},MaximumUnits:{type:"long"},AutoScalingDisabled:{type:"boolean"},AutoScalingRoleArn:{},ScalingPolicyUpdate:{type:"structure",required:["TargetTrackingScalingPolicyConfiguration"],members:{PolicyName:{},TargetTrackingScalingPolicyConfiguration:{type:"structure",required:["TargetValue"],members:{DisableScaleIn:{type:"boolean"},ScaleInCooldown:{type:"integer"},ScaleOutCooldown:{type:"integer"},TargetValue:{type:"double"}}}}}}},Sa3:{type:"list",member:{type:"structure",required:["IndexName"],members:{IndexName:{},ProvisionedThroughputOverride:{shape:"S2b"}}}},Sah:{type:"structure",required:["Enabled","AttributeName"],members:{Enabled:{type:"boolean"},AttributeName:{}}}}}});var dy=v((UD,GT)=>{GT.exports={pagination:{BatchGetItem:{input_token:"RequestItems",output_token:"UnprocessedKeys"},ListContributorInsights:{input_token:"NextToken",limit_key:"MaxResults",output_token:"NextToken"},ListExports:{input_token:"NextToken",limit_key:"MaxResults",output_token:"NextToken"},ListTables:{input_token:"ExclusiveStartTableName",limit_key:"Limit",output_token:"LastEvaluatedTableName",result_key:"TableNames"},Query:{input_token:"ExclusiveStartKey",limit_key:"Limit",output_token:"LastEvaluatedKey",result_key:"Items"},Scan:{input_token:"ExclusiveStartKey",limit_key:"Limit",output_token:"LastEvaluatedKey",result_key:"Items"}}}});var hy=v((jD,HT)=>{HT.exports={version:2,waiters:{TableExists:{delay:20,operation:"DescribeTable",maxAttempts:25,acceptors:[{expected:"ACTIVE",matcher:"path",state:"success",argument:"Table.TableStatus"},{expected:"ResourceNotFoundException",matcher:"error",state:"retry"}]},TableNotExists:{delay:20,operation:"DescribeTable",maxAttempts:25,acceptors:[{expected:"ResourceNotFoundException",matcher:"error",state:"success"}]}}}});var yy=v((KD,my)=>{Ri();var Li=K(),XT=Li.Service,Ro=Li.apiLoader;Ro.services.dynamodb={};Li.DynamoDB=XT.defineService("dynamodb",["2011-12-05","2012-08-10"]);uy();Object.defineProperty(Ro.services.dynamodb,"2011-12-05",{get:s(function(){var e=cy();return e.paginators=ly().pagination,e.waiters=py().waiters,e},"get"),enumerable:!0,configurable:!0});Object.defineProperty(Ro.services.dynamodb,"2012-08-10",{get:s(function(){var e=fy();return e.paginators=dy().pagination,e.waiters=hy().waiters,e},"get"),enumerable:!0,configurable:!0});my.exports=Li.DynamoDB});var ir=v(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var zT=yy(),nt=lr(),No=class{constructor(e){this.dynamoDB=e||new zT}putItem(e){return nt.dynamoEasyConfig.sessionValidityEnsurer().then(()=>this.dynamoDB.putItem(e).promise())}getItem(e){return nt.dynamoEasyConfig.sessionValidityEnsurer().then(()=>this.dynamoDB.getItem(e).promise())}updateItem(e){return nt.dynamoEasyConfig.sessionValidityEnsurer().then(()=>this.dynamoDB.updateItem(e).promise())}deleteItem(e){return nt.dynamoEasyConfig.sessionValidityEnsurer().then(()=>this.dynamoDB.deleteItem(e).promise())}batchWriteItem(e){return nt.dynamoEasyConfig.sessionValidityEnsurer().then(()=>this.dynamoDB.batchWriteItem(e).promise())}batchGetItems(e){return nt.dynamoEasyConfig.sessionValidityEnsurer().then(()=>this.dynamoDB.batchGetItem(e).promise())}transactWriteItems(e){return nt.dynamoEasyConfig.sessionValidityEnsurer().then(()=>this.dynamoDB.transactWriteItems(e).promise())}transactGetItems(e){return nt.dynamoEasyConfig.sessionValidityEnsurer().then(()=>this.dynamoDB.transactGetItems(e).promise())}scan(e){return nt.dynamoEasyConfig.sessionValidityEnsurer().then(()=>this.dynamoDB.scan(e).promise())}query(e){if(!e.KeyConditionExpression)throw new Error("key condition expression must be defined");return nt.dynamoEasyConfig.sessionValidityEnsurer().then(()=>this.dynamoDB.query(e).promise())}makeRequest(e,r){return nt.dynamoEasyConfig.sessionValidityEnsurer().then(()=>this.dynamoDB.makeRequest(e,r).promise())}};s(No,"DynamoDbWrapper");qo.DynamoDbWrapper=No});var jt=v(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});var $T=lr(),YT=fr(),JT=Nt(),QT=/^[a-zA-Z0-9_\-.]{3,255}$/;function ZT(t){let e=t instanceof YT.Metadata?t.modelOptions:JT.metadataForModel(t).modelOptions,r=$T.dynamoEasyConfig.tableNameResolver(e.tableName);if(!QT.test(r))throw new Error(`make sure the table name \xAB${r}\xBB is valid (see http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Limits.html#limits-naming-rules for details)`);return r}s(ZT,"getTableName");Po.getTableName=ZT});var Mo=v(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});function eC(t){return e=>new Promise((r,n)=>{setTimeout(()=>r(e),t)})}s(eC,"promiseDelay");Oo.promiseDelay=eC});var Lo=v(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var tC=Mo();function gy(t,e,r,n){return t.batchGetItems(e).then(i=>vy(i)?Promise.resolve(i.UnprocessedKeys).then(tC.promiseDelay(r.next().value*n)).then(a=>{let o=Object.assign({},e,{RequestItems:a});return gy(t,o,r,n)}).then(by(i)):i)}s(gy,"batchGetItemsFetchAll");gn.batchGetItemsFetchAll=gy;function vy(t){return t.UnprocessedKeys?Object.values(t.UnprocessedKeys).some(e=>!!e&&e.Keys&&e.Keys.length>0):!1}s(vy,"hasUnprocessedKeys");gn.hasUnprocessedKeys=vy;function by(t){return e=>{let r=Object.keys(t.Responses||{});Object.keys(e.Responses||{}).filter(i=>!r.includes(i)).forEach(i=>r.push(i));let n=r.reduce((i,a)=>Object.assign({},i,{[a]:[...t.Responses&&t.Responses[a]||[],...e.Responses&&e.Responses[a]||[]]}),{});return Object.assign({},e,{Responses:n})}}s(by,"combineBatchGetResponses");gn.combineBatchGetResponses=by});var Fi=v(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.BATCH_GET_MAX_REQUEST_ITEM_COUNT=100;ki.BATCH_GET_DEFAULT_TIME_SLOT=1e3});var Sy=v(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});var rC=Nt(),Bi=Mr(),_y=pe(),nC=ir(),iC=jt(),sC=Lo(),_r=Fi(),ko=class{constructor(e){this.tables=new Map,this.itemCounter=0,this.mapResponse=r=>{let n={};return r.Responses&&Object.keys(r.Responses).length&&(n=Object.entries(r.Responses).reduce((i,[a,o])=>(i[a]=o.map(u=>_y.fromDb(u,this.tables.get(a))),i),{})),{ConsumedCapacity:r.ConsumedCapacity,UnprocessedKeys:r.UnprocessedKeys,Responses:n}},this.dynamoDBWrapper=new nC.DynamoDbWrapper(e),this.params={RequestItems:{}}}get dynamoDB(){return this.dynamoDBWrapper.dynamoDB}returnConsumedCapacity(e){return this.params.ReturnConsumedCapacity=e,this}forModel(e,r,n=!1){let i=rC.metadataForModel(e);if(!i.modelOptions)throw new Error("given ModelConstructor has no @Model decorator");let a=iC.getTableName(i);if(this.tables.has(a))throw new Error("table name already exists, please provide all the keys for the same table at once");if(this.tables.set(a,e),this.itemCounter+r.length>_r.BATCH_GET_MAX_REQUEST_ITEM_COUNT)throw new Error(`you can request at max ${_r.BATCH_GET_MAX_REQUEST_ITEM_COUNT} items per request`);return this.params.RequestItems[a]={Keys:r.map(_y.createToKeyFn(e)),ConsistentRead:n},this.itemCounter+=r.length,this}execNoMap(e=Bi.randomExponentialBackoffTimer,r=_r.BATCH_GET_DEFAULT_TIME_SLOT){return this.fetch(e,r)}execFullResponse(e=Bi.randomExponentialBackoffTimer,r=_r.BATCH_GET_DEFAULT_TIME_SLOT){return this.fetch(e,r).then(this.mapResponse)}exec(e=Bi.randomExponentialBackoffTimer,r=_r.BATCH_GET_DEFAULT_TIME_SLOT){return this.fetch(e,r).then(this.mapResponse).then(n=>n.Responses)}fetch(e=Bi.randomExponentialBackoffTimer,r=_r.BATCH_GET_DEFAULT_TIME_SLOT){return sC.batchGetItemsFetchAll(this.dynamoDBWrapper,Object.assign({},this.params),e(),r)}};s(ko,"BatchGetRequest");Fo.BatchGetRequest=ko});var Ty=v(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});var Ey=Se();Ey.__exportStar(Sy(),Ui);Ey.__exportStar(Fi(),Ui)});var Bo=v(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});var aC=Mo();function Cy(t,e,r,n){return t.batchWriteItem(e).then(i=>Ay(i)?Promise.resolve(i.UnprocessedItems).then(aC.promiseDelay(r.next().value*n)).then(a=>{let o=Object.assign({},e,{RequestItems:a});return Cy(t,o,r,n)}):i)}s(Cy,"batchWriteItemsWriteAll");ji.batchWriteItemsWriteAll=Cy;function Ay(t){return t.UnprocessedItems?Object.values(t.UnprocessedItems).some(e=>!!e&&e.length>0):!1}s(Ay,"hasUnprocessedItems");ji.hasUnprocessedItems=Ay});var Wi=v(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.BATCH_WRITE_MAX_REQUEST_ITEM_COUNT=25;Ki.BATCH_WRITE_DEFAULT_TIME_SLOT=1e3});var Iy=v(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var xy=Mr(),wy=pe(),oC=ir(),uC=jt(),cC=Bo(),Vi=Wi(),Uo=class{constructor(e){this.itemCount=0,this.createDeleteRequest=r=>{let n=wy.createToKeyFn(r);return i=>({DeleteRequest:{Key:n(i)}})},this.createPutRequest=r=>n=>({PutRequest:{Item:wy.toDb(n,r)}}),this.dynamoDBWrapper=new oC.DynamoDbWrapper(e),this.params={RequestItems:{}}}get dynamoDB(){return this.dynamoDBWrapper.dynamoDB}returnConsumedCapacity(e){return this.params.ReturnConsumedCapacity=e,this}returnItemCollectionMetrics(e){return this.params.ReturnItemCollectionMetrics=e,this}delete(e,r){return this.requestItems(e,r.map(this.createDeleteRequest(e))),this}put(e,r){return this.requestItems(e,r.map(this.createPutRequest(e))),this}exec(e=xy.randomExponentialBackoffTimer,r=Vi.BATCH_WRITE_DEFAULT_TIME_SLOT){return this.write(e,r).then(()=>{})}execFullResponse(e=xy.randomExponentialBackoffTimer,r=Vi.BATCH_WRITE_DEFAULT_TIME_SLOT){return this.write(e,r)}requestItems(e,r){if(this.itemCount+r.length>Vi.BATCH_WRITE_MAX_REQUEST_ITEM_COUNT)throw new Error(`batch write takes at max ${Vi.BATCH_WRITE_MAX_REQUEST_ITEM_COUNT} items`);let n=uC.getTableName(e);this.params.RequestItems[n]=this.params.RequestItems[n]||[],this.params.RequestItems[n].push(...r),this.itemCount+=r.length}write(e,r){return cC.batchWriteItemsWriteAll(this.dynamoDBWrapper,Object.assign({},this.params),e(),r)}};s(Uo,"BatchWriteRequest");jo.BatchWriteRequest=Uo});var Ry=v(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});var Dy=Se();Dy.__exportStar(Iy(),Gi);Dy.__exportStar(Wi(),Gi)});var Sr=v(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});function lC(t){return e=>(t(e),Promise.resolve(e))}s(lC,"promiseTap");Ko.promiseTap=lC});var vn=v(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var pC=Nt(),fC=jt(),Wo=class{constructor(e,r){if(this.dynamoDBWrapper=e,r==null)throw new Error("please provide the ModelConstructor for the request, won't work otherwise");if(this.modelClazz=r,this.metadata=pC.metadataForModel(this.modelClazz),!this.metadata.modelOptions)throw new Error("given ModelConstructor has no @Model decorator");this.tableName=fC.getTableName(this.metadata),this.params={}}returnConsumedCapacity(e){return this.params.ReturnConsumedCapacity=e,this}};s(Wo,"BaseRequest");Vo.BaseRequest=Wo});var Hi=v(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var Ny=ca();function dC(t,e){let r,n={};if(new RegExp(Ny.NESTED_ATTR_PATH_REGEX).test(t)){let i=new RegExp(Ny.NESTED_ATTR_PATH_CAPTURED_REGEX),a=[],o,u=[];for(;(o=i.exec(t))!==null;){let c=o[1];a.push(o[1]);let p=o[2],h=e&&e.forProperty(a.join("."));n[`#${c}`]=h?h.nameDb:c,p!==void 0?u.push(`#${c}[${p}]`):u.push(`#${c}`)}r=u.join(".")}else{let i=e&&e.forProperty(t);n[`#${t}`]=i?i.nameDb:t,r=`#${t}`}return{placeholder:r,attributeNames:n}}s(dC,"resolveAttributeNames");Go.resolveAttributeNames=dC});var Xi=v(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var hC=Hi();function mC(t,e,r){let n=t.map(i=>hC.resolveAttributeNames(i,r));e.ProjectionExpression=n.map(i=>i.placeholder).join(", "),n.forEach(i=>{e.ExpressionAttributeNames=Object.assign({},e.ExpressionAttributeNames,i.attributeNames)})}s(mC,"addProjectionExpressionParam");Ho.addProjectionExpressionParam=mC});var Yo=v($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var Xo=Sr(),zi=Mr(),yC=je(),qy=pe(),gC=Lo(),Er=Fi(),vC=vn(),bC=Xi(),zo=class extends vC.BaseRequest{constructor(e,r,n){super(e,r);if(this.mapResponse=i=>{let a=[];return i.Responses&&Object.keys(i.Responses).length&&i.Responses[this.tableName]&&(a=i.Responses[this.tableName].map(u=>qy.fromDb(u,this.modelClazz))),{Items:a,UnprocessedKeys:i.UnprocessedKeys,ConsumedCapacity:i.ConsumedCapacity}},this.logger=yC.createLogger("dynamo.request.BatchGetSingleTableRequest",r),n.length>Er.BATCH_GET_MAX_REQUEST_ITEM_COUNT)throw new Error(`you can request at max ${Er.BATCH_GET_MAX_REQUEST_ITEM_COUNT} items per request`);this.params.RequestItems={[this.tableName]:{Keys:n.map(qy.createToKeyFn(r))}}}consistentRead(e=!0){return this.params.RequestItems[this.tableName].ConsistentRead=e,this}projectionExpression(...e){return bC.addProjectionExpressionParam(e,this.params.RequestItems[this.tableName],this.metadata),this}execNoMap(e=zi.randomExponentialBackoffTimer,r=Er.BATCH_GET_DEFAULT_TIME_SLOT){return this.fetch(e,r)}execFullResponse(e=zi.randomExponentialBackoffTimer,r=Er.BATCH_GET_DEFAULT_TIME_SLOT){return this.fetch(e,r).then(this.mapResponse).then(Xo.promiseTap(n=>this.logger.debug("mapped items",n.Items)))}exec(e=zi.randomExponentialBackoffTimer,r=Er.BATCH_GET_DEFAULT_TIME_SLOT){return this.fetch(e,r).then(this.mapResponse).then(n=>n.Items).then(Xo.promiseTap(n=>this.logger.debug("mapped items",n)))}fetch(e=zi.randomExponentialBackoffTimer,r=Er.BATCH_GET_DEFAULT_TIME_SLOT){return this.logger.debug("request",this.params),gC.batchGetItemsFetchAll(this.dynamoDBWrapper,Object.assign({},this.params),e(),r).then(Xo.promiseTap(n=>this.logger.debug("response",n)))}};s(zo,"BatchGetSingleTableRequest");$o.BatchGetSingleTableRequest=zo});var My=v(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});var Py=Mr(),_C=je(),Oy=pe(),SC=Bo(),Tr=Wi(),EC=vn(),Jo=class extends EC.BaseRequest{constructor(e,r){super(e,r);this.toKey=Oy.createToKeyFn(this.modelClazz),this.createDeleteRequest=n=>({DeleteRequest:{Key:this.toKey(n)}}),this.createPutRequest=n=>({PutRequest:{Item:Oy.toDb(n,this.modelClazz)}}),this.logger=_C.createLogger("dynamo.request.BatchWriteSingleTableRequest",r),this.params.RequestItems={[this.tableName]:[]}}returnItemCollectionMetrics(e){return this.params.ReturnItemCollectionMetrics=e,this}delete(e){if(this.params.RequestItems[this.tableName].length+e.length>Tr.BATCH_WRITE_MAX_REQUEST_ITEM_COUNT)throw new Error(`batch write takes at max ${Tr.BATCH_WRITE_MAX_REQUEST_ITEM_COUNT} items`);return this.params.RequestItems[this.tableName].push(...e.map(this.createDeleteRequest)),this}put(e){if(this.params.RequestItems[this.tableName].length+e.length>Tr.BATCH_WRITE_MAX_REQUEST_ITEM_COUNT)throw new Error(`batch write takes at max ${Tr.BATCH_WRITE_MAX_REQUEST_ITEM_COUNT} items`);return this.params.RequestItems[this.tableName].push(...e.map(this.createPutRequest)),this}exec(e=Py.randomExponentialBackoffTimer,r=Tr.BATCH_WRITE_DEFAULT_TIME_SLOT){return this.logger.debug("starting batchWriteItem"),this.write(e,r).then(()=>{})}execFullResponse(e=Py.randomExponentialBackoffTimer,r=Tr.BATCH_WRITE_DEFAULT_TIME_SLOT){return this.write(e,r)}write(e,r){return SC.batchWriteItemsWriteAll(this.dynamoDBWrapper,Object.assign({},this.params),e(),r)}};s(Jo,"BatchWriteSingleTableRequest");Qo.BatchWriteSingleTableRequest=Jo});var Ly=v(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});function TC(t,...e){return`_at_${e[0]}`}s(TC,"attributeNameReplacer");Zo.attributeNameReplacer=TC});var _n=v(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});var CC=Ly();bn.BRACED_INDEX_REGEX=/\[(\d+)]/g;function AC(t,e){t=t.replace(/\./g,"__").replace(bn.BRACED_INDEX_REGEX,CC.attributeNameReplacer);let r=`:${t}`,n=1;if(e&&e.length)for(;e.includes(r);)n++,r=`:${t}_${n}`;return r}s(AC,"uniqueAttributeValueName");bn.uniqueAttributeValueName=AC});var tu=v(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});var xC=_n();function wC(t,e){return(r,n)=>{let i={statement:"",attributeNames:{},attributeValues:{}},a=[];return e.forEach(o=>{let u=o(r,n);i.attributeNames=Object.assign({},i.attributeNames,u.attributeNames);let c={};Object.keys(u.attributeValues).forEach(p=>{let h=xC.uniqueAttributeValueName(p.replace(":",""),Object.keys(i.attributeValues));p!==h&&(u.statement=u.statement.replace(p,h)),c[h]=u.attributeValues[p]}),i.attributeValues=Object.assign({},i.attributeValues,c),a.push(u.statement)}),i.statement=a.length===1?a[0]:`(${a.join(" "+t+" ")})`,i}}s(wC,"mergeConditions");eu.mergeConditions=wC});var $i=v(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});var IC=tu();function DC(...t){return IC.mergeConditions("AND",t)}s(DC,"and");ru.and=DC});var iu=v(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});function RC(t,e){return s(function r(){e==null&&(e=t.length);let n=[].slice.call(arguments);return n.length>=e?t.apply(this,n):function(){return r.apply(this,n.concat([].slice.call(arguments)))}},"curried")}s(RC,"curry");nu.curry=RC});var Fy=v(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});var NC=Ir(),qC=Dr();function PC(t){return t!=null&&typeof t=="object"&&Array.isArray(t)===!1}s(PC,"isObject");function ky(t){return PC(t)===!0&&NC.getTag(t)===qC.Tag.OBJECT}s(ky,"isObjectObject");function OC(t){return!(!ky(t)||typeof t.constructor!="function"||!ky(t.constructor.prototype)||!t.constructor.prototype.hasOwnProperty("isPrototypeOf"))}s(OC,"isPlainObject");su.isPlainObject=OC});var By=v(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.FUNCTION_OPERATORS=["attribute_exists","attribute_not_exists","attribute_type","begins_with","contains","not_contains","IN","BETWEEN"]});var uu=v(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});var MC=By();function LC(t){return MC.FUNCTION_OPERATORS.includes(t)}s(LC,"isFunctionOperator");ou.isFunctionOperator=LC});var Uy=v(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.NON_PARAM_FUNCTION_OPERATORS=["attribute_exists","attribute_not_exists"]});var pu=v(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});var kC=Uy();function FC(t){return kC.NON_PARAM_FUNCTION_OPERATORS.includes(t)}s(FC,"isNoParamFunctionOperator");lu.isNoParamFunctionOperator=FC});var jy=v(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});var BC=uu(),UC=pu();function jC(t){if(BC.isFunctionOperator(t)&&UC.isNoParamFunctionOperator(t))return 0;switch(t){case"=":case">":case">=":case"<":case"<=":case"<>":case"begins_with":case"attribute_type":case"contains":case"not_contains":case"IN":return 1;case"BETWEEN":return 2;default:throw new Error(`no parameter arity defined for operator ${t}`)}}s(jC,"operatorParameterArity");fu.operatorParameterArity=jC});var du=v(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});var KC=qt(),Ky=pe(),Wy=Ht(),WC=hu(),VC=Hi(),GC=_n();function HC(t,e,r,n,i){r=WC.deepFilter(r,c=>c!==void 0)||[];let a;i&&(a=i.forProperty(t));let o=VC.resolveAttributeNames(t,i),u=GC.uniqueAttributeValueName(t,n);return XC(t,o.placeholder,u,o.attributeNames,r,n,a,e)}s(HC,"buildUpdateExpression");Yi.buildUpdateExpression=HC;function XC(t,e,r,n,i,a,o,u){let c={},p=null;zC(u.action)||(["removeFromSet","add"].includes(u.action)&&Array.isArray(i[0])?i[0]=new Set(i[0]):["appendToList"].includes(u.action)&&Wy.isSet(i[0])&&(i[0]=[...i[0]]),/\[\d+\]$/.test(t)?p=Ky.toDbOne(i[0],Wy.getPropertyPath(o,t),KC.alterCollectionPropertyMetadataForSingleItem(o)):p=Ky.toDbOne(i[0],o),p&&(c[r]=p));let h;switch(u.action){case"incrementBy":Sn(u.action,p,"N"),h=`${e} = ${e} + ${r}`;break;case"decrementBy":Sn(u.action,p,"N"),h=`${e} = ${e} - ${r}`;break;case"set":i.length>1&&!!i[i.length-1]?h=`${e} = if_not_exists(${e}, ${r})`:h=`${e} = ${r}`;break;case"appendToList":i.length>1&&i[i.length-1]==="START"?h=`${e} = list_append(${r}, ${e})`:h=`${e} = list_append(${e}, ${r})`;break;case"remove":h=`${e}`;break;case"removeFromListAt":h=i.map(m=>`${e}[${m}]`).join(", ");break;case"add":Sn(u.action,p,"N","SS","NS","BS"),h=`${e} ${r}`;break;case"removeFromSet":Sn(u.action,p,"SS","NS","BS"),h=`${e} ${r}`;break;default:throw new Error(`no implementation for action ${u.action}`)}return{type:u.actionKeyword,statement:h,attributeNames:n,attributeValues:c}}s(XC,"buildDefaultExpression");function zC(t){return t==="remove"||t==="removeFromListAt"}s(zC,"isNoAttributeValueAction");function Sn(t,e,...r){if(e==null)throw new Error(`${t} requires an attributeValue of ${r.join(", ")} but non was given`);let n=Object.keys(e)[0];if(!r.includes(n))throw new Error(`Type ${n} of ${JSON.stringify(e)} is not allowed for ${t}. Valid types are: ${r.join(". ")}`)}s(Sn,"validateAttributeType");Yi.validateAttributeType=Sn});var yu=v(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});function $C(t,e){let r=Object.keys(e),n=Object.values(e);return new Function(...r,`return \`${t}\`;`)(...n)}s($C,"dynamicTemplate");mu.dynamicTemplate=$C});var hu=v(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var YC=qt(),JC=iu(),QC=Fy(),En=pe(),Ji=Ht(),ZC=Hi(),Qi=uu(),gu=pu(),vu=jy(),Vy=_n(),Tn=du(),Cn=yu();function An(t,e){if(Array.isArray(t)){let r=[];return t.forEach(n=>{let i=An(n,e);i!==null&&r.push(i)}),r.length?r:null}else if(t instanceof Set){let r=[];return Array.from(t).forEach(n=>{let i=An(n,e);i!==null&&r.push(i)}),r.length?new Set(r):null}else if(QC.isPlainObject(t)){let r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],a=An(i,e);a!==null&&(r[n]=a)}return Object.keys(r).length?r:null}else return e(t)?t:null}s(An,"deepFilter");Le.deepFilter=An;function eA(t,e,r,n,i){r=An(r,p=>p!==void 0),iA(e,r);let a;i&&(a=i.forProperty(t));let o=ZC.resolveAttributeNames(t,i),u=Vy.uniqueAttributeValueName(t,n),c;switch(e){case"IN":c=tA;break;case"BETWEEN":c=rA;break;default:c=JC.curry(nA)(e)}return c(t,o.placeholder,u,o.attributeNames,r,n,a)}s(eA,"buildFilterExpression");Le.buildFilterExpression=eA;function tA(t,e,r,n,i,a,o){let u=i[0].map(p=>En.toDbOne(p,o)).reduce((p,h,m)=>(h!==null&&(Tn.validateAttributeType("IN condition",h,"S","N","B"),p[`${r}_${m}`]=h),p),{}),c=i[0].map((p,h)=>`${r}_${h}`).join(", ");return{statement:`${e} IN (${c})`,attributeNames:n,attributeValues:u}}s(tA,"buildInConditionExpression");function rA(t,e,r,n,i,a,o){let u={},c=En.toDbOne(i[0],o),p=En.toDbOne(i[1],o);if(c===null||p===null)throw new Error("make sure to provide an actual value for te BETWEEN operator");[c,p].forEach(T=>Tn.validateAttributeType("between",T,"S","N","B"));let h=Vy.uniqueAttributeValueName(t,[r].concat(a||[])),m=`${e} BETWEEN ${r} AND ${h}`;return u[r]=c,u[h]=p,{statement:m,attributeNames:n,attributeValues:u}}s(rA,"buildBetweenConditionExpression");function nA(t,e,r,n,i,a,o,u){let c,p=!0;Qi.isFunctionOperator(t)?gu.isNoParamFunctionOperator(t)?(c=`${t} (${r})`,p=!1):c=`${t} (${r}, ${n})`:c=[r,t,n].join(" ");let h={};if(p){let m;if(t==="contains"||t==="not_contains")m=En.toDbOne(a[0],YC.alterCollectionPropertyMetadataForSingleItem(u)),Tn.validateAttributeType(`${t} condition`,m,"N","S","B");else switch(m=En.toDbOne(a[0],u),t){case"begins_with":Tn.validateAttributeType(`${t} condition`,m,"S","B");break;case"<":case"<=":case">":case">=":Tn.validateAttributeType(`${t} condition`,m,"N","S","B");break}m&&(h[n]=m)}return{statement:c,attributeNames:i,attributeValues:h}}s(nA,"buildDefaultConditionExpression");function iA(t,e){if(sA(t,e),!Qi.isFunctionOperator(t)||Qi.isFunctionOperator(t)&&!gu.isNoParamFunctionOperator(t))if(e&&Array.isArray(e)&&e.length)aA(t,e);else throw new Error(Cn.dynamicTemplate(Le.ERR_ARITY_DEFAULT,{parameterArity:vu.operatorParameterArity(t),operator:t}))}s(iA,"validateForOperator");Le.ERR_ARITY_IN="expected ${parameterArity} value(s) for operator ${operator}, this is not the right amount of method parameters for this operator (IN operator requires one value of array type)";Le.ERR_ARITY_DEFAULT="expected ${parameterArity} value(s) for operator ${operator}, this is not the right amount of method parameters for this operator";function sA(t,e){if(e==null){if(Qi.isFunctionOperator(t)&&!gu.isNoParamFunctionOperator(t))throw new Error(Cn.dynamicTemplate(Le.ERR_ARITY_DEFAULT,{parameterArity:vu.operatorParameterArity(t),operator:t}))}else if(e&&Array.isArray(e)){let r=vu.operatorParameterArity(t);if(e.length!==r)switch(t){case"IN":throw new Error(Cn.dynamicTemplate(Le.ERR_ARITY_IN,{parameterArity:r,operator:t}));default:throw new Error(Cn.dynamicTemplate(Le.ERR_ARITY_DEFAULT,{parameterArity:r,operator:t}))}}}s(sA,"validateArity");Le.ERR_VALUES_BETWEEN_TYPE="both values for operator BETWEEN must have the same type, got ${value1} and ${value2}";Le.ERR_VALUES_IN="the provided value for IN operator must be an array";function aA(t,e){switch(t){case"BETWEEN":if(Ji.typeOf(e[0])!==Ji.typeOf(e[1]))throw new Error(Cn.dynamicTemplate(Le.ERR_VALUES_BETWEEN_TYPE,{value1:Ji.typeOf(e[0]),value2:Ji.typeOf(e[1])}));break;case"IN":if(!Array.isArray(e[0]))throw new Error(Le.ERR_VALUES_IN)}}s(aA,"validateValues")});var Gy=v(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});function oA(t){return Object.keys(t||{}).length===0}s(oA,"isEmpty");bu.isEmpty=oA});var Hy=v(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});var uA=_n();function cA(t,e){let r={},n=t.statement;if(e.ExpressionAttributeValues){let i=Object.keys(e.ExpressionAttributeValues);Object.keys(t.attributeValues).map(a=>[a,uA.uniqueAttributeValueName(a.replace(":",""),i)]).forEach(([a,o])=>{r[o]=t.attributeValues[a],n=n.split(a).join(o)})}else r=t.attributeValues;return Object.assign({},t,{attributeValues:r,statement:n})}s(cA,"resolveAttributeValueNameConflicts");_u.resolveAttributeValueNameConflicts=cA});var Cr=v(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var Xy=Gy(),lA=Rs(),pA=Hy();function fA(t,e){zy("UpdateExpression",t,e)}s(fA,"addUpdateExpression");xn.addUpdateExpression=fA;function zy(t,e,r){let n=pA.resolveAttributeValueNameConflicts(e,r),i=Object.assign({},r.ExpressionAttributeNames,n.attributeNames),a=Object.assign({},r.ExpressionAttributeValues,n.attributeValues);Xy.isEmpty(i)||(r.ExpressionAttributeNames=i),Xy.isEmpty(a)||(r.ExpressionAttributeValues=a);let o=r[t];if(lA.isString(o)&&o!=="")switch(t){case"UpdateExpression":r[t]=$y(o,n.statement);break;default:r[t]=`${o} AND ${n.statement}`}else r[t]=n.statement}s(zy,"addExpression");xn.addExpression=zy;function $y(t,e){let r=Yy(t),n=Yy(e);return Array.from(new Set([...Object.keys(r),...Object.keys(n)])).map(i=>`${i} `+(r[i]?n[i]?`${r[i]}, ${n[i]}`:r[i]:n[i])).join(" ")}s($y,"mergeUpdateExpressions");xn.mergeUpdateExpressions=$y;function Yy(t){return` ${t}`.split(/\s(SET|REMOVE|ADD|DELETE)\s/g).reduce((e,r,n,i)=>(dA(r)&&(e[r]=i[n+1]),e),{})}s(Yy,"splitUpdateExpressionToActionKeyword");function dA(t){return/^(SET|REMOVE|ADD|DELETE)$/.test(t)}s(dA,"isUpdateActionKeyword")});var Zi=v(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});var hA=Cr();function mA(t,e,r){if(r&&r.length){let n=r.map(c=>c(e.ExpressionAttributeNames,t)).reduce((c,p)=>{let h=p.type;return c.has(h)||c.set(h,[]),c.get(h).push(p),c},new Map),i=[],a={},o={};for(let[c,p]of n){let h=[];p&&p.length&&(p.forEach(m=>{h.push(m.statement),a=Object.assign({},a,m.attributeValues),o=Object.assign({},o,m.attributeNames)}),i.push(`${c} ${h.join(", ")}`))}let u={statement:i.join(" "),attributeValues:a,attributeNames:o};hA.addUpdateExpression(u,e)}else throw new Error("at least one update operation must be defined")}s(mA,"prepareAndAddUpdateExpressions");Su.prepareAndAddUpdateExpressions=mA});var Tu=v(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.OPERATOR_TO_ALIAS_MAP={"=":["equals","eq"],"<>":"ne","<=":"lte","<":"lt",">=":"gte",">":"gt",attribute_not_exists:["attributeNotExists","null"],attribute_exists:["attributeExists","notNull"],attribute_type:"type",contains:"contains",not_contains:"notContains",IN:"in",begins_with:"beginsWith",BETWEEN:"between"}});var xu=v(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});var Cu=class{constructor(e,r){this.actionKeyword=e,this.action=r}};s(Cu,"UpdateActionDef");Au.UpdateActionDef=Cu});var Iu=v(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});var Kt=xu();wu.UPDATE_ACTION_DEFS=[new Kt.UpdateActionDef("SET","incrementBy"),new Kt.UpdateActionDef("SET","decrementBy"),new Kt.UpdateActionDef("SET","set"),new Kt.UpdateActionDef("SET","appendToList"),new Kt.UpdateActionDef("REMOVE","remove"),new Kt.UpdateActionDef("REMOVE","removeFromListAt"),new Kt.UpdateActionDef("ADD","add"),new Kt.UpdateActionDef("DELETE","removeFromSet")]});var Ct=v(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});var Du=iu(),Jy=hu(),yA=Cr(),gA=Zi(),Qy=Tu(),vA=Iu(),Zy=du();function bA(t,e,r){return eg(s(i=>(...a)=>{let o=[...a],c=Du.curry(Zy.buildUpdateExpression)(t,i,o);return gA.prepareAndAddUpdateExpressions(r,e.params,[c]),e},"f"))}s(bA,"addUpdate");Tt.addUpdate=bA;function _A(t,e,r,n){return qu(s(a=>(...o)=>Nu(t,e,r,n,a,...o),"f"))}s(_A,"addCondition");Tt.addCondition=_A;function Ru(t,e,r){return qu(s(i=>(...a)=>Nu("KeyConditionExpression",t,e,r,i,...a),"f"),"=","<=","<",">",">=","begins_with","BETWEEN")}s(Ru,"addSortKeyCondition");Tt.addSortKeyCondition=Ru;function Nu(t,e,r,n,i,...a){let o=[...a],u=r.params.ExpressionAttributeValues?Object.keys(r.params.ExpressionAttributeValues):[],c=Jy.buildFilterExpression(e,i,o,u,n);return yA.addExpression(t,c,r.params),r}s(Nu,"doAddCondition");Tt.doAddCondition=Nu;function SA(t,e,r,n){return n?Ru(t,r,n).equals(e):Ru(t,r).equals(e)}s(SA,"addPartitionKeyCondition");Tt.addPartitionKeyCondition=SA;function EA(t){return eg(s(r=>(...n)=>{let i=[...n];return Du.curry(Zy.buildUpdateExpression)(t,r,i)},"f"))}s(EA,"updateDefinitionFunction");Tt.updateDefinitionFunction=EA;function TA(t){return qu(s(r=>(...n)=>{let i=[...n];return Du.curry(Jy.buildFilterExpression)(t,r,i)},"f"))}s(TA,"propertyDefinitionFunction");Tt.propertyDefinitionFunction=TA;function eg(t){return vA.UPDATE_ACTION_DEFS.reduce((e,r)=>(Reflect.set(e,r.action,t(r)),e),{})}s(eg,"createUpdateFunctions");function qu(t,...e){return(e&&e.length?e:Object.keys(Qy.OPERATOR_TO_ALIAS_MAP)).reduce((n,i)=>{let a=Qy.OPERATOR_TO_ALIAS_MAP[i];return Array.isArray(a)?a.forEach(o=>Reflect.set(n,o,t(i))):Reflect.set(n,a,t(i)),n},{})}s(qu,"createConditionFunctions")});var rg=v(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});var tg=Ct();function CA(t,e){return tg.propertyDefinitionFunction(e)}s(CA,"attribute2");es.attribute2=CA;function AA(t){return tg.propertyDefinitionFunction(t)}s(AA,"attribute");es.attribute=AA});var ng=v(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});function xA(t){return(e,r)=>{let n=t(e,r);return n.statement=`NOT ${n.statement}`,n}}s(xA,"not");Pu.not=xA});var ig=v(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});var wA=tu();function IA(...t){return wA.mergeConditions("OR",t)}s(IA,"or");Ou.or=IA});var ag=v(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});var sg=Ct();function DA(t,e){return sg.updateDefinitionFunction(e)}s(DA,"update2");ts.update2=DA;function RA(t){return sg.updateDefinitionFunction(t)}s(RA,"update");ts.update=RA});var rs=v(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});var wn=Se();wn.__exportStar($i(),sr);wn.__exportStar(rg(),sr);wn.__exportStar(ng(),sr);wn.__exportStar(ig(),sr);wn.__exportStar(ag(),sr)});var ns=v(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});var NA=jt(),qA=vn(),Mu=class extends qA.BaseRequest{constructor(e,r){super(e,r);this.params.TableName=NA.getTableName(this.metadata)}};s(Mu,"StandardRequest");Lu.StandardRequest=Mu});var is=v(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});var ku=Sr(),PA=pe(),OA=rs(),MA=Cr(),LA=Ct(),kA=ns(),Fu=class extends kA.StandardRequest{constructor(e,r){super(e,r)}returnItemCollectionMetrics(e){return this.params.ReturnItemCollectionMetrics=e,this}onlyIfAttribute(e){return LA.addCondition("ConditionExpression",e,this,this.metadata)}onlyIf(...e){let r=OA.and(...e)(void 0,this.metadata);return MA.addExpression("ConditionExpression",r,this.params),this}exec(){return this.execFullResponse().then(e=>e.Item)}execFullResponse(){return this.logger.debug("request",this.params),this.doRequest(this.params).then(ku.promiseTap(e=>this.logger.debug("response",e))).then(e=>{let r=e.Attributes;delete e.Attributes;let n=e;return typeof r=="object"&&r!==null&&(n.Item=PA.fromDb(r,this.modelClazz)),n}).then(ku.promiseTap(e=>this.logger.debug("mapped response",e)))}execNoMap(){return this.logger.debug("request",this.params),this.doRequest(this.params).then(ku.promiseTap(e=>this.logger.debug("response",e)))}};s(Fu,"WriteRequest");Bu.WriteRequest=Fu});var Ku=v(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});var FA=je(),BA=pe(),UA=is(),Uu=class extends UA.WriteRequest{constructor(e,r,n,i){super(e,r);this.logger=FA.createLogger("dynamo.request.DeleteRequest",r),this.params.Key=BA.createKeyAttributes(this.metadata,n,i)}returnValues(e){return this.params.ReturnValues=e,this}doRequest(e){return this.dynamoDBWrapper.deleteItem(e)}};s(Uu,"DeleteRequest");ju.DeleteRequest=Uu});var Hu=v(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});var ss=Sr(),jA=je(),Wu=pe(),KA=Xi(),WA=ns(),Vu=class extends WA.StandardRequest{constructor(e,r,n,i){super(e,r);this.logger=jA.createLogger("dynamo.request.GetRequest",r),this.params.Key=Wu.createKeyAttributes(this.metadata,n,i)}consistentRead(e=!0){return this.params.ConsistentRead=e,this}projectionExpression(...e){return KA.addProjectionExpressionParam(e,this.params,this.metadata),this}execFullResponse(){return this.logger.debug("request",this.params),this.dynamoDBWrapper.getItem(this.params).then(ss.promiseTap(e=>this.logger.debug("response",e))).then(e=>{let r=Object.assign({},e);return e.Item?r.Item=Wu.fromDb(e.Item,this.modelClazz):r.Item=null,r}).then(ss.promiseTap(e=>this.logger.debug("mapped item",e.Item)))}exec(){return this.logger.debug("request",this.params),this.dynamoDBWrapper.getItem(this.params).then(ss.promiseTap(e=>this.logger.debug("response",e))).then(e=>e.Item?Wu.fromDb(e.Item,this.modelClazz):null).then(ss.promiseTap(e=>this.logger.debug("mapped item",e)))}};s(Vu,"GetRequest");Gu.GetRequest=Vu});var zu=v(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});var VA=fr(),og=rs();function GA(t){let e=[og.attribute(t.getPartitionKey()).attributeNotExists()];return VA.hasSortKey(t)&&e.push(og.attribute(t.getSortKey()).attributeNotExists()),e}s(GA,"createIfNotExistsCondition");Xu.createIfNotExistsCondition=GA});var Ju=v(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});var HA=je(),XA=pe(),zA=zu(),$A=is(),$u=class extends $A.WriteRequest{constructor(e,r,n){super(e,r);this.logger=HA.createLogger("dynamo.request.PutRequest",r),this.params.Item=XA.toDb(n,this.modelClazz)}ifNotExists(e=!0){return e&&this.onlyIf(...zA.createIfNotExistsCondition(this.metadata)),this}returnValues(e){return this.params.ReturnValues=e,this}doRequest(e){return this.dynamoDBWrapper.putItem(e)}};s($u,"PutRequest");Yu.PutRequest=$u});var cg=v(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});var YA=In();function ug(t,e){return t.limit(YA.ReadManyRequest.INFINITE_LIMIT),e&&t.exclusiveStartKey(e),t.execFullResponse().then(r=>r.LastEvaluatedKey?ug(t,r.LastEvaluatedKey).then(n=>[...r.Items,...n]):r.Items)}s(ug,"fetchAll");Qu.fetchAll=ug});var In=v(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});var JA=cg(),At=Sr(),QA=pe(),ZA=$i(),ex=Cr(),tx=Ct(),rx=Xi(),nx=ns(),Ar=class extends nx.StandardRequest{constructor(e,r){super(e,r);this.mapFromDb=n=>{let i=Object.assign({},n);return i.Items=(n.Items||[]).map(a=>QA.fromDb(a,this.modelClazz)),i}}exclusiveStartKey(e){return e?this.params.ExclusiveStartKey=e:delete this.params.ExclusiveStartKey,this}index(e){let r=this.metadata.getIndex(e);if(r)this.secondaryIndex=r,this.params.IndexName=e;else throw new Error(`there is no index with name <${e}> defined for model ${this.modelClazz.name}`);return this}limit(e){if(e===Ar.INFINITE_LIMIT)delete this.params.Limit;else if(e!=null&&e>0)this.params.Limit=e;else throw new Error("limit must be a valid positive number");return this}consistentRead(e=!0){return this.params.ConsistentRead=e,this}projectionExpression(...e){return rx.addProjectionExpressionParam(e,this.params,this.metadata),this}whereAttribute(e){return tx.addCondition("FilterExpression",e,this,this.metadata)}where(...e){let r=ZA.and(...e)(void 0,this.metadata);return ex.addExpression("FilterExpression",r,this.params),this}execNoMap(){return this.logger.debug("request (noMap)",this.params),this.doRequest(this.params).then(At.promiseTap(e=>this.logger.debug("response",e)))}execSingle(){let e=Object.assign({},this.params,{Limit:1});return this.logger.debug("single request",e),this.doRequest(e).then(At.promiseTap(r=>this.logger.debug("response",r))).then(this.mapFromDb).then(r=>r.Items&&r.Items.length?r.Items[0]:null).then(At.promiseTap(r=>this.logger.debug("mapped item",r)))}execCount(){let e=Object.assign({},this.params,{Select:"COUNT"});return this.logger.debug("count request",e),this.doRequest(e).then(At.promiseTap(r=>this.logger.debug("response",r))).then(r=>r.Count||0).then(At.promiseTap(r=>this.logger.debug("count",r)))}exec(){return this.logger.debug("request",this.params),this.doRequest(this.params).then(At.promiseTap(e=>this.logger.debug("response",e))).then(this.mapFromDb).then(e=>e.Items).then(At.promiseTap(e=>this.logger.debug("mapped items",e)))}execFullResponse(){return this.logger.debug("request",this.params),this.doRequest(this.params).then(At.promiseTap(e=>this.logger.debug("response",e))).then(this.mapFromDb).then(At.promiseTap(e=>this.logger.debug("mapped items",e.Items)))}execFetchAll(){return JA.fetchAll(this)}};s(Ar,"ReadManyRequest");Ar.INFINITE_LIMIT=-1;Zu.ReadManyRequest=Ar});var rc=v(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});var ix=je(),lg=Ct(),sx=In(),ec=class extends sx.ReadManyRequest{constructor(e,r){super(e,r);this.logger=ix.createLogger("dynamo.request.QueryRequest",r)}wherePartitionKey(e){let r;if(this.secondaryIndex){if(!this.secondaryIndex.partitionKey)throw new Error(`there is no partition key defined for index '${this.params.IndexName}'`);r=this.secondaryIndex.partitionKey}else r=this.metadata.getPartitionKey();return lg.addSortKeyCondition(r,this,this.metadata).equals(e)}whereSortKey(){let e;if(this.secondaryIndex){if(!this.secondaryIndex.sortKey)throw new Error(`there is no sort key defined for index '${this.params.IndexName}'`);e=this.secondaryIndex.sortKey}else e=this.metadata.getSortKey();if(!e)throw new Error("There was no sort key defined for current schema");return lg.addSortKeyCondition(e,this,this.metadata)}ascending(){return this.params.ScanIndexForward=!0,this}descending(){return this.params.ScanIndexForward=!1,this}doRequest(e){return this.dynamoDBWrapper.query(e)}};s(ec,"QueryRequest");tc.QueryRequest=ec});var sc=v(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});var ax=je(),ox=In(),nc=class extends ox.ReadManyRequest{constructor(e,r){super(e,r);this.logger=ax.createLogger("dynamo.request.ScanRequest",r)}doRequest(e){return this.dynamoDBWrapper.scan(e)}};s(nc,"ScanRequest");ic.ScanRequest=nc});var uc=v(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});var pg=pe(),ux=vn(),ac=class extends ux.BaseRequest{constructor(e,r,n){super(e,r);this.mapResponse=i=>({ConsumedCapacity:i.ConsumedCapacity,Items:(i.Responses||[]).map(a=>pg.fromDb(a.Item,this.modelClazz))}),this.params.TransactItems=n.map(i=>({Get:{TableName:this.tableName,Key:pg.createToKeyFn(this.modelClazz)(i)}}))}execNoMap(){return this.dynamoDBWrapper.transactGetItems(this.params)}execFullResponse(){return this.dynamoDBWrapper.transactGetItems(this.params).then(this.mapResponse)}exec(){return this.dynamoDBWrapper.transactGetItems(this.params).then(this.mapResponse).then(e=>e.Items)}};s(ac,"TransactGetSingleTableRequest");oc.TransactGetSingleTableRequest=ac});var pc=v(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});var cx=je(),lx=pe(),px=Zi(),fx=Ct(),dx=is(),cc=class extends dx.WriteRequest{constructor(e,r,n,i){super(e,r);this.logger=cx.createLogger("dynamo.request.UpdateRequest",r),this.params.Key=lx.createKeyAttributes(this.metadata,n,i)}updateAttribute(e){return fx.addUpdate(e,this,this.metadata)}operations(...e){return px.prepareAndAddUpdateExpressions(this.metadata,this.params,e),this}returnValues(e){return this.params.ReturnValues=e,this}doRequest(e){return this.dynamoDBWrapper.updateItem(this.params)}};s(cc,"UpdateRequest");lc.UpdateRequest=cc});var fg=v(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});var hx=Sr(),mx=je(),yx=ir(),gx=jt(),vx=Yo(),bx=My(),_x=Ku(),Sx=Hu(),Ex=Ju(),Tx=rc(),Cx=sc(),Ax=uc(),xx=pc(),fc=class{constructor(e,r){this.modelClazz=e,this.logger=mx.createLogger("dynamo.DynamoStore",e),this.dynamoDBWrapper=new yx.DynamoDbWrapper(r),this.tableName=gx.getTableName(e),this.logger.debug("instance created")}get dynamoDB(){return this.dynamoDBWrapper.dynamoDB}put(e){return new Ex.PutRequest(this.dynamoDBWrapper,this.modelClazz,e)}get(e,r){return new Sx.GetRequest(this.dynamoDBWrapper,this.modelClazz,e,r)}update(e,r){return new xx.UpdateRequest(this.dynamoDBWrapper,this.modelClazz,e,r)}delete(e,r){return new _x.DeleteRequest(this.dynamoDBWrapper,this.modelClazz,e,r)}scan(){return new Cx.ScanRequest(this.dynamoDBWrapper,this.modelClazz)}query(){return new Tx.QueryRequest(this.dynamoDBWrapper,this.modelClazz)}batchGet(e){return new vx.BatchGetSingleTableRequest(this.dynamoDBWrapper,this.modelClazz,e)}batchWrite(){return new bx.BatchWriteSingleTableRequest(this.dynamoDBWrapper,this.modelClazz)}transactGet(e){return new Ax.TransactGetSingleTableRequest(this.dynamoDBWrapper,this.modelClazz,e)}makeRequest(e,r){return this.logger.debug("request",r),this.dynamoDBWrapper.makeRequest(e,r).then(hx.promiseTap(n=>this.logger.debug("response",n)))}};s(fc,"DynamoStore");dc.DynamoStore=fc});var dg=v(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});var hc=Se();hc.__exportStar(Tu(),Dn);hc.__exportStar(xu(),Dn);hc.__exportStar(Iu(),Dn)});var hg=v(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});var mc=Se();mc.__exportStar(rs(),Rn);mc.__exportStar(dg(),Rn);mc.__exportStar(yu(),Rn)});var mg=v(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var xt=Se();xt.__exportStar(Ku(),it);xt.__exportStar(Hu(),it);xt.__exportStar(Ju(),it);xt.__exportStar(rc(),it);xt.__exportStar(sc(),it);xt.__exportStar(pc(),it);xt.__exportStar(Yo(),it);xt.__exportStar(In(),it);xt.__exportStar(uc(),it)});var vg=v(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});var wx=Nt(),yg=pe(),Ix=ir(),Dx=jt(),gg=10,yc=class{constructor(e){this.tables=[],this.mapResponse=r=>{let n=r.Responses&&Object.keys(r.Responses).length?r.Responses.map((i,a)=>yg.fromDb(i.Item,this.tables[a])):[];return{ConsumedCapacity:r.ConsumedCapacity,Items:n}},this.dynamoDBWrapper=new Ix.DynamoDbWrapper(e),this.params={TransactItems:[]}}get dynamoDB(){return this.dynamoDBWrapper.dynamoDB}forModel(e,r){let n=wx.metadataForModel(e);if(!n.modelOptions)throw new Error("given ModelConstructor has no @Model decorator");this.tables.push(e);let i=Dx.getTableName(n);if(this.params.TransactItems.length+1>gg)throw new Error(`you can request at max ${gg} items per request`);return this.params.TransactItems.push({Get:{TableName:i,Key:yg.createToKeyFn(e)(r)}}),this}returnConsumedCapacity(e){return this.params.ReturnConsumedCapacity=e,this}execNoMap(){return this.dynamoDBWrapper.transactGetItems(this.params)}execFullResponse(){return this.dynamoDBWrapper.transactGetItems(this.params).then(this.mapResponse)}exec(){return this.dynamoDBWrapper.transactGetItems(this.params).then(this.mapResponse).then(e=>e.Items)}};s(yc,"TransactGetRequest");gc.TransactGetRequest=yc});var bg=v(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});var Rx=Se();Rx.__exportStar(vg(),vc)});var Nn=v(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});var Nx=Nt(),qx=$i(),Px=Cr(),Ox=Ct(),Mx=jt(),bc=class{constructor(e){if(!e)throw new Error("please provide the model class");if(this.modelClazz=e,this.metadata=Nx.metadataForModel(this.modelClazz),!this.metadata.modelOptions)throw new Error("the given model class has no model decorator");this.params={TableName:Mx.getTableName(this.metadata)}}onlyIfAttribute(e){return Ox.addCondition("ConditionExpression",e,this,this.metadata)}onlyIf(...e){let r=qx.and(...e)(void 0,this.metadata);return Px.addExpression("ConditionExpression",r,this.params),this}returnValuesOnConditionCheckFailure(e){return this.params.ReturnValuesOnConditionCheckFailure=e,this}};s(bc,"TransactBaseOperation");_c.TransactBaseOperation=bc});var _g=v(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});var Lx=pe(),kx=Nn(),Sc=class extends kx.TransactBaseOperation{constructor(e,r,n){super(e);this.params.Key=Lx.createKeyAttributes(this.metadata,r,n)}get transactItem(){return{ConditionCheck:Object.assign({},this.params)}}};s(Sc,"TransactConditionCheck");Ec.TransactConditionCheck=Sc});var Sg=v(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});var Fx=pe(),Bx=Nn(),Tc=class extends Bx.TransactBaseOperation{constructor(e,r,n){super(e);this.params.Key=Fx.createKeyAttributes(this.metadata,r,n)}get transactItem(){return{Delete:Object.assign({},this.params)}}};s(Tc,"TransactDelete");Cc.TransactDelete=Tc});var Eg=v(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});var Ux=pe(),jx=zu(),Kx=Nn(),Ac=class extends Kx.TransactBaseOperation{constructor(e,r){super(e);this.params.Item=Ux.toDb(r,this.modelClazz)}ifNotExists(e=!0){return e&&this.onlyIf(...jx.createIfNotExistsCondition(this.metadata)),this}get transactItem(){return{Put:Object.assign({},this.params)}}};s(Ac,"TransactPut");xc.TransactPut=Ac});var Tg=v(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});var Wx=pe(),Vx=Zi(),Gx=Ct(),Hx=Nn(),wc=class extends Hx.TransactBaseOperation{constructor(e,r,n){super(e);this.params.Key=Wx.createKeyAttributes(this.metadata,r,n)}updateAttribute(e){return Gx.addUpdate(e,this,this.metadata)}operations(...e){return Vx.prepareAndAddUpdateExpressions(this.metadata,this.params,e),this}get transactItem(){return{Update:Object.assign({},this.params)}}};s(wc,"TransactUpdate");Ic.TransactUpdate=wc});var Cg=v(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});var Xx=ir(),Dc=class{get dynamoDB(){return this.dynamoDBWrapper.dynamoDB}constructor(e){this.dynamoDBWrapper=new Xx.DynamoDbWrapper(e),this.params={TransactItems:[]}}returnConsumedCapacity(e){return this.params.ReturnConsumedCapacity=e,this}returnItemCollectionMetrics(e){return this.params.ReturnItemCollectionMetrics=e,this}transact(...e){if(!e||e.length===0)throw new Error("at least one transaction operation must be added");if(this.params.TransactItems.length+e.length>25)throw new Error(`Each transaction can include up to 25 unique items, including conditions.       Given operations count: ${this.params.TransactItems.length+e.length}`);return this.params.TransactItems.push(...e.map(r=>r.transactItem)),this}execFullResponse(){return this.dynamoDBWrapper.transactWriteItems(this.params)}exec(){return this.dynamoDBWrapper.transactWriteItems(this.params).then(e=>{})}};s(Dc,"TransactWriteRequest");Rc.TransactWriteRequest=Dc});var Ag=v(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});var qn=Se();qn.__exportStar(_g(),ar);qn.__exportStar(Sg(),ar);qn.__exportStar(Eg(),ar);qn.__exportStar(Tg(),ar);qn.__exportStar(Cg(),ar)});var xg=v(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});var Wt=Se();Wt.__exportStar(Ty(),pt);Wt.__exportStar(Ry(),pt);Wt.__exportStar(ir(),pt);Wt.__exportStar(fg(),pt);Wt.__exportStar(hg(),pt);Wt.__exportStar(mg(),pt);Wt.__exportStar(bg(),pt);Wt.__exportStar(Ag(),pt)});var wg=v(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});var zx=Se();zx.__exportStar(Qs(),Nc)});var Ig=v(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});function $x(t){if(t.N)return new Date(parseInt(t.N,10));throw new Error("there is no N(umber) value defiend on given attribute value")}s($x,"dateFromDb");function Yx(t){if(t&&t instanceof Date)return{N:`${t.getTime()}`};throw new Error("the given model value must be an instance of Date")}s(Yx,"dateToDb");qc.dateToNumberMapper={fromDb:$x,toDb:Yx}});var Dg=v(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});var Jx=qt();function Qx(t,e){if(Number.isInteger(t)){if(Jx.hasGenericType(e)&&e.typeInfo.genericType[t]===void 0)throw new Error(`${JSON.stringify(t)} is not a valid value for enum ${e.typeInfo.genericType}`);return{N:t.toString()}}else throw new Error(`only integer is a supported value for an enum, given value: ${JSON.stringify(t)}`)}s(Qx,"enumToDb");function Zx(t,e){if(isNaN(parseInt(t.N,10)))throw new Error(`make sure the value is a N(umber), which is the only supported for EnumMapper right now, given attributeValue: ${JSON.stringify(t)}`);{let r=parseInt(t.N,10);if(e&&e.typeInfo&&e.typeInfo.genericType&&e.typeInfo.genericType[r]===void 0)throw new Error(`${r} is not a valid value for enum ${JSON.stringify(e.typeInfo.genericType)}`);return r}}s(Zx,"enumFromDb");Pc.EnumMapper={fromDb:Zx,toDb:Qx}});var Rg=v(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});var ke=Se();ke.__exportStar(pe(),Ie);ke.__exportStar(bs(),Ie);ke.__exportStar(Ig(),Ie);ke.__exportStar(Un(),Ie);ke.__exportStar(jn(),Ie);ke.__exportStar(Bn(),Ie);ke.__exportStar(Ht(),Ie);ke.__exportStar(xa(),Ie);ke.__exportStar(Ea(),Ie);ke.__exportStar(ma(),Ie);ke.__exportStar(va(),Ie);ke.__exportStar(Ca(),Ie);ke.__exportStar(Dg(),Ie);ke.__exportStar(_a(),Ie)});var Oc=v(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});var Pn=Se();Pn.__exportStar(ml(),or);Pn.__exportStar(rp(),or);Pn.__exportStar(xg(),or);Pn.__exportStar(wg(),or);Pn.__exportStar(Rg(),or)});kg(exports,{handler:()=>t0});var Vc;(function(t){(function(e){var r=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect=="undefined"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(a,o){return function(u,c){typeof a[u]!="function"&&Object.defineProperty(a,u,{configurable:!0,writable:!0,value:c}),o&&o(u,c)}}s(i,"makeExporter")})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",a=n&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",u={__proto__:[]}instanceof Array,c=!o&&!u,p={create:o?function(){return wr(Object.create(null))}:u?function(){return wr({__proto__:null})}:function(){return wr({})},has:c?function(P,l){return r.call(P,l)}:function(P,l){return l in P},get:c?function(P,l){return r.call(P,l)?P[l]:void 0}:function(P,l){return P[l]}},h=Object.getPrototypeOf(Function),m=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",T=!m&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:wt(),D=!m&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Gt(),_=!m&&typeof WeakMap=="function"?WeakMap:os(),S=new _;function q(P,l,d,b){if(ne(d)){if(!Q(P))throw new TypeError;if(!ue(l))throw new TypeError;return H(P,l)}else{if(!Q(P))throw new TypeError;if(!ie(l))throw new TypeError;if(!ie(b)&&!ne(b)&&!_e(b))throw new TypeError;return _e(b)&&(b=void 0),d=R(d),j(P,l,d,b)}}s(q,"decorate"),e("decorate",q);function A(P,l){function d(b,I){if(!ie(b))throw new TypeError;if(!ne(I)&&!be(I))throw new TypeError;Ge(P,l,b,I)}return s(d,"decorator"),d}s(A,"metadata"),e("metadata",A);function y(P,l,d,b){if(!ie(d))throw new TypeError;return ne(b)||(b=R(b)),Ge(P,l,d,b)}s(y,"defineMetadata"),e("defineMetadata",y);function C(P,l,d){if(!ie(l))throw new TypeError;return ne(d)||(d=R(d)),me(P,l,d)}s(C,"hasMetadata"),e("hasMetadata",C);function N(P,l,d){if(!ie(l))throw new TypeError;return ne(d)||(d=R(d)),ye(P,l,d)}s(N,"hasOwnMetadata"),e("hasOwnMetadata",N);function O(P,l,d){if(!ie(l))throw new TypeError;return ne(d)||(d=R(d)),Pe(P,l,d)}s(O,"getMetadata"),e("getMetadata",O);function x(P,l,d){if(!ie(l))throw new TypeError;return ne(d)||(d=R(d)),Y(P,l,d)}s(x,"getOwnMetadata"),e("getOwnMetadata",x);function w(P,l){if(!ie(P))throw new TypeError;return ne(l)||(l=R(l)),He(P,l)}s(w,"getMetadataKeys"),e("getMetadataKeys",w);function E(P,l){if(!ie(P))throw new TypeError;return ne(l)||(l=R(l)),Xe(P,l)}s(E,"getOwnMetadataKeys"),e("getOwnMetadataKeys",E);function G(P,l,d){if(!ie(l))throw new TypeError;ne(d)||(d=R(d));var b=Z(l,d,!1);if(ne(b)||!b.delete(P))return!1;if(b.size>0)return!0;var I=S.get(l);return I.delete(d),I.size>0||S.delete(l),!0}s(G,"deleteMetadata"),e("deleteMetadata",G);function H(P,l){for(var d=P.length-1;d>=0;--d){var b=P[d],I=b(l);if(!ne(I)&&!_e(I)){if(!ue(I))throw new TypeError;l=I}}return l}s(H,"DecorateConstructor");function j(P,l,d,b){for(var I=P.length-1;I>=0;--I){var M=P[I],k=M(l,d,b);if(!ne(k)&&!_e(k)){if(!ie(k))throw new TypeError;b=k}}return b}s(j,"DecorateProperty");function Z(P,l,d){var b=S.get(P);if(ne(b)){if(!d)return;b=new T,S.set(P,b)}var I=b.get(l);if(ne(I)){if(!d)return;I=new T,b.set(l,I)}return I}s(Z,"GetOrCreateMetadataMap");function me(P,l,d){var b=ye(P,l,d);if(b)return!0;var I=st(l);return _e(I)?!1:me(P,I,d)}s(me,"OrdinaryHasMetadata");function ye(P,l,d){var b=Z(l,d,!1);return ne(b)?!1:f(b.has(P))}s(ye,"OrdinaryHasOwnMetadata");function Pe(P,l,d){var b=ye(P,l,d);if(b)return Y(P,l,d);var I=st(l);if(!_e(I))return Pe(P,I,d)}s(Pe,"OrdinaryGetMetadata");function Y(P,l,d){var b=Z(l,d,!1);if(!ne(b))return b.get(P)}s(Y,"OrdinaryGetOwnMetadata");function Ge(P,l,d,b){var I=Z(d,b,!0);I.set(P,l)}s(Ge,"OrdinaryDefineOwnMetadata");function He(P,l){var d=Xe(P,l),b=st(P);if(b===null)return d;var I=He(b,l);if(I.length<=0)return d;if(d.length<=0)return I;for(var M=new D,k=[],B=0,F=d;B<F.length;B++){var z=F[B],J=M.has(z);J||(M.add(z),k.push(z))}for(var se=0,X=I;se<X.length;se++){var z=X[se],J=M.has(z);J||(M.add(z),k.push(z))}return k}s(He,"OrdinaryMetadataKeys");function Xe(P,l){var d=[],b=Z(P,l,!1);if(ne(b))return d;for(var I=b.keys(),M=ze(I),k=0;;){var B=Ne(M);if(!B)return d.length=k,d;var F=de(B);try{d[k]=F}catch(z){try{$(M)}finally{throw z}}k++}}s(Xe,"OrdinaryOwnMetadataKeys");function De(P){if(P===null)return 1;switch(typeof P){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return P===null?1:6;default:return 6}}s(De,"Type");function ne(P){return P===void 0}s(ne,"IsUndefined");function _e(P){return P===null}s(_e,"IsNull");function Ue(P){return typeof P=="symbol"}s(Ue,"IsSymbol");function ie(P){return typeof P=="object"?P!==null:typeof P=="function"}s(ie,"IsObject");function ft(P,l){switch(De(P)){case 0:return P;case 1:return P;case 2:return P;case 3:return P;case 4:return P;case 5:return P}var d=l===3?"string":l===5?"number":"default",b=Re(P,i);if(b!==void 0){var I=b.call(P,d);if(ie(I))throw new TypeError;return I}return g(P,d==="default"?"number":d)}s(ft,"ToPrimitive");function g(P,l){if(l==="string"){var d=P.toString;if(te(d)){var b=d.call(P);if(!ie(b))return b}var I=P.valueOf;if(te(I)){var b=I.call(P);if(!ie(b))return b}}else{var I=P.valueOf;if(te(I)){var b=I.call(P);if(!ie(b))return b}var M=P.toString;if(te(M)){var b=M.call(P);if(!ie(b))return b}}throw new TypeError}s(g,"OrdinaryToPrimitive");function f(P){return!!P}s(f,"ToBoolean");function L(P){return""+P}s(L,"ToString");function R(P){var l=ft(P,3);return Ue(l)?l:L(l)}s(R,"ToPropertyKey");function Q(P){return Array.isArray?Array.isArray(P):P instanceof Object?P instanceof Array:Object.prototype.toString.call(P)==="[object Array]"}s(Q,"IsArray");function te(P){return typeof P=="function"}s(te,"IsCallable");function ue(P){return typeof P=="function"}s(ue,"IsConstructor");function be(P){switch(De(P)){case 3:return!0;case 4:return!0;default:return!1}}s(be,"IsPropertyKey");function Re(P,l){var d=P[l];if(d!=null){if(!te(d))throw new TypeError;return d}}s(Re,"GetMethod");function ze(P){var l=Re(P,a);if(!te(l))throw new TypeError;var d=l.call(P);if(!ie(d))throw new TypeError;return d}s(ze,"GetIterator");function de(P){return P.value}s(de,"IteratorValue");function Ne(P){var l=P.next();return l.done?!1:l}s(Ne,"IteratorStep");function $(P){var l=P.return;l&&l.call(P)}s($,"IteratorClose");function st(P){var l=Object.getPrototypeOf(P);if(typeof P!="function"||P===h||l!==h)return l;var d=P.prototype,b=d&&Object.getPrototypeOf(d);if(b==null||b===Object.prototype)return l;var I=b.constructor;return typeof I!="function"||I===P?l:I}s(st,"OrdinaryGetPrototypeOf");function wt(){var P={},l=[],d=function(){function k(B,F,z){this._index=0,this._keys=B,this._values=F,this._selector=z}return s(k,"MapIterator"),k.prototype["@@iterator"]=function(){return this},k.prototype[a]=function(){return this},k.prototype.next=function(){var B=this._index;if(B>=0&&B<this._keys.length){var F=this._selector(this._keys[B],this._values[B]);return B+1>=this._keys.length?(this._index=-1,this._keys=l,this._values=l):this._index++,{value:F,done:!1}}return{value:void 0,done:!0}},k.prototype.throw=function(B){throw this._index>=0&&(this._index=-1,this._keys=l,this._values=l),B},k.prototype.return=function(B){return this._index>=0&&(this._index=-1,this._keys=l,this._values=l),{value:B,done:!0}},k}();return function(){function k(){this._keys=[],this._values=[],this._cacheKey=P,this._cacheIndex=-2}return s(k,"Map"),Object.defineProperty(k.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),k.prototype.has=function(B){return this._find(B,!1)>=0},k.prototype.get=function(B){var F=this._find(B,!1);return F>=0?this._values[F]:void 0},k.prototype.set=function(B,F){var z=this._find(B,!0);return this._values[z]=F,this},k.prototype.delete=function(B){var F=this._find(B,!1);if(F>=0){for(var z=this._keys.length,J=F+1;J<z;J++)this._keys[J-1]=this._keys[J],this._values[J-1]=this._values[J];return this._keys.length--,this._values.length--,B===this._cacheKey&&(this._cacheKey=P,this._cacheIndex=-2),!0}return!1},k.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=P,this._cacheIndex=-2},k.prototype.keys=function(){return new d(this._keys,this._values,b)},k.prototype.values=function(){return new d(this._keys,this._values,I)},k.prototype.entries=function(){return new d(this._keys,this._values,M)},k.prototype["@@iterator"]=function(){return this.entries()},k.prototype[a]=function(){return this.entries()},k.prototype._find=function(B,F){return this._cacheKey!==B&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=B)),this._cacheIndex<0&&F&&(this._cacheIndex=this._keys.length,this._keys.push(B),this._values.push(void 0)),this._cacheIndex},k}();function b(k,B){return k}function I(k,B){return B}function M(k,B){return[k,B]}}s(wt,"CreateMapPolyfill");function Gt(){return function(){function P(){this._map=new T}return s(P,"Set"),Object.defineProperty(P.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),P.prototype.has=function(l){return this._map.has(l)},P.prototype.add=function(l){return this._map.set(l,l),this},P.prototype.delete=function(l){return this._map.delete(l)},P.prototype.clear=function(){this._map.clear()},P.prototype.keys=function(){return this._map.keys()},P.prototype.values=function(){return this._map.values()},P.prototype.entries=function(){return this._map.entries()},P.prototype["@@iterator"]=function(){return this.keys()},P.prototype[a]=function(){return this.keys()},P}()}s(Gt,"CreateSetPolyfill");function os(){var P=16,l=p.create(),d=b();return function(){function F(){this._key=b()}return s(F,"WeakMap"),F.prototype.has=function(z){var J=I(z,!1);return J!==void 0?p.has(J,this._key):!1},F.prototype.get=function(z){var J=I(z,!1);return J!==void 0?p.get(J,this._key):void 0},F.prototype.set=function(z,J){var se=I(z,!0);return se[this._key]=J,this},F.prototype.delete=function(z){var J=I(z,!1);return J!==void 0?delete J[this._key]:!1},F.prototype.clear=function(){this._key=b()},F}();function b(){var F;do F="@@WeakMap@@"+B();while(p.has(l,F));return l[F]=!0,F}function I(F,z){if(!r.call(F,d)){if(!z)return;Object.defineProperty(F,d,{value:p.create()})}return F[d]}function M(F,z){for(var J=0;J<z;++J)F[J]=Math.random()*255|0;return F}function k(F){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(F)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(F)):M(new Uint8Array(F),F):M(new Array(F),F)}function B(){var F=k(P);F[6]=F[6]&79|64,F[8]=F[8]&191|128;for(var z="",J=0;J<P;++J){var se=F[J];(J===4||J===6||J===8)&&(z+="-"),se<16&&(z+="0"),z+=se.toString(16).toLowerCase()}return z}}s(os,"CreateWeakMapPolyfill");function wr(P){return P.__=void 0,delete P.__,P}s(wr,"MakeDictionary")})})(Vc||(Vc={}));var Ng=Wc(Oc());var xr=Wc(Oc()),Vt=class{constructor(e,r,n,i,a,o){this.pk=e,this.sk=r,this.firstName=n,this.lastName=i,this.phone=a,this.email=o}};s(Vt,"Employee"),Mn([(0,xr.PartitionKey)()],Vt.prototype,"pk",2),Mn([(0,xr.SortKey)()],Vt.prototype,"sk",2),Vt=Mn([(0,xr.Model)({tableName:"employee"})],Vt);var as=class{constructor(){this.store=new Ng.DynamoStore(Vt)}async get(e){let r=e.id;return this.store.get(r,r).exec()}};s(as,"EmployeeService");var e0=new as,t0=s(async t=>{console.log("Event: ",JSON.stringify(t,null,2));let e=JSON.parse(t.body),r=await e0.get({id:e.id});return{statusCode:200,body:JSON.stringify({success:!0,data:r})}},"handler");0&&(module.exports={handler});
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
//# sourceMappingURL=index.js.map
